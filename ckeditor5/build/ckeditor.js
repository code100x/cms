(function(t) {const e=t["en"]=t["en"]||{}; e.dictionary=Object.assign(e.dictionary||{},{"(may require <kbd>Fn</kbd>)": "(may require <kbd>Fn</kbd>)","%0 of %1": "%0 of %1",Accept: "Accept",Accessibility: "Accessibility","Accessibility help": "Accessibility help","Align cell text to the bottom": "Align cell text to the bottom","Align cell text to the center": "Align cell text to the center","Align cell text to the left": "Align cell text to the left","Align cell text to the middle": "Align cell text to the middle","Align cell text to the right": "Align cell text to the right","Align cell text to the top": "Align cell text to the top","Align center": "Align center","Align left": "Align left","Align right": "Align right","Align table to the left": "Align table to the left","Align table to the right": "Align table to the right",Alignment: "Alignment",Aquamarine: "Aquamarine",Background: "Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.": "Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black: "Black",Blue: "Blue","Blue marker": "Blue marker",Bold: "Bold","Bold text": "Bold text",Border: "Border","Break text": "Break text",Cancel: "Cancel","Caption for image: %0": "Caption for image: %0","Caption for the image": "Caption for the image","Cell properties": "Cell properties","Center table": "Center table","Centered image": "Centered image","Change image text alternative": "Change image text alternative","Choose heading": "Choose heading",Clear: "Clear","Click to edit block": "Click to edit block",Close: "Close","Close contextual balloons, dropdowns, and dialogs": "Close contextual balloons, dropdowns, and dialogs",Code: "Code","Code block": "Code block",Color: "Color","Color picker": "Color picker",Column: "Column","Content editing keystrokes": "Content editing keystrokes","Copy selected content": "Copy selected content","Create link": "Create link",Dashed: "Dashed","Delete column": "Delete column","Delete row": "Delete row","Dim grey": "Dim grey",Dimensions: "Dimensions",Dotted: "Dotted",Double: "Double",Downloadable: "Downloadable","Drag to move": "Drag to move","Dropdown toolbar": "Dropdown toolbar","Edit block": "Edit block","Edit link": "Edit link","Editor block content toolbar": "Editor block content toolbar","Editor contextual toolbar": "Editor contextual toolbar","Editor dialog": "Editor dialog","Editor editing area: %0": "Editor editing area: %0","Editor menu bar": "Editor menu bar","Editor toolbar": "Editor toolbar","Enter image caption": "Enter image caption","Enter table caption": "Enter table caption","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.": "Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Full size image": "Full size image",Green: "Green","Green marker": "Green marker","Green pen": "Green pen",Grey: "Grey",Groove: "Groove","Header column": "Header column","Header row": "Header row",Heading: "Heading","Heading 1": "Heading 1","Heading 2": "Heading 2","Heading 3": "Heading 3","Heading 4": "Heading 4","Heading 5": "Heading 5","Heading 6": "Heading 6",Height: "Height","Help Contents. To close this dialog press ESC.": "Help Contents. To close this dialog press ESC.",HEX: "HEX",Highlight: "Highlight","Horizontal text alignment toolbar": "Horizontal text alignment toolbar","Image from computer": "Image from computer","Image resize list": "Image resize list","Image toolbar": "Image toolbar","image widget": "image widget","In line": "In line",Insert: "Insert","Insert a hard break (a new paragraph)": "Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget": "Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget": "Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)": "Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)": "Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert code block": "Insert code block","Insert column left": "Insert column left","Insert column right": "Insert column right","Insert image": "Insert image","Insert image via URL": "Insert image via URL","Insert paragraph after block": "Insert paragraph after block","Insert paragraph before block": "Insert paragraph before block","Insert row above": "Insert row above","Insert row below": "Insert row below","Insert table": "Insert table",Inset: "Inset",Italic: "Italic","Italic text": "Italic text",Justify: "Justify","Justify cell text": "Justify cell text","Keystrokes that can be used in a table cell": "Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)": "Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Left aligned image": "Left aligned image","Light blue": "Light blue","Light green": "Light green","Light grey": "Light grey",Link: "Link","Link image": "Link image","Link URL": "Link URL",MENU_BAR_MENU_EDIT: "Edit",MENU_BAR_MENU_FILE: "File",MENU_BAR_MENU_FONT: "Font",MENU_BAR_MENU_FORMAT: "Format",MENU_BAR_MENU_HELP: "Help",MENU_BAR_MENU_INSERT: "Insert",MENU_BAR_MENU_TEXT: "Text",MENU_BAR_MENU_TOOLS: "Tools",MENU_BAR_MENU_VIEW: "View","Merge cell down": "Merge cell down","Merge cell left": "Merge cell left","Merge cell right": "Merge cell right","Merge cell up": "Merge cell up","Merge cells": "Merge cells","Move focus between form fields (inputs, buttons, etc.)": "Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window": "Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars": "Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars": "Move focus to the toolbar, navigate between toolbars","Move out of a link": "Move out of a link","Move out of an inline code style": "Move out of an inline code style","Move the caret to allow typing directly after a widget": "Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget": "Move the caret to allow typing directly before a widget","Move the selection to the next cell": "Move the selection to the next cell","Move the selection to the previous cell": "Move the selection to the previous cell","Navigate through the table": "Navigate through the table","Navigate through the toolbar or menu bar": "Navigate through the toolbar or menu bar",Next: "Next","No results found": "No results found","No searchable items": "No searchable items",None: "None","Open in a new tab": "Open in a new tab","Open link in new tab": "Open link in new tab","Open the accessibility help dialog": "Open the accessibility help dialog",Orange: "Orange",Original: "Original",Outset: "Outset",Padding: "Padding",Paragraph: "Paragraph","Paste content": "Paste content","Paste content as plain text": "Paste content as plain text","Pink marker": "Pink marker","Plain text": "Plain text","Press %0 for help.": "Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget": "Press Enter to type after or press Shift + Enter to type before the widget",Previous: "Previous",Purple: "Purple",Red: "Red","Red pen": "Red pen",Redo: "Redo","Remove color": "Remove color","Remove highlight": "Remove highlight","Replace from computer": "Replace from computer","Replace image": "Replace image","Replace image from computer": "Replace image from computer","Resize image": "Resize image","Resize image to %0": "Resize image to %0","Resize image to the original size": "Resize image to the original size","Restore default": "Restore default","Revert autoformatting action": "Revert autoformatting action","Rich Text Editor": "Rich Text Editor",Ridge: "Ridge","Right aligned image": "Right aligned image",Row: "Row",Save: "Save","Saving changes": "Saving changes","Select all": "Select all","Select column": "Select column","Select row": "Select row","Show more items": "Show more items","Side image": "Side image",Solid: "Solid","Split cell horizontally": "Split cell horizontally","Split cell vertically": "Split cell vertically",Strikethrough: "Strikethrough","Strikethrough text": "Strikethrough text",Style: "Style",Subscript: "Subscript",Superscript: "Superscript",Table: "Table","Table alignment toolbar": "Table alignment toolbar","Table cell text alignment": "Table cell text alignment","Table properties": "Table properties","Table toolbar": "Table toolbar","Text alignment": "Text alignment","Text alignment toolbar": "Text alignment toolbar","Text alternative": "Text alternative","Text highlight toolbar": "Text highlight toolbar",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".': 'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".','The value is invalid. Try "10px" or "2em" or simply "2".': 'The value is invalid. Try "10px" or "2em" or simply "2".',"These keyboard shortcuts allow for quick access to content editing features.": "These keyboard shortcuts allow for quick access to content editing features.","This link has no URL": "This link has no URL","Toggle caption off": "Toggle caption off","Toggle caption on": "Toggle caption on",Turquoise: "Turquoise","Type or paste your content here.": "Type or paste your content here.","Type your title": "Type your title",Underline: "Underline","Underline text": "Underline text",Undo: "Undo",Unlink: "Unlink",Update: "Update","Update image URL": "Update image URL","Upload failed": "Upload failed","Upload from computer": "Upload from computer","Upload image from computer": "Upload image from computer","Upload in progress": "Upload in progress","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.": "Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes": "User interface and content navigation keystrokes","Vertical text alignment toolbar": "Vertical text alignment toolbar",White: "White","Widget toolbar": "Widget toolbar",Width: "Width","Wrap text": "Wrap text",Yellow: "Yellow","Yellow marker": "Yellow marker"});}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})));
/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function t(e,n) {if (typeof exports==="object"&&typeof module==="object")module.exports=n(); else if (typeof define==="function"&&define.amd)define([],n); else if (typeof exports==="object")exports["ClassicEditor"]=n(); else e["ClassicEditor"]=n();}(self,(() => (() => {const t={5659: (t,e,n) => {const o=n(8156); const i={}; for (const t of Object.keys(o)) {i[o[t]]=t;} const r={rgb: {channels: 3,labels: "rgb"},hsl: {channels: 3,labels: "hsl"},hsv: {channels: 3,labels: "hsv"},hwb: {channels: 3,labels: "hwb"},cmyk: {channels: 4,labels: "cmyk"},xyz: {channels: 3,labels: "xyz"},lab: {channels: 3,labels: "lab"},lch: {channels: 3,labels: "lch"},hex: {channels: 1,labels: ["hex"]},keyword: {channels: 1,labels: ["keyword"]},ansi16: {channels: 1,labels: ["ansi16"]},ansi256: {channels: 1,labels: ["ansi256"]},hcg: {channels: 3,labels: ["h","c","g"]},apple: {channels: 3,labels: ["r16","g16","b16"]},gray: {channels: 1,labels: ["gray"]}}; t.exports=r; for (const t of Object.keys(r)) {if (!("channels"in r[t])) {throw new Error(`missing channels property: ${t}`);} if (!("labels"in r[t])) {throw new Error(`missing channel labels property: ${t}`);} if (r[t].labels.length!==r[t].channels) {throw new Error(`channel and label counts mismatch: ${t}`);} const {channels: e,labels: n}=r[t]; delete r[t].channels; delete r[t].labels; Object.defineProperty(r[t],"channels",{value: e}); Object.defineProperty(r[t],"labels",{value: n});}r.rgb.hsl=function(t) {const e=t[0]/255; const n=t[1]/255; const o=t[2]/255; const i=Math.min(e,n,o); const r=Math.max(e,n,o); const s=r-i; let a; let c; if (r===i) {a=0;} else if (e===r) {a=(n-o)/s;} else if (n===r) {a=2+(o-e)/s;} else if (o===r) {a=4+(e-n)/s;}a=Math.min(a*60,360); if (a<0) {a+=360;} const l=(i+r)/2; if (r===i) {c=0;} else if (l<=0.5) {c=s/(r+i);} else {c=s/(2-r-i);} return [a,c*100,l*100];}; r.rgb.hsv=function(t) {let e; let n; let o; let i; let r; const s=t[0]/255; const a=t[1]/255; const c=t[2]/255; const l=Math.max(s,a,c); const d=l-Math.min(s,a,c); const u=function(t) {return (l-t)/6/d+1/2;}; if (d===0) {i=0; r=0;} else {r=d/l; e=u(s); n=u(a); o=u(c); if (s===l) {i=o-n;} else if (a===l) {i=1/3+e-o;} else if (c===l) {i=2/3+n-e;} if (i<0) {i+=1;} else if (i>1) {i-=1;}} return [i*360,r*100,l*100];}; r.rgb.hwb=function(t) {const e=t[0]; const n=t[1]; let o=t[2]; const i=r.rgb.hsl(t)[0]; const s=1/255*Math.min(e,Math.min(n,o)); o=1-1/255*Math.max(e,Math.max(n,o)); return [i,s*100,o*100];}; r.rgb.cmyk=function(t) {const e=t[0]/255; const n=t[1]/255; const o=t[2]/255; const i=Math.min(1-e,1-n,1-o); const r=(1-e-i)/(1-i)||0; const s=(1-n-i)/(1-i)||0; const a=(1-o-i)/(1-i)||0; return [r*100,s*100,a*100,i*100];}; function s(t,e) {return (t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2;}r.rgb.keyword=function(t) {const e=i[t]; if (e) {return e;} let n=Infinity; let r; for (const e of Object.keys(o)) {const i=o[e]; const a=s(t,i); if (a<n) {n=a; r=e;}} return r;}; r.keyword.rgb=function(t) {return o[t];}; r.rgb.xyz=function(t) {let e=t[0]/255; let n=t[1]/255; let o=t[2]/255; e=e>0.04045?((e+0.055)/1.055)**2.4:e/12.92; n=n>0.04045?((n+0.055)/1.055)**2.4:n/12.92; o=o>0.04045?((o+0.055)/1.055)**2.4:o/12.92; const i=e*0.4124+n*0.3576+o*0.1805; const r=e*0.2126+n*0.7152+o*0.0722; const s=e*0.0193+n*0.1192+o*0.9505; return [i*100,r*100,s*100];}; r.rgb.lab=function(t) {const e=r.rgb.xyz(t); let n=e[0]; let o=e[1]; let i=e[2]; n/=95.047; o/=100; i/=108.883; n=n>0.008856?n**(1/3):7.787*n+16/116; o=o>0.008856?o**(1/3):7.787*o+16/116; i=i>0.008856?i**(1/3):7.787*i+16/116; const s=116*o-16; const a=500*(n-o); const c=200*(o-i); return [s,a,c];}; r.hsl.rgb=function(t) {const e=t[0]/360; const n=t[1]/100; const o=t[2]/100; let i; let r; let s; if (n===0) {s=o*255; return [s,s,s];} if (o<0.5) {i=o*(1+n);} else {i=o+n-o*n;} const a=2*o-i; const c=[0,0,0]; for (let t=0; t<3; t++) {r=e+1/3*-(t-1); if (r<0) {r++;} if (r>1) {r--;} if (6*r<1) {s=a+(i-a)*6*r;} else if (2*r<1) {s=i;} else if (3*r<2) {s=a+(i-a)*(2/3-r)*6;} else {s=a;}c[t]=s*255;} return c;}; r.hsl.hsv=function(t) {const e=t[0]; let n=t[1]/100; let o=t[2]/100; let i=n; const r=Math.max(o,0.01); o*=2; n*=o<=1?o:2-o; i*=r<=1?r:2-r; const s=(o+n)/2; const a=o===0?2*i/(r+i):2*n/(o+n); return [e,a*100,s*100];}; r.hsv.rgb=function(t) {const e=t[0]/60; const n=t[1]/100; let o=t[2]/100; const i=Math.floor(e)%6; const r=e-Math.floor(e); const s=255*o*(1-n); const a=255*o*(1-n*r); const c=255*o*(1-n*(1-r)); o*=255; switch (i) {case 0:return [o,c,s]; case 1:return [a,o,s]; case 2:return [s,o,c]; case 3:return [s,a,o]; case 4:return [c,s,o]; case 5:return [o,s,a];}}; r.hsv.hsl=function(t) {const e=t[0]; const n=t[1]/100; const o=t[2]/100; const i=Math.max(o,0.01); let r; let s; s=(2-n)*o; const a=(2-n)*i; r=n*i; r/=a<=1?a:2-a; r=r||0; s/=2; return [e,r*100,s*100];}; r.hwb.rgb=function(t) {const e=t[0]/360; let n=t[1]/100; let o=t[2]/100; const i=n+o; let r; if (i>1) {n/=i; o/=i;} const s=Math.floor(6*e); const a=1-o; r=6*e-s; if ((s&1)!==0) {r=1-r;} const c=n+r*(a-n); let l; let d; let u; switch (s) {default:case 6:case 0:l=a; d=c; u=n; break; case 1:l=c; d=a; u=n; break; case 2:l=n; d=a; u=c; break; case 3:l=n; d=c; u=a; break; case 4:l=c; d=n; u=a; break; case 5:l=a; d=n; u=c; break;} return [l*255,d*255,u*255];}; r.cmyk.rgb=function(t) {const e=t[0]/100; const n=t[1]/100; const o=t[2]/100; const i=t[3]/100; const r=1-Math.min(1,e*(1-i)+i); const s=1-Math.min(1,n*(1-i)+i); const a=1-Math.min(1,o*(1-i)+i); return [r*255,s*255,a*255];}; r.xyz.rgb=function(t) {const e=t[0]/100; const n=t[1]/100; const o=t[2]/100; let i; let r; let s; i=e*3.2406+n*-1.5372+o*-0.4986; r=e*-0.9689+n*1.8758+o*0.0415; s=e*0.0557+n*-0.204+o*1.057; i=i>0.0031308?1.055*i**(1/2.4)-0.055:i*12.92; r=r>0.0031308?1.055*r**(1/2.4)-0.055:r*12.92; s=s>0.0031308?1.055*s**(1/2.4)-0.055:s*12.92; i=Math.min(Math.max(0,i),1); r=Math.min(Math.max(0,r),1); s=Math.min(Math.max(0,s),1); return [i*255,r*255,s*255];}; r.xyz.lab=function(t) {let e=t[0]; let n=t[1]; let o=t[2]; e/=95.047; n/=100; o/=108.883; e=e>0.008856?e**(1/3):7.787*e+16/116; n=n>0.008856?n**(1/3):7.787*n+16/116; o=o>0.008856?o**(1/3):7.787*o+16/116; const i=116*n-16; const r=500*(e-n); const s=200*(n-o); return [i,r,s];}; r.lab.xyz=function(t) {const e=t[0]; const n=t[1]; const o=t[2]; let i; let r; let s; r=(e+16)/116; i=n/500+r; s=r-o/200; const a=r**3; const c=i**3; const l=s**3; r=a>0.008856?a:(r-16/116)/7.787; i=c>0.008856?c:(i-16/116)/7.787; s=l>0.008856?l:(s-16/116)/7.787; i*=95.047; r*=100; s*=108.883; return [i,r,s];}; r.lab.lch=function(t) {const e=t[0]; const n=t[1]; const o=t[2]; let i; const r=Math.atan2(o,n); i=r*360/2/Math.PI; if (i<0) {i+=360;} const s=Math.sqrt(n*n+o*o); return [e,s,i];}; r.lch.lab=function(t) {const e=t[0]; const n=t[1]; const o=t[2]; const i=o/360*2*Math.PI; const r=n*Math.cos(i); const s=n*Math.sin(i); return [e,r,s];}; r.rgb.ansi16=function(t,e=null) {const [n,o,i]=t; let s=e===null?r.rgb.hsv(t)[2]:e; s=Math.round(s/50); if (s===0) {return 30;} let a=30+(Math.round(i/255)<<2|Math.round(o/255)<<1|Math.round(n/255)); if (s===2) {a+=60;} return a;}; r.hsv.ansi16=function(t) {return r.rgb.ansi16(r.hsv.rgb(t),t[2]);}; r.rgb.ansi256=function(t) {const e=t[0]; const n=t[1]; const o=t[2]; if (e===n&&n===o) {if (e<8) {return 16;} if (e>248) {return 231;} return Math.round((e-8)/247*24)+232;} const i=16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(o/255*5); return i;}; r.ansi16.rgb=function(t) {let e=t%10; if (e===0||e===7) {if (t>50) {e+=3.5;}e=e/10.5*255; return [e,e,e];} const n=(~~(t>50)+1)*0.5; const o=(e&1)*n*255; const i=(e>>1&1)*n*255; const r=(e>>2&1)*n*255; return [o,i,r];}; r.ansi256.rgb=function(t) {if (t>=232) {const e=(t-232)*10+8; return [e,e,e];}t-=16; let e; const n=Math.floor(t/36)/5*255; const o=Math.floor((e=t%36)/6)/5*255; const i=e%6/5*255; return [n,o,i];}; r.rgb.hex=function(t) {const e=((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255); const n=e.toString(16).toUpperCase(); return "000000".substring(n.length)+n;}; r.hex.rgb=function(t) {const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i); if (!e) {return [0,0,0];} let n=e[0]; if (e[0].length===3) {n=n.split("").map((t => t+t)).join("");} const o=parseInt(n,16); const i=o>>16&255; const r=o>>8&255; const s=o&255; return [i,r,s];}; r.rgb.hcg=function(t) {const e=t[0]/255; const n=t[1]/255; const o=t[2]/255; const i=Math.max(Math.max(e,n),o); const r=Math.min(Math.min(e,n),o); const s=i-r; let a; let c; if (s<1) {a=r/(1-s);} else {a=0;} if (s<=0) {c=0;} else if (i===e) {c=(n-o)/s%6;} else if (i===n) {c=2+(o-e)/s;} else {c=4+(e-n)/s;}c/=6; c%=1; return [c*360,s*100,a*100];}; r.hsl.hcg=function(t) {const e=t[1]/100; const n=t[2]/100; const o=n<0.5?2*e*n:2*e*(1-n); let i=0; if (o<1) {i=(n-0.5*o)/(1-o);} return [t[0],o*100,i*100];}; r.hsv.hcg=function(t) {const e=t[1]/100; const n=t[2]/100; const o=e*n; let i=0; if (o<1) {i=(n-o)/(1-o);} return [t[0],o*100,i*100];}; r.hcg.rgb=function(t) {const e=t[0]/360; const n=t[1]/100; const o=t[2]/100; if (n===0) {return [o*255,o*255,o*255];} const i=[0,0,0]; const r=e%1*6; const s=r%1; const a=1-s; let c=0; switch (Math.floor(r)) {case 0:i[0]=1; i[1]=s; i[2]=0; break; case 1:i[0]=a; i[1]=1; i[2]=0; break; case 2:i[0]=0; i[1]=1; i[2]=s; break; case 3:i[0]=0; i[1]=a; i[2]=1; break; case 4:i[0]=s; i[1]=0; i[2]=1; break; default:i[0]=1; i[1]=0; i[2]=a;}c=(1-n)*o; return [(n*i[0]+c)*255,(n*i[1]+c)*255,(n*i[2]+c)*255];}; r.hcg.hsv=function(t) {const e=t[1]/100; const n=t[2]/100; const o=e+n*(1-e); let i=0; if (o>0) {i=e/o;} return [t[0],i*100,o*100];}; r.hcg.hsl=function(t) {const e=t[1]/100; const n=t[2]/100; const o=n*(1-e)+0.5*e; let i=0; if (o>0&&o<0.5) {i=e/(2*o);} else if (o>=0.5&&o<1) {i=e/(2*(1-o));} return [t[0],i*100,o*100];}; r.hcg.hwb=function(t) {const e=t[1]/100; const n=t[2]/100; const o=e+n*(1-e); return [t[0],(o-e)*100,(1-o)*100];}; r.hwb.hcg=function(t) {const e=t[1]/100; const n=t[2]/100; const o=1-n; const i=o-e; let r=0; if (i<1) {r=(o-i)/(1-i);} return [t[0],i*100,r*100];}; r.apple.rgb=function(t) {return [t[0]/65535*255,t[1]/65535*255,t[2]/65535*255];}; r.rgb.apple=function(t) {return [t[0]/255*65535,t[1]/255*65535,t[2]/255*65535];}; r.gray.rgb=function(t) {return [t[0]/100*255,t[0]/100*255,t[0]/100*255];}; r.gray.hsl=function(t) {return [0,0,t[0]];}; r.gray.hsv=r.gray.hsl; r.gray.hwb=function(t) {return [0,100,t[0]];}; r.gray.cmyk=function(t) {return [0,0,0,t[0]];}; r.gray.lab=function(t) {return [t[0],0,0];}; r.gray.hex=function(t) {const e=Math.round(t[0]/100*255)&255; const n=(e<<16)+(e<<8)+e; const o=n.toString(16).toUpperCase(); return "000000".substring(o.length)+o;}; r.rgb.gray=function(t) {const e=(t[0]+t[1]+t[2])/3; return [e/255*100];};},734: (t,e,n) => {const o=n(5659); const i=n(8507); const r={}; const s=Object.keys(o); function a(t) {const e=function(...e) {const n=e[0]; if (n===undefined||n===null) {return n;} if (n.length>1) {e=n;} return t(e);}; if ("conversion"in t) {e.conversion=t.conversion;} return e;} function c(t) {const e=function(...e) {const n=e[0]; if (n===undefined||n===null) {return n;} if (n.length>1) {e=n;} const o=t(e); if (typeof o==="object") {for (let t=o.length,e=0; e<t; e++) {o[e]=Math.round(o[e]);}} return o;}; if ("conversion"in t) {e.conversion=t.conversion;} return e;}s.forEach((t => {r[t]={}; Object.defineProperty(r[t],"channels",{value: o[t].channels}); Object.defineProperty(r[t],"labels",{value: o[t].labels}); const e=i(t); const n=Object.keys(e); n.forEach((n => {const o=e[n]; r[t][n]=c(o); r[t][n].raw=a(o);}));})); t.exports=r;},8507: (t,e,n) => {const o=n(5659); function i() {const t={}; const e=Object.keys(o); for (let n=e.length,o=0; o<n; o++) {t[e[o]]={distance: -1,parent: null};} return t;} function r(t) {const e=i(); const n=[t]; e[t].distance=0; while (n.length) {const t=n.pop(); const i=Object.keys(o[t]); for (let o=i.length,r=0; r<o; r++) {const o=i[r]; const s=e[o]; if (s.distance===-1) {s.distance=e[t].distance+1; s.parent=t; n.unshift(o);}}} return e;} function s(t,e) {return function(n) {return e(t(n));};} function a(t,e) {const n=[e[t].parent,t]; let i=o[e[t].parent][t]; let r=e[t].parent; while (e[r].parent) {n.unshift(e[r].parent); i=s(o[e[r].parent][r],i); r=e[r].parent;}i.conversion=n; return i;}t.exports=function(t) {const e=r(t); const n={}; const o=Object.keys(e); for (let t=o.length,i=0; i<t; i++) {const t=o[i]; const r=e[t]; if (r.parent===null) {continue;}n[t]=a(t,e);} return n;};},8156: t => {"use strict"; t.exports={aliceblue: [240,248,255],antiquewhite: [250,235,215],aqua: [0,255,255],aquamarine: [127,255,212],azure: [240,255,255],beige: [245,245,220],bisque: [255,228,196],black: [0,0,0],blanchedalmond: [255,235,205],blue: [0,0,255],blueviolet: [138,43,226],brown: [165,42,42],burlywood: [222,184,135],cadetblue: [95,158,160],chartreuse: [127,255,0],chocolate: [210,105,30],coral: [255,127,80],cornflowerblue: [100,149,237],cornsilk: [255,248,220],crimson: [220,20,60],cyan: [0,255,255],darkblue: [0,0,139],darkcyan: [0,139,139],darkgoldenrod: [184,134,11],darkgray: [169,169,169],darkgreen: [0,100,0],darkgrey: [169,169,169],darkkhaki: [189,183,107],darkmagenta: [139,0,139],darkolivegreen: [85,107,47],darkorange: [255,140,0],darkorchid: [153,50,204],darkred: [139,0,0],darksalmon: [233,150,122],darkseagreen: [143,188,143],darkslateblue: [72,61,139],darkslategray: [47,79,79],darkslategrey: [47,79,79],darkturquoise: [0,206,209],darkviolet: [148,0,211],deeppink: [255,20,147],deepskyblue: [0,191,255],dimgray: [105,105,105],dimgrey: [105,105,105],dodgerblue: [30,144,255],firebrick: [178,34,34],floralwhite: [255,250,240],forestgreen: [34,139,34],fuchsia: [255,0,255],gainsboro: [220,220,220],ghostwhite: [248,248,255],gold: [255,215,0],goldenrod: [218,165,32],gray: [128,128,128],green: [0,128,0],greenyellow: [173,255,47],grey: [128,128,128],honeydew: [240,255,240],hotpink: [255,105,180],indianred: [205,92,92],indigo: [75,0,130],ivory: [255,255,240],khaki: [240,230,140],lavender: [230,230,250],lavenderblush: [255,240,245],lawngreen: [124,252,0],lemonchiffon: [255,250,205],lightblue: [173,216,230],lightcoral: [240,128,128],lightcyan: [224,255,255],lightgoldenrodyellow: [250,250,210],lightgray: [211,211,211],lightgreen: [144,238,144],lightgrey: [211,211,211],lightpink: [255,182,193],lightsalmon: [255,160,122],lightseagreen: [32,178,170],lightskyblue: [135,206,250],lightslategray: [119,136,153],lightslategrey: [119,136,153],lightsteelblue: [176,196,222],lightyellow: [255,255,224],lime: [0,255,0],limegreen: [50,205,50],linen: [250,240,230],magenta: [255,0,255],maroon: [128,0,0],mediumaquamarine: [102,205,170],mediumblue: [0,0,205],mediumorchid: [186,85,211],mediumpurple: [147,112,219],mediumseagreen: [60,179,113],mediumslateblue: [123,104,238],mediumspringgreen: [0,250,154],mediumturquoise: [72,209,204],mediumvioletred: [199,21,133],midnightblue: [25,25,112],mintcream: [245,255,250],mistyrose: [255,228,225],moccasin: [255,228,181],navajowhite: [255,222,173],navy: [0,0,128],oldlace: [253,245,230],olive: [128,128,0],olivedrab: [107,142,35],orange: [255,165,0],orangered: [255,69,0],orchid: [218,112,214],palegoldenrod: [238,232,170],palegreen: [152,251,152],paleturquoise: [175,238,238],palevioletred: [219,112,147],papayawhip: [255,239,213],peachpuff: [255,218,185],peru: [205,133,63],pink: [255,192,203],plum: [221,160,221],powderblue: [176,224,230],purple: [128,0,128],rebeccapurple: [102,51,153],red: [255,0,0],rosybrown: [188,143,143],royalblue: [65,105,225],saddlebrown: [139,69,19],salmon: [250,128,114],sandybrown: [244,164,96],seagreen: [46,139,87],seashell: [255,245,238],sienna: [160,82,45],silver: [192,192,192],skyblue: [135,206,235],slateblue: [106,90,205],slategray: [112,128,144],slategrey: [112,128,144],snow: [255,250,250],springgreen: [0,255,127],steelblue: [70,130,180],tan: [210,180,140],teal: [0,128,128],thistle: [216,191,216],tomato: [255,99,71],turquoise: [64,224,208],violet: [238,130,238],wheat: [245,222,179],white: [255,255,255],whitesmoke: [245,245,245],yellow: [255,255,0],yellowgreen: [154,205,50]};},2165: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-basic-styles/theme/code.css"],names: [],mappings: "AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content code {\n\tbackground-color: hsla(0, 0%, 78%, 0.3);\n\tpadding: .15em;\n\tborder-radius: 2px;\n}\n\n.ck.ck-editor__editable .ck-code_selected  {\n\tbackground-color: hsla(0, 0%, 78%, 0.5);\n}\n"],sourceRoot: ""}]); const c=a;},8643: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-clipboard/theme/clipboard.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names: [],mappings: "AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\tposition: absolute;\n\tpointer-events: none;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\";\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\theight: 0;\n\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\tbackground: var(--ck-clipboard-drop-target-color);\n\tmargin-top: -1px;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-style: solid;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tleft: -1px;\n\n\t\t\tborder-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);\n\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tright: -1px;\n\n\t\t\tborder-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;\n\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},2440: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-code-block/theme/codeblock.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-code-block/codeblock.css"],names: [],mappings: "AAKA,gBAGC,4BAAiC,CACjC,wBAAiC,CACjC,iBAAkB,CAHlB,aAAwB,CAOxB,aAAc,CAMd,iBAAkB,CAGlB,eAAgB,CAjBhB,WAAY,CAUZ,UAAW,CAHX,eAAgB,CAIhB,oBAaD,CALC,qBACC,gBAAiB,CAEjB,eAAgB,CADhB,SAED,CAGD,4BACC,iBAMD,CAJC,iDACC,2BAA4B,CAC5B,iBACD,CCjCD,MACC,8CACD,CAEA,iDAGC,sDAAuD,CAMvD,UAAuB,CAHvB,+BAAgC,CADhC,cAAe,CAEf,gBAAiB,CACjB,uDAAwD,CANxD,UAAW,CADX,QAAS,CAST,kBACD,CAEA,+CAEC,gBAAiB,CAEjB,iBAAkB,CADlB,eAED",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content pre {\n\tpadding: 1em;\n\tcolor: hsl(0, 0%, 20.8%);\n\tbackground: hsla(0, 0%, 78%, 0.3);\n\tborder: 1px solid hsl(0, 0%, 77%);\n\tborder-radius: 2px;\n\n\t/* Code block are language direction–agnostic. */\n\ttext-align: left;\n\tdirection: ltr;\n\n\ttab-size: 4;\n\twhite-space: pre-wrap;\n\n\t/* Don't inherit the style, e.g. when in a block quote. */\n\tfont-style: normal;\n\n\t/* Don't let the code be squashed e.g. when in a table cell. */\n\tmin-width: 200px;\n\n\t& code {\n\t\tbackground: unset;\n\t\tpadding: 0;\n\t\tborder-radius: 0;\n\t}\n}\n\n.ck.ck-editor__editable pre {\n\tposition: relative;\n\n\t&[data-language]::after {\n\t\tcontent: attr(data-language);\n\t\tposition: absolute;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-code-block-label-background: hsl(0, 0%, 46%);\n}\n\n.ck.ck-editor__editable pre[data-language]::after {\n\ttop: -1px;\n\tright: 10px;\n\tbackground: var(--ck-color-code-block-label-background);\n\n\tfont-size: 10px;\n\tfont-family: var(--ck-font-face);\n\tline-height: 16px;\n\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-medium);\n\tcolor: hsl(0, 0%, 100%);\n\twhite-space: nowrap;\n}\n\n.ck.ck-code-block-dropdown .ck-dropdown__panel {\n\t/* There could be dozens of languages available. Use scroll to prevent a 10e6px dropdown. */\n\tmax-height: 250px;\n\toverflow-y: auto;\n\toverflow-x: hidden;\n}\n"],sourceRoot: ""}]); const c=a;},3394: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-editor-classic/theme/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-panel);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-sticky-panel__content {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\tborder-bottom-width: 0;\n\n\t\t\t&.ck-sticky-panel__content_sticky {\n\t\t\t\tborder-bottom-width: 1px;\n\t\t\t}\n\n\t\t\t& .ck-menu-bar,\n\t\t\t& .ck-toolbar {\n\t\t\t\tborder: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},1920: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/placeholder.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names: [],mappings: "AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t&::before {\n\t\tcursor: text;\n\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},7526: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-engine/theme/renderer.css"],names: [],mappings: "AAMA,qDACC,YACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot: ""}]); const c=a;},2863: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-heading/theme/heading.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names: [],mappings: "AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},8547: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-highlight-marker-yellow:#fdfd77;--ck-highlight-marker-green:#62f962;--ck-highlight-marker-pink:#fc7899;--ck-highlight-marker-blue:#72ccfd;--ck-highlight-pen-red:#e71313;--ck-highlight-pen-green:#128a00}.ck-content .marker-yellow{background-color:var(--ck-highlight-marker-yellow)}.ck-content .marker-green{background-color:var(--ck-highlight-marker-green)}.ck-content .marker-pink{background-color:var(--ck-highlight-marker-pink)}.ck-content .marker-blue{background-color:var(--ck-highlight-marker-blue)}.ck-content .pen-red{background-color:transparent;color:var(--ck-highlight-pen-red)}.ck-content .pen-green{background-color:transparent;color:var(--ck-highlight-pen-green)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-highlight/theme/highlight.css"],names: [],mappings: "AAKA,MACC,oCAA+C,CAC/C,mCAA+C,CAC/C,kCAA8C,CAC9C,kCAA8C,CAC9C,8BAAwC,CACxC,gCACD,CAGC,2BACC,kDACD,CAFA,0BACC,iDACD,CAFA,yBACC,gDACD,CAFA,yBACC,gDACD,CAIA,qBAIC,4BAA6B,CAH7B,iCAID,CALA,uBAIC,4BAA6B,CAH7B,mCAID",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-highlight-marker-yellow: hsl(60, 97%, 73%);\n\t--ck-highlight-marker-green: hsl(120, 93%, 68%);\n\t--ck-highlight-marker-pink: hsl(345, 96%, 73%);\n\t--ck-highlight-marker-blue: hsl(201, 97%, 72%);\n\t--ck-highlight-pen-red: hsl(0, 85%, 49%);\n\t--ck-highlight-pen-green: hsl(112, 100%, 27%);\n}\n\n@define-mixin highlight-marker-color $color {\n\t.ck-content .marker-$color {\n\t\tbackground-color: var(--ck-highlight-marker-$color);\n\t}\n}\n\n@define-mixin highlight-pen-color $color {\n\t.ck-content .pen-$color {\n\t\tcolor: var(--ck-highlight-pen-$color);\n\n\t\t/* Override default yellow background of `<mark>` from user agent stylesheet */\n\t\tbackground-color: transparent;\n\t}\n}\n\n@mixin highlight-marker-color yellow;\n@mixin highlight-marker-color green;\n@mixin highlight-marker-color pink;\n@mixin highlight-marker-color blue;\n\n@mixin highlight-pen-color red;\n@mixin highlight-pen-color green;\n"],sourceRoot: ""}]); const c=a;},2051: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/image.css"],names: [],mappings: "AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%;\n\n\t\t\t/* Keep proportions of the block image if the height is set and the image is wider than the editor width.\n\t\t\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\n\t\t\theight: auto;\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t/*\n\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\n\t */\n\t& .image {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the selected image always stays on top of its siblings.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t\t */\n\t\t&.ck-widget_selected {\n\t\t\tz-index: 2;\n\t\t}\n\t}\n\n\t/*\n\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\n\t */\n\t& .image-inline {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the selected inline image always stays on top of its siblings.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t\t */\n\t\t&.ck-widget_selected {\n\t\t\tz-index: 2;\n\n\t\t\t/*\n\t\t\t * Make sure the native browser selection style is not displayed.\n\t\t\t * Inline image widgets have their own styles for the selected state and\n\t\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t\t */\n\t\t\t& ::selection {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.\n\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\n\t& .image-inline img {\n\t\theight: auto;\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},7369: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagecaption.css"],names: [],mappings: "AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\tanimation: ck-image-caption-highlight .6s ease-out;\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highlighted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},5420: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageinsert.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names: [],mappings: "AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-image-insert-url {\n\t& .ck-image-insert-url__action-row {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-image-insert-insert-by-url-width: 250px;\n}\n\n.ck.ck-image-insert-url {\n\t--ck-input-width: 100%;\n\n\t& .ck-image-insert-url__action-row {\n\t\tgrid-column-gap: var(--ck-spacing-large);\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n\n.ck.ck-image-insert-form {\n\t& > .ck.ck-button {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tpadding: var(--ck-list-button-padding);\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& > .ck.ck-collapsible {\n\t\t&:not(:first-child) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tborder-bottom: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\tmin-width: var(--ck-image-insert-insert-by-url-width);\n\t}\n\n\t/* This is the case when there are no other integrations configured than insert by URL */\n\t& > .ck.ck-image-insert-url {\n\t\tmin-width: var(--ck-image-insert-insert-by-url-width);\n\t\tpadding: var(--ck-spacing-large);\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},8588: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageplaceholder.css"],names: [],mappings: "AAMC,8CACC,yBACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& img.image_placeholder {\n\t\tbackground-size: 100% 100%;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},5035: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageresize.css"],names: [],mappings: "AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Preserve aspect ratio of the resized image after introducing image height attribute. */\n.ck-content img.image_resized {\n\theight: auto;\n}\n\n.ck-content .image.image_resized {\n\tmax-width: 100%;\n\t/*\n\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\n\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\n\tFortunately, since we control the width, there is no risk that the image will look bad.\n\t*/\n\tdisplay: block;\n\tbox-sizing: border-box;\n\n\t& img {\n\t\t/* For resized images it is the `<figure>` element that determines the image width. */\n\t\twidth: 100%;\n\t}\n\n\t& > figcaption {\n\t\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\n\t\tdisplay: block;\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/* The resized inline image nested in the table should respect its parent size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline.image_resized img {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-right: var(--ck-spacing-standard);\n}\n\n[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-left: var(--ck-spacing-standard);\n}\n\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\n\twidth: 4em;\n}\n'],sourceRoot: ""}]); const c=a;},1644: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imagestyle.css"],names: [],mappings: "AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},9967: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadicon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names: [],mappings: "AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},2021: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadloader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names: [],mappings: "AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},2209: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/imageuploadprogress.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names: [],mappings: "AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot: ""}]); const c=a;},8748: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-image/theme/textalternativeform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css"],names: [],mappings: "AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},7865: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names: [],mappings: "AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot: ""}]); const c=a;},6144: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkactions.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names: [],mappings: "AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},2375: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names: [],mappings: "AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},1634: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-link/theme/linkimage.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names: [],mappings: "AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Match the icon size with the upload indicator brought by the image upload feature. */\n\t--ck-link-image-indicator-icon-size: 20;\n\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tcontent: "";\n\n\t\t\t/*\n\t\t\t * Smaller images should have the icon closer to the border.\n\t\t\t * Match the icon position with the upload indicator brought by the image upload feature.\n\t\t\t */\n\t\t\ttop: min(var(--ck-spacing-medium), 6%);\n\t\t\tright: min(var(--ck-spacing-medium), 6%);\n\n\t\t\tbackground-color: hsla(0, 0%, 0%, .4);\n\t\t\tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");\n\t\t\tbackground-size: 14px;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-position: center;\n\t\t\tborder-radius: 100%;\n\n\t\t\t/*\n\t\t\t* Use CSS math to simulate container queries.\n\t\t\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t\t\t*/\n\t\t\toverflow: hidden;\n\t\t\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t}\n\t}\n}\n\n'],sourceRoot: ""}]); const c=a;},7752: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-input-color {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\n\t& > input.ck.ck-input-text {\n\t\tmin-width: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t& > div.ck.ck-dropdown {\n\t\tmin-width: auto;\n\n\t\t/* This dropdown has no arrow but a color preview instead. */\n\t\t& > .ck-input-color__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__button {\n\t\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\n\t\tdisplay: flex;\n\n\t\t& .ck.ck-input-color__button__preview {\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\n\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_rounded.css";\n\n.ck.ck-input-color {\n\t& > .ck.ck-input-text {\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* Make sure the focused input is always on top of the dropdown button so its\n\t\t   outline and border are never cropped (also when the input is read-only). */\n\t\t&:focus {\n\t\t\tz-index: 0;\n\t\t}\n\t}\n\n\t& > .ck.ck-dropdown {\n\t\t& > .ck.ck-button.ck-input-color__button {\n\t\t\tpadding: 0;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-left: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.ck-disabled {\n\t\t\t\tbackground: var(--ck-color-input-disabled-background);\n\t\t\t}\n\n\t\t\t& > .ck.ck-input-color__button__preview {\n\t\t\t\t@mixin ck-rounded-corners;\n\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tborder: 1px solid var(--ck-color-input-border);\n\n\t\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\t\ttop: -30%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\theight: 150%;\n\t\t\t\t\twidth: 8%;\n\t\t\t\t\tbackground: hsl(0, 100%, 50%);\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\ttransform-origin: 50%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__remove-color {\n\t\twidth: 100%;\n\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-bottom: 1px solid var(--ck-color-input-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t}\n\n\t\t& .ck.ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: 0;\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},6369: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names: [],mappings: "AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form {\n\tpadding: 0 0 var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t& .ck.ck-input-text {\n\t\tmin-width: 100%;\n\t\twidth: 0;\n\t}\n\n\t& .ck.ck-dropdown {\n\t\tmin-width: 100%;\n\n\t\t& .ck-dropdown__button {\n\t\t\t&:not(:focus) {\n\t\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck-button__label {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},637: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/formrow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names: [],mappings: "AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\tflex-grow: 1;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-form__row {\n\tpadding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\t& + * {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-label {\n\t\twidth: 100%;\n\t\tmin-width: 100%;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},1710: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/inserttable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names: [],mappings: "AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot: ""}]); const c=a;},2259: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/table.css"],names: [],mappings: "AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot: ""}]); const c=a;},5513: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecaption.css"],names: [],mappings: "AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-selector-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .table > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: top;\n\tword-break: break-word;\n\ttext-align: center;\n\tcolor: var(--ck-color-selector-caption-text);\n\tbackground-color: var(--ck-color-selector-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .table > figcaption {\n\t&.table__caption_highlighted {\n\t\tanimation: ck-table-caption-highlight .6s ease-out;\n\t}\n\n\t&.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the table caption placeholder doesn't overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@keyframes ck-table-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-selector-caption-highlighted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-selector-caption-background);\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},472: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecellproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names: [],mappings: "AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\t&:first-of-type {\n\t\t\t\t\t/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */\n\t\t\t\t\tflex-grow: 0.57;\n\t\t\t\t}\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\t/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */\n\t\t\t\t\tflex-grow: 0.43;\n\t\t\t\t}\n\n\t\t\t\t& .ck-button {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__padding-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\t\t\twidth: 25%;\n\t\t}\n\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},9317: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tablecolumnresize.css"],names: [],mappings: "AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);\n\t--ck-table-column-resizer-width: 7px;\n\n\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\n\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\n\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\n}\n\n.ck-content .table .ck-table-resized {\n\ttable-layout: fixed;\n}\n\n.ck-content .table table {\n\toverflow: hidden;\n}\n\n.ck-content .table td,\n.ck-content .table th {\n\t/* To prevent text overflowing beyond its cell when columns are resized by resize handler\n\t(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */\n\toverflow-wrap: break-word;\n\tposition: relative;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tright: var(--ck-table-column-resizer-position-offset);\n\twidth: var(--ck-table-column-resizer-width);\n\tcursor: col-resize;\n\tuser-select: none;\n\tz-index: var(--ck-z-default);\n}\n\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\n   all resizers must be hidden while the table is dragged. */\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\n\tbackground-color: var(--ck-color-selector-column-resizer-hover);\n\topacity: 0.25;\n\t/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,\n\t   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as\n\t   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally\n\t   unrealistic height for a single table. */\n\ttop: -999999px;\n\tbottom: -999999px;\n}\n\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\n\tleft: var(--ck-table-column-resizer-position-offset);\n\tright: unset;\n}\n"],sourceRoot: ""}]); const c=a;},9431: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names: [],mappings: "AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-selector-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},7181: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__background-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tflex-wrap: wrap;\n\t\t\talign-items: center;\n\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column-reverse;\n\t\t\t\talign-items: center;\n\n\t\t\t\t& .ck.ck-dropdown {\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\tflex-grow: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\t/* Allow absolute positioning of the status (error) balloons. */\n\t\tposition: relative;\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\ttransform: translate(-50%,100%);\n\n\t\t\t/* Make sure the balloon status stays on top of other form elements. */\n\t\t\tz-index: 1;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translateX( -50% );\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n:root {\n\t--ck-table-properties-error-arrow-size: 6px;\n\t--ck-table-properties-min-error-width: 150px;\n}\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\t& > .ck-label {\n\t\t\t\t\tfont-size: var(--ck-font-size-tiny);\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__border-style,\n\t\t\t& .ck-table-form__border-width {\n\t\t\t\twidth: 80px;\n\t\t\t\tmin-width: 80px;\n\t\t\t\tmax-width: 80px;\n\t\t\t}\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tpadding: 0;\n\n\t\t\t& .ck-table-form__dimensions-row__width,\n\t\t\t& .ck-table-form__dimensions-row__height {\n\t\t\t\tmargin: 0\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\talign-self: flex-end;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\theight: var(--ck-ui-component-min-height);\n\t\t\t\tline-height: var(--ck-ui-component-min-height);\n\t\t\t\tmargin: 0 var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: var(--ck-spacing-standard);\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\t@mixin ck-rounded-corners;\n\n\t\t\tbackground: var(--ck-color-base-error);\n\t\t\tcolor: var(--ck-color-base-background);\n\t\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\t\tmin-width: var(--ck-table-properties-min-error-width);\n\t\t\ttext-align: center;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\n\t\t\t\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\n\t\t}\n\n\t\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\n\t\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n@keyframes ck-table-form-labeled-view-status-appear {\n\t0% {\n\t\topacity: 0;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},8252: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-table/theme/tableproperties.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names: [],mappings: "AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\t\t\tflex-basis: 0;\n\t\t\talign-content: baseline;\n\n\t\t\t& .ck.ck-toolbar .ck-toolbar__items {\n\t\t\t\tflex-wrap: nowrap;\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t\t\t& .ck-toolbar__items > * {\n\t\t\t\t\twidth: 40px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},1125: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names: [],mappings: "AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},1587: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names: [],mappings: "AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-aria-live-announcer {\n\tposition: absolute;\n\tleft: -10000px;\n\ttop: -10000px;\n}\n"],sourceRoot: ""}]); const c=a;},5169: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-autocomplete {\n\tposition: relative;\n\n\t& > .ck-search__results {\n\t\tposition: absolute;\n\t\tz-index: var(--ck-z-panel);\n\n\t\t&.ck-search__results_n {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";\n\n.ck.ck-autocomplete {\n\t& > .ck-search__results {\n\t\t@mixin ck-rounded-corners;\n\t\t@mixin ck-drop-shadow;\n\n\t\tmax-height: 200px;\n\t\toverflow-y: auto;\n\t\tbackground: var(--ck-color-base-background);\n\t\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\t\tmin-width: auto;\n\n\t\t&.ck-search__results_n {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-bottom: -1px;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-top-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-top: -1px;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},8941: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names: [],mappings: "AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD2ID,CCxIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF4ID,CA3IA,wIEGE,qCFwIF,CA3IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAsID,CA5GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIpFD,oDJwFC,CAOA,gLK/FD,kCLiGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC9HA,+CDkIA,CC/HC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CD+GA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC9IC,mDDmJD,CChJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CD+HD,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../../mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\n\t@mixin ck-dir ltr {\n\t\tjustify-content: left;\n\t}\n\n\t@mixin ck-dir rtl {\n\t\tjustify-content: right;\n\t}\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\topacity: .5;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot: ""}]); const c=a;},8613: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names: [],mappings: "AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating–point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot: ""}]); const c=a;},3283: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names: [],mappings: "AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-collapsible.ck-collapsible_collapsed {\n\t& > .ck-collapsible__children {\n\t\tdisplay: none;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-collapsible {\n\t& > .ck.ck-button {\n\t\twidth: 100%;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-list-button-padding);\n\t\tborder-radius: 0;\n\t\tcolor: inherit;\n\n\t\t&:focus {\n\t\t\tbackground: transparent;\n\t\t}\n\n\t\t&:active, &:not(:focus), &:hover:not(:focus) {\n\t\t\tbackground: transparent;\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t& > .ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t\twidth: var(--ck-collapsible-arrow-size);\n\t\t}\n\t}\n\n\t& > .ck-collapsible__children {\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);\n\t}\n\n\t&.ck-collapsible_collapsed {\n\t\t& > .ck.ck-button .ck-icon {\n\t\t\ttransform: rotate(-90deg);\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},4239: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names: [],mappings: "AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\twidth: var(--ck-color-grid-tile-size);\n\theight: var(--ck-color-grid-tile-size);\n\tmin-width: var(--ck-color-grid-tile-size);\n\tmin-height: var(--ck-color-grid-tile-size);\n\tpadding: 0;\n\ttransition: .2s ease box-shadow;\n\tborder: 0;\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t&.ck-color-selector__color-tile_bordered {\n\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t&.ck-on,\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\t/* Disable the default .ck-button\'s border ring. */\n\t\tborder: 0;\n\t}\n\n\t&:focus:not( .ck-disabled ),\n\t&:hover:not( .ck-disabled ) {\n\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n'],sourceRoot: ""}]); const c=a;},3019: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names: [],mappings: "AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.color-picker-hex-input {\n\twidth: max-content;\n\n\t& .ck.ck-input {\n\t\tmin-width: unset;\n\t}\n}\n\n.ck.ck-color-picker__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\tmargin: var(--ck-spacing-large) 0 0;\n\twidth: unset;\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: unset;\n\t}\n\n\t& .ck.ck-input-text {\n\t\twidth: unset;\n\t}\n\n\t& .ck-color-picker__hash-view {\n\t\tpadding-top: var(--ck-spacing-tiny);\n\t\tpadding-right: var(--ck-spacing-medium);\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},2927: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names: [],mappings: "AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tjustify-content: flex-start;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-around;\n\n\t\t\t& .ck-button-save,\n\t\t\t& .ck-button-cancel {\n\t\t\t\tflex: 1\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck.ck-icon {\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& label.ck.ck-color-grid__label {\n\t\t\tfont-weight: unset;\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-picker {\n\t\t\tpadding: 8px;\n\n\t\t\t& .hex-color-picker {\n\t\t\t\theight: 100px;\n\t\t\t\tmin-width: 180px;\n\n\t\t\t\t&::part(saturation) {\n\t\t\t\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\t\t\t\t}\n\n\t\t\t\t&::part(hue) {\n\t\t\t\t\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\n\t\t\t\t}\n\n\t\t\t\t&::part(saturation-pointer),\n\t\t\t\t&::part(hue-pointer) {\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tpadding: 0 8px 8px;\n\t\t}\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},7197: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cAIC,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CExB7C,oCAA8B,CFsB9B,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog-overlay {\n\tuser-select: none;\n\toverscroll-behavior: none;\n\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\n\t&.ck-dialog-overlay__transparent {\n\t\tpointer-events: none;\n\t\tanimation: none;\n\t\tbackground: none;\n\t}\n}\n\n.ck.ck-dialog {\n\toverscroll-behavior: none;\n\twidth: fit-content;\n\tposition: absolute;\n\n\t& .ck.ck-form__header  {\n\t\tflex-shrink: 0;\n\n\t\t& .ck-form__header__label {\n\t\t\tcursor: grab;\n\t\t}\n\t}\n\n\t@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {\n\t\tpointer-events: all;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n:root {\n\t--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );\n\t--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);\n\t--ck-dialog-max-width: 100vw;\n\t--ck-dialog-max-height: 90vh;\n\t--ck-color-dialog-background: var(--ck-color-base-background);\n\t--ck-color-dialog-form-header-border: var(--ck-color-base-border);\n}\n\n.ck.ck-dialog-overlay {\n\tanimation: ck-dialog-fade-in .3s;\n\tbackground: var(--ck-dialog-overlay-background-color);\n\tz-index: var(--ck-z-dialog);\n}\n\n.ck.ck-dialog {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\t--ck-drop-shadow: var(--ck-dialog-drop-shadow);\n\n\tbackground: var(--ck-color-dialog-background);\n\tmax-height: var(--ck-dialog-max-height);\n\tmax-width: var(--ck-dialog-max-width);\n\tborder: 1px solid var(--ck-color-base-border);\n\n\t& .ck.ck-form__header {\n\t\tborder-bottom: 1px solid var(--ck-color-dialog-form-header-border);\n\t}\n}\n\n@keyframes ck-dialog-fade-in {\n\t0% {\n\t\tbackground: hsla( 0, 0%, 0%, 0 );\n\t}\n\n\t100% {\n\t\tbackground: var(--ck-dialog-overlay-background-color);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},7748: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names: [],mappings: "AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog {\n\t& .ck.ck-dialog__actions {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog {\n\t& .ck.ck-dialog__actions {\n\t\tpadding: var(--ck-spacing-large);\n\n\t\t& > * + * {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},1887: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-panel);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-panel) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},6571: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child > .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child > .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},4890: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},9432: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names: [],mappings: "AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot: ""}]); const c=a;},1353: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-accessibility-help-dialog-max-width: 600px;\n\t--ck-accessibility-help-dialog-max-height: 400px;\n\t--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);\n\t--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);\n\t--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);\n}\n\n.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {\n\tpadding: var(--ck-spacing-large);\n\tmax-width: var(--ck-accessibility-help-dialog-max-width);\n\tmax-height: var(--ck-accessibility-help-dialog-max-height);\n\toverflow: auto;\n\tuser-select: text;\n\n\tborder: 1px solid transparent;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t* {\n\t\twhite-space: normal;\n\t}\n\n\t/* Hide the main label of the content container. */\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t& h3 {\n\t\tfont-weight: bold;\n\t\tfont-size: 1.2em;\n\t}\n\n\t& h4 {\n\t\tfont-weight: bold;\n\t\tfont-size: 1em;\n\t}\n\n\t& p,\n\t& h3,\n\t& h4,\n\t& table {\n\t\tmargin: 1em 0;\n\t}\n\n\t& dl {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 2fr 1fr;\n\t\tborder-top: 1px solid var(--ck-accessibility-help-dialog-border-color);\n\t\tborder-bottom: none;\n\n\t\t& dt, & dd {\n\t\t\tborder-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);\n\t\t\tpadding: .4em 0;\n\t\t}\n\n\t\t& dt {\n\t\t\tgrid-column-start: 1;\n\t\t}\n\n\t\t& dd {\n\t\t\tgrid-column-start: 2;\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& kbd, & code {\n\t\tdisplay: inline-block;\n\t\tbackground: var(--ck-accessibility-help-dialog-code-background-color);\n\t\tpadding: .4em;\n\t\tvertical-align: middle;\n\t\tline-height: 1;\n\t\tborder-radius: 2px;\n\t\ttext-align: center;\n\t\tfont-size: .9em;\n\t}\n\n\t& code {\n\t\tfont-family: monospace;\n\t}\n\n\t& kbd {\n\t\tmin-width: 1.8em;\n\t\tbox-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);\n\t\tmargin: 0 1px;\n\n\t\t& + kbd {\n\t\t\tmargin-left: 2px;\n\t\t}\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},5931: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-panel-background);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-panel-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},8379: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names: [],mappings: "AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\t& h2.ck-form__header__label {\n\t\tflex-grow: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-form-header-height: 44px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& > .ck-icon {\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: var(--ck-spacing-medium);\n\t\t}\n\t}\n\n\t& .ck-form__header__label {\n\t\t--ck-font-size-base: 15px;\n\t\tfont-weight: bold;\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},2859: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names: [],mappings: "AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-highlighted-text mark {\n\tbackground: var(--ck-color-highlight-background);\n\tvertical-align: initial;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\tfont-size: inherit;\n}\n"],sourceRoot: ""}]); const c=a;},2191: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/icon/icon.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names: [],mappings: "AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},4071: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},3475: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/label/label.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names: [],mappings: "AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot: ""}]); const c=a;},2828: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD+GD,CA1GA,2FCDE,qCD2GF,CAvGC,mEACC,UAoCD,CAlCC,gFACC,KAgCD,CAjCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBA4BF,CAjCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAqBF,CAjCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t\ttransform-origin: 100% 0;\n\t\t\t\ttransform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},8753: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-list-button-padding:\n\t\tcalc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n}\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& > .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\tborder-radius: 0;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding: var(--ck-list-button-padding);\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& > .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-list .ck-list__group {\n\tpadding-top: var(--ck-spacing-medium);\n\n\t/* The group should have a border when it\'s not the first item. */\n\t*:not(.ck-hidden) ~ & {\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t}\n\n\t& > .ck-label {\n\t\tfont-size: 11px;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},3779: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names: [],mappings: "AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: flex-start;\n\tbackground: var(--ck-color-base-background);\n\tpadding: var(--ck-spacing-small);\n\tgap: var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\twidth: 100%;\n}\n"],sourceRoot: ""}]); const c=a;},5842: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names: [],mappings: "AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\tdisplay: block;\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t&.ck-menu-bar__menu_top-level {\n\t\tmax-width: 100%;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},6050: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_disabled.css"],names: [],mappings: "AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu  {\n\t& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-menu-bar__menu {\n\t/*\n\t * All menu buttons.\n\t */\n\t& > .ck-menu-bar__menu__button {\n\t\tpadding: var(--ck-list-button-padding);\n\t\twidth: 100%;\n\n\t\t& > .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t&.ck-disabled > .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Top-level menu buttons only.\n\t */\n\t&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {\n\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\tmin-height: unset;\n\n\t\t& .ck-button__label {\n\t\t\twidth: unset;\n\t\t\tline-height: unset;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/*\n\t * Sub-menu buttons.\n\t */\n\t&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {\n\t\tborder-radius: 0;\n\n\t\t&:focus {\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\n\t\t\t&:not(.ck-on) {\n\t\t\t\tbackground: var(--ck-color-button-default-hover-background);\n\t\t\t}\n\t\t}\n\n\t\t/* Spacing in buttons that miss the icon. */\n\t\t&:not(:has(.ck-button__icon)) > .ck-button__label {\n\t\t\tmargin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));\n\t\t}\n\n\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\ttransform: rotate(-90deg);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\ttransform: rotate(90deg);\n\t\t\t}\n\t\t}\n\n\t\t&.ck-disabled > .ck-menu-bar__menu__button__arrow {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t\t/* A space to accommodate the triangle. */\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t\t/* A space to accommodate the triangle. */\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot: ""}]); const c=a;},3835: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names: [],mappings: "AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-menu-bar-menu-item-min-width: 18em;\n}\n\n.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {\n\tmin-width: var(--ck-menu-bar-menu-item-min-width);\n}\n"],sourceRoot: ""}]); const c=a;},5519: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names: [],mappings: "AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\t/*\n\t * List item buttons.\n\t */\n\t& .ck-button.ck-menu-bar__menu__item__button {\n\t\tborder-radius: 0;\n\n\t\t& > .ck-spinner-container,\n\t\t& > .ck-spinner-container .ck-spinner {\n\t\t\t/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */\n\t\t\t--ck-toolbar-spinner-size: 20px;\n\t\t}\n\n\t\t& > .ck-spinner-container {\n\t\t\t/* These margins are the same as for .ck-icon. */\n\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/*\n\t\t * Hovered items automatically get focused. Default focus styles look odd\n\t\t * while moving across a huge list of items so let's get rid of them\n\t\t */\n\t\t&:focus {\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\n\t\t\t&:not(.ck-on) {\n\t\t\t\tbackground: var(--ck-color-button-default-hover-background);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * First-level sub-menu item buttons.\n\t */\n\t&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {\n\t\t/* Spacing in buttons that miss the icon. */\n\t\t&:not(:has(.ck-button__icon)) > .ck-button__label {\n\t\t\tmargin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));\n\t\t}\n\t}\n}\n\n\n"],sourceRoot: ""}]); const c=a;},5306: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-menu-bar-menu-max-width: 75vw;\n\t--ck-menu-bar-nested-menu-horizontal-offset: 5px;\n}\n\n.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {\n\tz-index: var(--ck-z-panel);\n\tmax-width: var(--ck-menu-bar-menu-max-width);\n\tposition: absolute;\n\n\t&.ck-menu-bar__menu__panel_position_ne,\n\t&.ck-menu-bar__menu__panel_position_nw {\n\t\tbottom: 100%;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_se,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\ttop: 100%;\n\t\tbottom: auto;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ne,\n\t&.ck-menu-bar__menu__panel_position_se {\n\t\tleft: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_nw,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\tright: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_es,\n\t&.ck-menu-bar__menu__panel_position_en {\n\t\tleft: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_es {\n\t\ttop: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_en {\n\t\tbottom: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws,\n\t&.ck-menu-bar__menu__panel_position_wn {\n\t\tright: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws {\n\t\ttop: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_wn {\n\t\tbottom: 0px;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-menu-bar-menu-panel-max-width: 75vw;\n}\n\n.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\theight: fit-content;\n\tmax-width: var(--ck-menu-bar-menu-panel-max-width);\n\n\t/* Corner border radius consistent with the button. */\n\t&.ck-menu-bar__menu__panel_position_es,\n\t&.ck-menu-bar__menu__panel_position_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_en,\n\t&.ck-menu-bar__menu__panel_position_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_wn,\n\t&.ck-menu-bar__menu__panel_position_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},9316: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-panel);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},6841: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names: [],mappings: "AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},726: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-panel) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},8016: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-panel); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},7072: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names: [],mappings: "AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},9381: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/search/search.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names: [],mappings: "AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\n\t\t& .ck-search__reset {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\t& > .ck-search__info {\n\t\t\t& > span:first-child {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t/* Hide the filtered view when nothing was found */\n\t\t\t&:not(.ck-hidden) ~ * {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));\n}\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& .ck-input {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t&.ck-search__query_with-icon {\n\t\t\t--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\t\topacity: .5;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-search__query_with-reset {\n\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t&.ck-labeled-field-view_empty {\n\t\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t& .ck-search__reset {\n\t\t\t\tmin-width: auto;\n\t\t\t\tmin-height: auto;\n\n\t\t\t\tbackground: none;\n\t\t\t\topacity: .5;\n\t\t\t\tpadding: 0;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\tmin-width: 100%;\n\n\t\t& > .ck-search__info {\n\t\t\twidth: 100%;\n\t\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large);\n\n\t\t\t& * {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\n\t\t\t& > span:first-child {\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\n\t\t\t& > span:last-child {\n\t\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\t}\n}\n\n'],sourceRoot: ""}]); const c=a;},6047: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite}.ck.ck-spinner,.ck.ck-spinner-container{height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent}@keyframes rotate{to{transform:rotate(1turn)}}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names: [],mappings: "AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCACD,CAEA,wCAJC,qCAAsC,CADtC,oCAWD,CANA,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCACD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\tdisplay: block;\n\tposition: relative;\n}\n\n.ck.ck-spinner {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 0;\n\tright: 0;\n\tmargin: 0 auto;\n\ttransform: translateY(-50%);\n\tz-index: 1;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tanimation: 1.5s infinite rotate linear;\n}\n\n.ck.ck-spinner {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tborder-radius: 50%;\n\tborder: 2px solid var(--ck-color-text);\n\tborder-top-color: transparent;\n}\n\n@keyframes rotate {\n\tto {\n\t\ttransform: rotate(360deg)\n\t}\n}\n\n"],sourceRoot: ""}]); const c=a;},4097: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck-textarea{overflow-x:hidden}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names: [],mappings: "AASA,aACC,iBACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.\n * This bug is especially visible when rows=1.\n */\n.ck-textarea {\n\toverflow-x: hidden\n}\n"],sourceRoot: ""}]); const c=a;},8604: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names: [],mappings: "AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot: ""}]); const c=a;},9423: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css"],names: [],mappings: "AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},3935: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);z-index:calc(var(--ck-z-dialog) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names: [],mappings: "AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDTnC,sCACD,CCUC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-balloon-panel.ck-tooltip {\n\tz-index: calc( var(--ck-z-dialog) + 100 );\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-tooltip-text-padding: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t&.ck-tooltip_multi-line .ck-tooltip__text {\n\t\twhite-space: break-spaces;\n\t\tdisplay: inline-block;\n\t\tpadding: var(--ck-tooltip-text-padding) 0;\n\t\tmax-width: 200px;\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},7718: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_hidden.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_zindex.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_transition.css","webpack://./node_modules/@ckeditor/ckeditor5-ui/theme/globals/_poweredby.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names: [],mappings: "AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-panel: calc( var(--ck-z-default) + 999 );\n\t--ck-z-dialog: 9999;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-powered-by-line-height: 10px;\n\t--ck-powered-by-padding-vertical: 2px;\n\t--ck-powered-by-padding-horizontal: 4px;\n\t--ck-powered-by-text-color: hsl(0, 0%, 31%);\n\t--ck-powered-by-border-radius: var(--ck-border-radius);\n\t--ck-powered-by-background: hsl(0, 0%, 100%);\n\t--ck-powered-by-border-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-balloon-panel.ck-powered-by-balloon {\n\t--ck-border-radius: var(--ck-powered-by-border-radius);\n\n\tbox-shadow: none;\n\tbackground: var(--ck-powered-by-background);\n\tmin-height: unset;\n\tz-index: calc( var(--ck-z-panel) - 1 );\n\n\t& .ck.ck-powered-by {\n\t\tline-height: var(--ck-powered-by-line-height);\n\n\t\t& a {\n\t\t\tcursor: pointer;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\topacity: .66;\n\t\t\tfilter: grayscale(80%);\n\t\t\tline-height: var(--ck-powered-by-line-height);\n\t\t\tpadding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);\n\t\t}\n\n\t\t& .ck-powered-by__label {\n\t\t\tfont-size: 7.5px;\n\t\t\tletter-spacing: -.2px;\n\t\t\tpadding-left: 2px;\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-right: 4px;\n\t\t\tcursor: pointer;\n\t\t\tline-height: normal;\n\t\t\tcolor: var(--ck-powered-by-text-color);\n\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: block;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&:hover {\n\t\t\t& a {\n\t\t\t\tfilter: grayscale(0%);\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[class*="position_inside"] {\n\t\tborder-color: transparent;\n\t}\n\n\t&[class*="position_border"] {\n\t\tborder: var(--ck-focus-ring);\n\t\tborder-color: var(--ck-powered-by-border-color);\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Dialog -------------------------------------------------------------------------------- */\n\n\t--ck-color-dialog-background: \t\t\t\t\t\t\t\tvar(--ck-custom-background);\n\t--ck-color-dialog-form-header-border: \t\t\t\t\t\tvar(--ck-custom-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------- */\n\n\t--ck-color-light-red:\t\t\t\t\t\t\t\t\t\thsl(0, 100%, 90%);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot: ""}]); const c=a;},1089: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css"],names: [],mappings: "AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\n\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot: ""}]); const c=a;},6645: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgetresize.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names: [],mappings: "AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent: ["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot: ""}]); const c=a;},698: (t,e,n) => {"use strict"; n.d(e,{A: () => c}); const o=n(4991); const i=n.n(o); const r=n(6314); const s=n.n(r); const a=s()(i()); a.push([t.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version: 3,sources: ["webpack://./node_modules/@ckeditor/ckeditor5-widget/theme/widgettypearound.css","webpack://./node_modules/@ckeditor/ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names: [],mappings: "AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent: ['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot: ""}]); const c=a;},6314: t => {"use strict"; t.exports=function(t) {const e=[]; e.toString=function e() {return this.map(((e) => {const n=t(e); if (e[2]) {return "@media ".concat(e[2]," {").concat(n,"}");} return n;})).join("");}; e.i=function(t,n,o) {if (typeof t==="string") {t=[[null,t,""]];} const i={}; if (o) {for (let r=0; r<this.length; r++) {const s=this[r][0]; if (s!=null) {i[s]=true;}}} for (let a=0; a<t.length; a++) {const c=[].concat(t[a]); if (o&&i[c[0]]) {continue;} if (n) {if (!c[2]) {c[2]=n;} else {c[2]="".concat(n," and ").concat(c[2]);}}e.push(c);}}; return e;};},4991: t => {"use strict"; function e(t,e) {return s(t)||r(t,e)||o(t,e)||n();} function n() {throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");} function o(t,e) {if (!t) return; if (typeof t==="string") return i(t,e); let n=Object.prototype.toString.call(t).slice(8,-1); if (n==="Object"&&t.constructor)n=t.constructor.name; if (n==="Map"||n==="Set") return Array.from(t); if (n==="Arguments"||(/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/).test(n)) return i(t,e);} function i(t,e) {if (e==null||e>t.length)e=t.length; for (var n=0,o=new Array(e); n<e; n++) {o[n]=t[n];} return o;} function r(t,e) {let n=t&&(typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"]); if (n==null) return; const o=[]; let i=true; let r=false; let s,a; try {for (n=n.call(t); !(i=(s=n.next()).done); i=true) {o.push(s.value); if (e&&o.length===e) break;}} catch (t) {r=true; a=t;} finally {try {if (!i&&n["return"]!=null)n["return"]();} finally {if (r) throw a;}} return o;} function s(t) {if (Array.isArray(t)) return t;}t.exports=function t(n) {const o=e(n,4),i=o[1],r=o[3]; if (!r) {return i;} if (typeof btoa==="function") {const s=btoa(unescape(encodeURIComponent(JSON.stringify(r)))); const a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s); const c="/*# ".concat(a," */"); const l=r.sources.map(((t) => {return "/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */");})); return [i].concat(l).concat([c]).join("\n");} return [i].join("\n");};},5072: (t,e,n) => {"use strict"; const o=(function t() {let e; return function t() {if (typeof e==="undefined") {e=Boolean(window&&document&&document.all&&!window.atob);} return e;};}()); const i=(function t() {const e={}; return function t(n) {if (typeof e[n]==="undefined") {let o=document.querySelector(n); if (window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement) {try {o=o.contentDocument.head;} catch (t) {o=null;}}e[n]=o;} return e[n];};}()); const r=[]; function s(t) {let e=-1; for (let n=0; n<r.length; n++) {if (r[n].identifier===t) {e=n; break;}} return e;} function a(t,e) {const n={}; const o=[]; for (let i=0; i<t.length; i++) {const a=t[i]; const c=e.base?a[0]+e.base:a[0]; const l=n[c]||0; const d="".concat(c," ").concat(l); n[c]=l+1; const u=s(d); const h={css: a[1],media: a[2],sourceMap: a[3]}; if (u!==-1) {r[u].references++; r[u].updater(h);} else {r.push({identifier: d,updater: m(h,e),references: 1});}o.push(d);} return o;} function c(t) {const e=document.createElement("style"); const o=t.attributes||{}; if (typeof o.nonce==="undefined") {const r=true?n.nc:0; if (r) {o.nonce=r;}}Object.keys(o).forEach(((t) => {e.setAttribute(t,o[t]);})); if (typeof t.insert==="function") {t.insert(e);} else {const s=i(t.insert||"head"); if (!s) {throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");}s.appendChild(e);} return e;} function l(t) {if (t.parentNode===null) {return false;}t.parentNode.removeChild(t);} const d=(function t() {const e=[]; return function t(n,o) {e[n]=o; return e.filter(Boolean).join("\n");};}()); function u(t,e,n,o) {const i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css; if (t.styleSheet) {t.styleSheet.cssText=d(e,i);} else {const r=document.createTextNode(i); const s=t.childNodes; if (s[e]) {t.removeChild(s[e]);} if (s.length) {t.insertBefore(r,s[e]);} else {t.appendChild(r);}}} function h(t,e,n) {let o=n.css; const i=n.media; const r=n.sourceMap; if (i) {t.setAttribute("media",i);} else {t.removeAttribute("media");} if (r&&typeof btoa!=="undefined") {o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */");} if (t.styleSheet) {t.styleSheet.cssText=o;} else {while (t.firstChild) {t.removeChild(t.firstChild);}t.appendChild(document.createTextNode(o));}} let g=null; let f=0; function m(t,e) {let n; let o; let i; if (e.singleton) {const r=f++; n=g||(g=c(e)); o=u.bind(null,n,r,false); i=u.bind(null,n,r,true);} else {n=c(e); o=h.bind(null,n,e); i=function t() {l(n);};}o(t); return function e(n) {if (n) {if (n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap) {return;}o(t=n);} else {i();}};}t.exports=function(t,e) {e=e||{}; if (!e.singleton&&typeof e.singleton!=="boolean") {e.singleton=o();}t=t||[]; let n=a(t,e); return function t(o) {o=o||[]; if (Object.prototype.toString.call(o)!=="[object Array]") {return;} for (let i=0; i<n.length; i++) {const c=n[i]; const l=s(c); r[l].references--;} const d=a(o,e); for (let u=0; u<n.length; u++) {const h=n[u]; const g=s(h); if (r[g].references===0) {r[g].updater(); r.splice(g,1);}}n=d;};};}}; const e={}; function n(o) {const i=e[o]; if (i!==undefined) {return i.exports;} const r=e[o]={id: o,exports: {}}; t[o](r,r.exports,n); return r.exports;}(() => {n.n=t => {const e=t&&t.__esModule?() => t["default"]:() => t; n.d(e,{a: e}); return e;};})(); (() => {const t=Object.getPrototypeOf?t => Object.getPrototypeOf(t):t => t.__proto__; let e; n.t=function(o,i) {if (i&1)o=this(o); if (i&8) return o; if (typeof o==="object"&&o) {if (i&4&&o.__esModule) return o; if (i&16&&typeof o.then==="function") return o;} const r=Object.create(null); n.r(r); const s={}; e=e||[null,t({}),t([]),t(t)]; for (let a=i&2&&o; typeof a==="object"&&!~e.indexOf(a); a=t(a)) {Object.getOwnPropertyNames(a).forEach((t => s[t]=() => o[t]));}s["default"]=() => o; n.d(r,s); return r;};})(); (() => {n.d=(t,e) => {for (const o in e) {if (n.o(e,o)&&!n.o(t,o)) {Object.defineProperty(t,o,{enumerable: true,get: e[o]});}}};})(); (() => {n.o=(t,e) => Object.prototype.hasOwnProperty.call(t,e);})(); (() => {n.r=t => {if (typeof Symbol!=="undefined"&&Symbol.toStringTag) {Object.defineProperty(t,Symbol.toStringTag,{value: "Module"});}Object.defineProperty(t,"__esModule",{value: true});};})(); (() => {n.nc=undefined;})(); let o={}; (() => {"use strict"; n.d(o,{default: () => eZ}); function t({emitter: t,activator: e,callback: n,contextElements: o}) {t.listenTo(document,"mousedown",((t,i) => {if (!e()) {return;} const r=typeof i.composedPath==="function"?i.composedPath():[]; const s=typeof o==="function"?o():o; for (const t of s) {if (t.contains(i.target)||r.includes(t)) {return;}}n();}));} function e(t) {class e extends t {disableCssTransitions() {this._isCssTransitionsDisabled=true;}enableCssTransitions() {this._isCssTransitionsDisabled=false;}constructor(...t) {super(...t); this.set("_isCssTransitionsDisabled",false); this.initializeCssTransitionDisablerMixin();}initializeCssTransitionDisablerMixin() {this.extendTemplate({attributes: {class: [this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}});}} return e;} function i({view: t}) {t.listenTo(t.element,"submit",((e,n) => {n.preventDefault(); t.fire("submit");}),{useCapture: true});} function r({keystrokeHandler: t,focusTracker: e,gridItems: n,numberOfColumns: o,uiLanguageDirection: i}) {const r=typeof o==="number"?() => o:o; t.set("arrowright",s(((t,e) => i==="rtl"?c(t,e.length):a(t,e.length)))); t.set("arrowleft",s(((t,e) => i==="rtl"?a(t,e.length):c(t,e.length)))); t.set("arrowup",s(((t,e) => {let n=t-r(); if (n<0) {n=t+r()*Math.floor(e.length/r()); if (n>e.length-1) {n-=r();}} return n;}))); t.set("arrowdown",s(((t,e) => {let n=t+r(); if (n>e.length-1) {n=t%r();} return n;}))); function s(t) {return o => {const i=n.find((t => t.element===e.focusedElement)); const r=n.getIndex(i); const s=t(r,n); n.get(s).focus(); o.stopPropagation(); o.preventDefault();};} function a(t,e) {if (t===e-1) {return 0;} return t+1;} function c(t,e) {if (t===0) {return e-1;} return t-1;}} function s() {try {return navigator.userAgent.toLowerCase();} catch (t) {return "";}} const a=s(); const c={isMac: d(a),isWindows: u(a),isGecko: h(a),isSafari: g(a),isiOS: f(a),isAndroid: m(a),isBlink: p(a),features: {isRegExpUnicodePropertySupported: k()}}; const l=c; function d(t) {return t.indexOf("macintosh")>-1;} function u(t) {return t.indexOf("windows")>-1;} function h(t) {return !!t.match(/gecko\/\d+/);} function g(t) {return t.indexOf(" applewebkit/")>-1&&t.indexOf("chrome")===-1;} function f(t) {return !!t.match(/iphone|ipad/i)||d(t)&&navigator.maxTouchPoints>0;} function m(t) {return t.indexOf("android")>-1;} function p(t) {return t.indexOf("chrome/")>-1&&t.indexOf("edge/")<0;} function k() {let t=false; try {t="ć".search(new RegExp("[\\p{L}]","u"))===0;} catch (t) {} return t;} function b(t,e,n,o) {n=n||function(t,e) {return t===e;}; const i=Array.isArray(t)?t:Array.prototype.slice.call(t); const r=Array.isArray(e)?e:Array.prototype.slice.call(e); const s=w(i,r,n); const a=o?v(s,r.length):A(r,s); return a;} function w(t,e,n) {const o=_(t,e,n); if (o===-1) {return {firstIndex: -1,lastIndexOld: -1,lastIndexNew: -1};} const i=C(t,o); const r=C(e,o); const s=_(i,r,n); const a=t.length-s; const c=e.length-s; return {firstIndex: o,lastIndexOld: a,lastIndexNew: c};} function _(t,e,n) {for (let o=0; o<Math.max(t.length,e.length); o++) {if (t[o]===undefined||e[o]===undefined||!n(t[o],e[o])) {return o;}} return -1;} function C(t,e) {return t.slice(e).reverse();} function A(t,e) {const n=[]; const {firstIndex: o,lastIndexOld: i,lastIndexNew: r}=e; if (r-o>0) {n.push({index: o,type: "insert",values: t.slice(o,r)});} if (i-o>0) {n.push({index: o+(r-o),type: "delete",howMany: i-o});} return n;} function v(t,e) {const {firstIndex: n,lastIndexOld: o,lastIndexNew: i}=t; if (n===-1) {return Array(e).fill("equal");} let r=[]; if (n>0) {r=r.concat(Array(n).fill("equal"));} if (i-n>0) {r=r.concat(Array(i-n).fill("insert"));} if (o-n>0) {r=r.concat(Array(o-n).fill("delete"));} if (i<e) {r=r.concat(Array(e-i).fill("equal"));} return r;} function y(t,e,n) {n=n||function(t,e) {return t===e;}; const o=t.length; const i=e.length; if (o>200||i>200||o+i>300) {return y.fastDiff(t,e,n,true);} let r,s; if (i<o) {const n=t; t=e; e=n; r="delete"; s="insert";} else {r="insert"; s="delete";} const a=t.length; const c=e.length; const l=c-a; const d={}; const u={}; function h(o) {const i=(u[o-1]!==undefined?u[o-1]:-1)+1; const l=u[o+1]!==undefined?u[o+1]:-1; const h=i>l?-1:1; if (d[o+h]) {d[o]=d[o+h].slice(0);} if (!d[o]) {d[o]=[];}d[o].push(i>l?r:s); let g=Math.max(i,l); let f=g-o; while (f<a&&g<c&&n(t[f],e[g])) {f++; g++; d[o].push("equal");} return g;} let g=0; let f; do {for (f=-g; f<l; f++) {u[f]=h(f);} for (f=l+g; f>l; f--) {u[f]=h(f);}u[l]=h(l); g++;} while (u[l]!==c); return d[l].slice(1);}y.fastDiff=b; function x() {return function t() {t.called=true;};} const E=x; class D {constructor(t,e) {this.source=t; this.name=e; this.path=[]; this.stop=E(); this.off=E();}} const B=new Array(256).fill("").map(((t,e) => (`0${e.toString(16)}`).slice(-2))); function T() {const t=Math.random()*4294967296>>>0; const e=Math.random()*4294967296>>>0; const n=Math.random()*4294967296>>>0; const o=Math.random()*4294967296>>>0; return `e${B[t>>0&255]}${B[t>>8&255]}${B[t>>16&255]}${B[t>>24&255]}${B[e>>0&255]}${B[e>>8&255]}${B[e>>16&255]}${B[e>>24&255]}${B[n>>0&255]}${B[n>>8&255]}${B[n>>16&255]}${B[n>>24&255]}${B[o>>0&255]}${B[o>>8&255]}${B[o>>16&255]}${B[o>>24&255]}`;} const S={get(t="normal") {if (typeof t!=="number") {return this[t]||this.normal;} return t;},highest: 1e5,high: 1e3,normal: 0,low: -1e3,lowest: -1e5}; const I=S; function P(t,e) {const n=I.get(e.priority); for (let o=0; o<t.length; o++) {if (I.get(t[o].priority)<n) {t.splice(o,0,e); return;}}t.push(e);} const R="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html"; class V extends Error {constructor(t,e,n) {super(z(t,n)); this.name="CKEditorError"; this.context=e; this.data=n;}is(t) {return t==="CKEditorError";} static rethrowUnexpectedError(t,e) {if (t.is&&t.is("CKEditorError")) {throw t;} const n=new V(t.message,e); n.stack=t.stack; throw n;}} function M(t,e) {console.warn(...N(t,e));} function F(t,e) {console.error(...N(t,e));} function O(t) {return `\nRead more: ${R}#error-${t}`;} function z(t,e) {const n=new WeakSet; const o=(t,e) => {if (typeof e==="object"&&e!==null) {if (n.has(e)) {return `[object ${e.constructor.name}]`;}n.add(e);} return e;}; const i=e?` ${JSON.stringify(e,o)}`:""; const r=O(t); return t+i+r;} function N(t,e) {const n=O(t); return e?[t,e,n]:[t,n];} const L="41.3.1"; const H=null&&L; const j=new Date(2024,3,16); if (globalThis.CKEDITOR_VERSION) {throw new V("ckeditor-duplicated-modules",null);} else {globalThis.CKEDITOR_VERSION=L;} const W=Symbol("listeningTo"); const q=Symbol("emitterId"); const U=Symbol("delegations"); const $=G(Object); function G(t) {if (!t) {return $;} class e extends t {on(t,e,n) {this.listenTo(this,t,e,n);}once(t,e,n) {let o=false; const i=(t,...n) => {if (!o) {o=true; t.off(); e.call(this,t,...n);}}; this.listenTo(this,t,i,n);}off(t,e) {this.stopListening(this,t,e);}listenTo(t,e,n,o={}) {let i,r; if (!this[W]) {this[W]={};} const s=this[W]; if (!J(t)) {Z(t);} const a=J(t); if (!(i=s[a])) {i=s[a]={emitter: t,callbacks: {}};} if (!(r=i.callbacks[e])) {r=i.callbacks[e]=[];}r.push(n); ot(this,t,e,n,o);}stopListening(t,e,n) {const o=this[W]; let i=t&&J(t); const r=o&&i?o[i]:undefined; const s=r&&e?r.callbacks[e]:undefined; if (!o||t&&!r||e&&!s) {return;} if (n) {it(this,t,e,n); const o=s.indexOf(n); if (o!==-1) {if (s.length===1) {delete r.callbacks[e];} else {it(this,t,e,n);}}} else if (s) {while (n=s.pop()) {it(this,t,e,n);} delete r.callbacks[e];} else if (r) {for (e in r.callbacks) {this.stopListening(t,e);} delete o[i];} else {for (i in o) {this.stopListening(o[i].emitter);} delete this[W];}}fire(t,...e) {try {const n=t instanceof D?t:new D(this,t); const o=n.name; let i=et(this,o); n.path.push(this); if (i) {const t=[n,...e]; i=Array.from(i); for (let e=0; e<i.length; e++) {i[e].callback.apply(this,t); if (n.off.called) {delete n.off.called; this._removeEventListener(o,i[e].callback);} if (n.stop.called) {break;}}} const r=this[U]; if (r) {const t=r.get(o); const i=r.get("*"); if (t) {nt(t,n,e);} if (i) {nt(i,n,e);}} return n.return;} catch (t) {V.rethrowUnexpectedError(t,this);}}delegate(...t) {return {to: (e,n) => {if (!this[U]) {this[U]=new Map;}t.forEach((t => {const o=this[U].get(t); if (!o) {this[U].set(t,new Map([[e,n]]));} else {o.set(e,n);}}));}};}stopDelegating(t,e) {if (!this[U]) {return;} if (!t) {this[U].clear();} else if (!e) {this[U].delete(t);} else {const n=this[U].get(t); if (n) {n.delete(e);}}}_addEventListener(t,e,n) {X(this,t); const o=tt(this,t); const i=I.get(n.priority); const r={callback: e,priority: i}; for (const t of o) {P(t,r);}}_removeEventListener(t,e) {const n=tt(this,t); for (const t of n) {for (let n=0; n<t.length; n++) {if (t[n].callback==e) {t.splice(n,1); n--;}}}}} return e;}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t => {G[t]=$.prototype[t];})); function K(t,e) {const n=t[W]; if (n&&n[e]) {return n[e].emitter;} return null;} function Z(t,e) {if (!t[q]) {t[q]=e||T();}} function J(t) {return t[q];} function Y(t) {if (!t._events) {Object.defineProperty(t,"_events",{value: {}});} return t._events;} function Q() {return {callbacks: [],childEvents: []};} function X(t,e) {const n=Y(t); if (n[e]) {return;} let o=e; let i=null; const r=[]; while (o!=="") {if (n[o]) {break;}n[o]=Q(); r.push(n[o]); if (i) {n[o].childEvents.push(i);}i=o; o=o.substr(0,o.lastIndexOf(":"));} if (o!=="") {for (const t of r) {t.callbacks=n[o].callbacks.slice();}n[o].childEvents.push(i);}} function tt(t,e) {const n=Y(t)[e]; if (!n) {return [];} let o=[n.callbacks]; for (let e=0; e<n.childEvents.length; e++) {const i=tt(t,n.childEvents[e]); o=o.concat(i);} return o;} function et(t,e) {let n; if (!t._events||!(n=t._events[e])||!n.callbacks.length) {if (e.indexOf(":")>-1) {return et(t,e.substr(0,e.lastIndexOf(":")));} return null;} return n.callbacks;} function nt(t,e,n) {for (let [o,i] of t) {if (!i) {i=e.name;} else if (typeof i==="function") {i=i(e.name);} const t=new D(e.source,i); t.path=[...e.path]; o.fire(t,...n);}} function ot(t,e,n,o,i) {if (e._addEventListener) {e._addEventListener(n,o,i);} else {t._addEventListener.call(e,n,o,i);}} function it(t,e,n,o) {if (e._removeEventListener) {e._removeEventListener(n,o);} else {t._removeEventListener.call(e,n,o);}} function rt(t) {const e=typeof t; return t!=null&&(e=="object"||e=="function");} const st=rt; const at=Symbol("observableProperties"); const ct=Symbol("boundObservables"); const lt=Symbol("boundProperties"); const dt=Symbol("decoratedMethods"); const ut=Symbol("decoratedOriginal"); const ht=gt(G()); function gt(t) {if (!t) {return ht;} class e extends t {set(t,e) {if (st(t)) {Object.keys(t).forEach((e => {this.set(e,t[e]);}),this); return;}ft(this); const n=this[at]; if (t in this&&!n.has(t)) {throw new V("observable-set-cannot-override",this);}Object.defineProperty(this,t,{enumerable: true,configurable: true,get() {return n.get(t);},set(e) {const o=n.get(t); let i=this.fire(`set:${t}`,t,e,o); if (i===undefined) {i=e;} if (o!==i||!n.has(t)) {n.set(t,i); this.fire(`change:${t}`,t,i,o);}}}); this[t]=e;}bind(...t) {if (!t.length||!bt(t)) {throw new V("observable-bind-wrong-properties",this);} if (new Set(t).size!==t.length) {throw new V("observable-bind-duplicate-properties",this);}ft(this); const e=this[lt]; t.forEach((t => {if (e.has(t)) {throw new V("observable-bind-rebind",this);}})); const n=new Map; t.forEach((t => {const o={property: t,to: []}; e.set(t,o); n.set(t,o);})); return {to: mt,toMany: pt,_observable: this,_bindProperties: t,_to: [],_bindings: n};}unbind(...t) {if (!this[at]) {return;} const e=this[lt]; const n=this[ct]; if (t.length) {if (!bt(t)) {throw new V("observable-unbind-wrong-properties",this);}t.forEach((t => {const o=e.get(t); if (!o) {return;}o.to.forEach((([t,e]) => {const i=n.get(t); const r=i[e]; r.delete(o); if (!r.size) {delete i[e];} if (!Object.keys(i).length) {n.delete(t); this.stopListening(t,"change");}})); e.delete(t);}));} else {n.forEach(((t,e) => {this.stopListening(e,"change");})); n.clear(); e.clear();}}decorate(t) {ft(this); const e=this[t]; if (!e) {throw new V("observablemixin-cannot-decorate-undefined",this,{object: this,methodName: t});} this.on(t,((t,n) => {t.return=e.apply(this,n);})); this[t]=function(...e) {return this.fire(t,e);}; this[t][ut]=e; if (!this[dt]) {this[dt]=[];} this[dt].push(t);}stopListening(t,e,n) {if (!t&&this[dt]) {for (const t of this[dt]) {this[t]=this[t][ut];} delete this[dt];} super.stopListening(t,e,n);}} return e;}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t => {gt[t]=ht.prototype[t];})); function ft(t) {if (t[at]) {return;}Object.defineProperty(t,at,{value: new Map}); Object.defineProperty(t,ct,{value: new Map}); Object.defineProperty(t,lt,{value: new Map});} function mt(...t) {const e=wt(...t); const n=Array.from(this._bindings.keys()); const o=n.length; if (!e.callback&&e.to.length>1) {throw new V("observable-bind-to-no-callback",this);} if (o>1&&e.callback) {throw new V("observable-bind-to-extra-callback",this);}e.to.forEach((t => {if (t.properties.length&&t.properties.length!==o) {throw new V("observable-bind-to-properties-length",this);} if (!t.properties.length) {t.properties=this._bindProperties;}})); this._to=e.to; if (e.callback) {this._bindings.get(n[0]).callback=e.callback;}vt(this._observable,this._to); Ct(this); this._bindProperties.forEach((t => {At(this._observable,t);}));} function pt(t,e,n) {if (this._bindings.size>1) {throw new V("observable-bind-to-many-not-one-binding",this);} this.to(...kt(t,e),n);} function kt(t,e) {const n=t.map((t => [t,e])); return Array.prototype.concat.apply([],n);} function bt(t) {return t.every((t => typeof t==="string"));} function wt(...t) {if (!t.length) {throw new V("observable-bind-to-parse-error",null);} const e={to: []}; let n; if (typeof t[t.length-1]==="function") {e.callback=t.pop();}t.forEach((t => {if (typeof t==="string") {n.properties.push(t);} else if (typeof t==="object") {n={observable: t,properties: []}; e.to.push(n);} else {throw new V("observable-bind-to-parse-error",null);}})); return e;} function _t(t,e,n,o) {const i=t[ct]; const r=i.get(n); const s=r||{}; if (!s[o]) {s[o]=new Set;}s[o].add(e); if (!r) {i.set(n,s);}} function Ct(t) {let e; t._bindings.forEach(((n,o) => {t._to.forEach((i => {e=i.properties[n.callback?0:t._bindProperties.indexOf(o)]; n.to.push([i.observable,e]); _t(t._observable,n,i.observable,e);}));}));} function At(t,e) {const n=t[lt]; const o=n.get(e); let i; if (o.callback) {i=o.callback.apply(t,o.to.map((t => t[0][t[1]])));} else {i=o.to[0]; i=i[0][i[1]];} if (Object.prototype.hasOwnProperty.call(t,e)) {t[e]=i;} else {t.set(e,i);}} function vt(t,e) {e.forEach((e => {const n=t[ct]; let o; if (!n.get(e.observable)) {t.listenTo(e.observable,"change",((i,r) => {o=n.get(e.observable)[r]; if (o) {o.forEach((e => {At(t,e.property);}));}}));}}));} class yt {constructor() {this._replacedElements=[];}replace(t,e) {this._replacedElements.push({element: t,newElement: e}); t.style.display="none"; if (e) {t.parentNode.insertBefore(e,t.nextSibling);}}restore() {this._replacedElements.forEach((({element: t,newElement: e}) => {t.style.display=""; if (e) {e.remove();}})); this._replacedElements=[];}} function xt(t) {let e=0; for (const n of t) {e++;} return e;} function Et(t,e) {const n=Math.min(t.length,e.length); for (let o=0; o<n; o++) {if (t[o]!=e[o]) {return o;}} if (t.length==e.length) {return "same";} else if (t.length<e.length) {return "prefix";} return "extension";} function Dt(t) {return !!(t&&t[Symbol.iterator]);} const Bt=typeof global==="object"&&global&&global.Object===Object&&global; const Tt=Bt; const St=typeof self==="object"&&self&&self.Object===Object&&self; const It=Tt||St||Function("return this")(); const Pt=It; const Rt=Pt.Symbol; const Vt=Rt; const Mt=Object.prototype; const Ft=Mt.hasOwnProperty; const Ot=Mt.toString; const zt=Vt?Vt.toStringTag:undefined; function Nt(t) {const e=Ft.call(t,zt),n=t[zt]; try {t[zt]=undefined; var o=true;} catch (t) {} const i=Ot.call(t); if (o) {if (e) {t[zt]=n;} else {delete t[zt];}} return i;} const Lt=Nt; const Ht=Object.prototype; const jt=Ht.toString; function Wt(t) {return jt.call(t);} const qt=Wt; const Ut="[object Null]",$t="[object Undefined]"; const Gt=Vt?Vt.toStringTag:undefined; function Kt(t) {if (t==null) {return t===undefined?$t:Ut;} return Gt&&Gt in Object(t)?Lt(t):qt(t);} const Zt=Kt; const Jt=Array.isArray; const Yt=Jt; function Qt(t) {return t!=null&&typeof t==="object";} const Xt=Qt; const te="[object String]"; function ee(t) {return typeof t==="string"||!Yt(t)&&Xt(t)&&Zt(t)==te;} const ne=ee; function oe(t,e,n={},o=[]) {const i=n&&n.xmlns; const r=i?t.createElementNS(i,e):t.createElement(e); for (const t in n) {r.setAttribute(t,n[t]);} if (ne(o)||!Dt(o)) {o=[o];} for (let e of o) {if (ne(e)) {e=t.createTextNode(e);}r.appendChild(e);} return r;} function ie(t,e) {return function(n) {return t(e(n));};} const re=ie; const se=re(Object.getPrototypeOf,Object); const ae=se; const ce="[object Object]"; const le=Function.prototype,de=Object.prototype; const ue=le.toString; const he=de.hasOwnProperty; const ge=ue.call(Object); function fe(t) {if (!Xt(t)||Zt(t)!=ce) {return false;} const e=ae(t); if (e===null) {return true;} const n=he.call(e,"constructor")&&e.constructor; return typeof n==="function"&&n instanceof n&&ue.call(n)==ge;} const me=fe; function pe() {this.__data__=[]; this.size=0;} const ke=pe; function be(t,e) {return t===e||t!==t&&e!==e;} const we=be; function _e(t,e) {let n=t.length; while (n--) {if (we(t[n][0],e)) {return n;}} return -1;} const Ce=_e; const Ae=Array.prototype; const ve=Ae.splice; function ye(t) {const e=this.__data__,n=Ce(e,t); if (n<0) {return false;} const o=e.length-1; if (n==o) {e.pop();} else {ve.call(e,n,1);}--this.size; return true;} const xe=ye; function Ee(t) {const e=this.__data__,n=Ce(e,t); return n<0?undefined:e[n][1];} const De=Ee; function Be(t) {return Ce(this.__data__,t)>-1;} const Te=Be; function Se(t,e) {const n=this.__data__,o=Ce(n,t); if (o<0) {++this.size; n.push([t,e]);} else {n[o][1]=e;} return this;} const Ie=Se; function Pe(t) {let e=-1,n=t==null?0:t.length; this.clear(); while (++e<n) {const o=t[e]; this.set(o[0],o[1]);}}Pe.prototype.clear=ke; Pe.prototype["delete"]=xe; Pe.prototype.get=De; Pe.prototype.has=Te; Pe.prototype.set=Ie; const Re=Pe; function Ve() {this.__data__=new Re; this.size=0;} const Me=Ve; function Fe(t) {const e=this.__data__,n=e["delete"](t); this.size=e.size; return n;} const Oe=Fe; function ze(t) {return this.__data__.get(t);} const Ne=ze; function Le(t) {return this.__data__.has(t);} const He=Le; const je="[object AsyncFunction]",We="[object Function]",qe="[object GeneratorFunction]",Ue="[object Proxy]"; function $e(t) {if (!st(t)) {return false;} const e=Zt(t); return e==We||e==qe||e==je||e==Ue;} const Ge=$e; const Ke=Pt["__core-js_shared__"]; const Ze=Ke; const Je=(function() {const t=(/[^.]+$/).exec(Ze&&Ze.keys&&Ze.keys.IE_PROTO||""); return t?`Symbol(src)_1.${t}`:"";}()); function Ye(t) {return !!Je&&Je in t;} const Qe=Ye; const Xe=Function.prototype; const tn=Xe.toString; function en(t) {if (t!=null) {try {return tn.call(t);} catch (t) {} try {return `${t}`;} catch (t) {}} return "";} const nn=en; const on=/[\\^$.*+?()[\]{}|]/g; const rn=/^\[object .+?Constructor\]$/; const sn=Function.prototype,an=Object.prototype; const cn=sn.toString; const ln=an.hasOwnProperty; const dn=RegExp(`^${cn.call(ln).replace(on,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")}$`); function un(t) {if (!st(t)||Qe(t)) {return false;} const e=Ge(t)?dn:rn; return e.test(nn(t));} const hn=un; function gn(t,e) {return t==null?undefined:t[e];} const fn=gn; function mn(t,e) {const n=fn(t,e); return hn(n)?n:undefined;} const pn=mn; const kn=pn(Pt,"Map"); const bn=kn; const wn=pn(Object,"create"); const _n=wn; function Cn() {this.__data__=_n?_n(null):{}; this.size=0;} const An=Cn; function vn(t) {const e=this.has(t)&&delete this.__data__[t]; this.size-=e?1:0; return e;} const yn=vn; const xn="__lodash_hash_undefined__"; const En=Object.prototype; const Dn=En.hasOwnProperty; function Bn(t) {const e=this.__data__; if (_n) {const n=e[t]; return n===xn?undefined:n;} return Dn.call(e,t)?e[t]:undefined;} const Tn=Bn; const Sn=Object.prototype; const In=Sn.hasOwnProperty; function Pn(t) {const e=this.__data__; return _n?e[t]!==undefined:In.call(e,t);} const Rn=Pn; const Vn="__lodash_hash_undefined__"; function Mn(t,e) {const n=this.__data__; this.size+=this.has(t)?0:1; n[t]=_n&&e===undefined?Vn:e; return this;} const Fn=Mn; function On(t) {let e=-1,n=t==null?0:t.length; this.clear(); while (++e<n) {const o=t[e]; this.set(o[0],o[1]);}}On.prototype.clear=An; On.prototype["delete"]=yn; On.prototype.get=Tn; On.prototype.has=Rn; On.prototype.set=Fn; const zn=On; function Nn() {this.size=0; this.__data__={hash: new zn,map: new (bn||Re),string: new zn};} const Ln=Nn; function Hn(t) {const e=typeof t; return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null;} const jn=Hn; function Wn(t,e) {const n=t.__data__; return jn(e)?n[typeof e==="string"?"string":"hash"]:n.map;} const qn=Wn; function Un(t) {const e=qn(this,t)["delete"](t); this.size-=e?1:0; return e;} const $n=Un; function Gn(t) {return qn(this,t).get(t);} const Kn=Gn; function Zn(t) {return qn(this,t).has(t);} const Jn=Zn; function Yn(t,e) {const n=qn(this,t),o=n.size; n.set(t,e); this.size+=n.size==o?0:1; return this;} const Qn=Yn; function Xn(t) {let e=-1,n=t==null?0:t.length; this.clear(); while (++e<n) {const o=t[e]; this.set(o[0],o[1]);}}Xn.prototype.clear=Ln; Xn.prototype["delete"]=$n; Xn.prototype.get=Kn; Xn.prototype.has=Jn; Xn.prototype.set=Qn; const to=Xn; const eo=200; function no(t,e) {let n=this.__data__; if (n instanceof Re) {const o=n.__data__; if (!bn||o.length<eo-1) {o.push([t,e]); this.size=++n.size; return this;}n=this.__data__=new to(o);}n.set(t,e); this.size=n.size; return this;} const oo=no; function io(t) {const e=this.__data__=new Re(t); this.size=e.size;}io.prototype.clear=Me; io.prototype["delete"]=Oe; io.prototype.get=Ne; io.prototype.has=He; io.prototype.set=oo; const ro=io; function so(t,e) {let n=-1,o=t==null?0:t.length; while (++n<o) {if (e(t[n],n,t)===false) {break;}} return t;} const ao=so; const co=(function() {try {const t=pn(Object,"defineProperty"); t({},"",{}); return t;} catch (t) {}}()); const lo=co; function uo(t,e,n) {if (e=="__proto__"&&lo) {lo(t,e,{configurable: true,enumerable: true,value: n,writable: true});} else {t[e]=n;}} const ho=uo; const go=Object.prototype; const fo=go.hasOwnProperty; function mo(t,e,n) {const o=t[e]; if (!(fo.call(t,e)&&we(o,n))||n===undefined&&!(e in t)) {ho(t,e,n);}} const po=mo; function ko(t,e,n,o) {const i=!n; n||(n={}); let r=-1,s=e.length; while (++r<s) {const a=e[r]; let c=o?o(n[a],t[a],a,n,t):undefined; if (c===undefined) {c=t[a];} if (i) {ho(n,a,c);} else {po(n,a,c);}} return n;} const bo=ko; function wo(t,e) {let n=-1,o=Array(t); while (++n<t) {o[n]=e(n);} return o;} const _o=wo; const Co="[object Arguments]"; function Ao(t) {return Xt(t)&&Zt(t)==Co;} const vo=Ao; const yo=Object.prototype; const xo=yo.hasOwnProperty; const Eo=yo.propertyIsEnumerable; const Do=vo(function() {return arguments;}())?vo:function(t) {return Xt(t)&&xo.call(t,"callee")&&!Eo.call(t,"callee");}; const Bo=Do; function To() {return false;} const So=To; const Io=typeof exports==="object"&&exports&&!exports.nodeType&&exports; const Po=Io&&typeof module==="object"&&module&&!module.nodeType&&module; const Ro=Po&&Po.exports===Io; const Vo=Ro?Pt.Buffer:undefined; const Mo=Vo?Vo.isBuffer:undefined; const Fo=Mo||So; const Oo=Fo; const zo=9007199254740991; const No=/^(?:0|[1-9]\d*)$/; function Lo(t,e) {const n=typeof t; e=e==null?zo:e; return !!e&&(n=="number"||n!="symbol"&&No.test(t))&&(t>-1&&t%1==0&&t<e);} const Ho=Lo; const jo=9007199254740991; function Wo(t) {return typeof t==="number"&&t>-1&&t%1==0&&t<=jo;} const qo=Wo; const Uo="[object Arguments]",$o="[object Array]",Go="[object Boolean]",Ko="[object Date]",Zo="[object Error]",Jo="[object Function]",Yo="[object Map]",Qo="[object Number]",Xo="[object Object]",ti="[object RegExp]",ei="[object Set]",ni="[object String]",oi="[object WeakMap]"; const ii="[object ArrayBuffer]",ri="[object DataView]",si="[object Float32Array]",ai="[object Float64Array]",ci="[object Int8Array]",li="[object Int16Array]",di="[object Int32Array]",ui="[object Uint8Array]",hi="[object Uint8ClampedArray]",gi="[object Uint16Array]",fi="[object Uint32Array]"; const mi={}; mi[si]=mi[ai]=mi[ci]=mi[li]=mi[di]=mi[ui]=mi[hi]=mi[gi]=mi[fi]=true; mi[Uo]=mi[$o]=mi[ii]=mi[Go]=mi[ri]=mi[Ko]=mi[Zo]=mi[Jo]=mi[Yo]=mi[Qo]=mi[Xo]=mi[ti]=mi[ei]=mi[ni]=mi[oi]=false; function pi(t) {return Xt(t)&&qo(t.length)&&!!mi[Zt(t)];} const ki=pi; function bi(t) {return function(e) {return t(e);};} const wi=bi; const _i=typeof exports==="object"&&exports&&!exports.nodeType&&exports; const Ci=_i&&typeof module==="object"&&module&&!module.nodeType&&module; const Ai=Ci&&Ci.exports===_i; const vi=Ai&&Tt.process; const yi=(function() {try {const t=Ci&&Ci.require&&Ci.require("util").types; if (t) {return t;} return vi&&vi.binding&&vi.binding("util");} catch (t) {}}()); const xi=yi; const Ei=xi&&xi.isTypedArray; const Di=Ei?wi(Ei):ki; const Bi=Di; const Ti=Object.prototype; const Si=Ti.hasOwnProperty; function Ii(t,e) {const n=Yt(t),o=!n&&Bo(t),i=!n&&!o&&Oo(t),r=!n&&!o&&!i&&Bi(t),s=n||o||i||r,a=s?_o(t.length,String):[],c=a.length; for (const l in t) {if ((e||Si.call(t,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||r&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Ho(l,c)))) {a.push(l);}} return a;} const Pi=Ii; const Ri=Object.prototype; function Vi(t) {const e=t&&t.constructor,n=typeof e==="function"&&e.prototype||Ri; return t===n;} const Mi=Vi; const Fi=re(Object.keys,Object); const Oi=Fi; const zi=Object.prototype; const Ni=zi.hasOwnProperty; function Li(t) {if (!Mi(t)) {return Oi(t);} const e=[]; for (const n in Object(t)) {if (Ni.call(t,n)&&n!="constructor") {e.push(n);}} return e;} const Hi=Li; function ji(t) {return t!=null&&qo(t.length)&&!Ge(t);} const Wi=ji; function qi(t) {return Wi(t)?Pi(t):Hi(t);} const Ui=qi; function $i(t,e) {return t&&bo(e,Ui(e),t);} const Gi=$i; function Ki(t) {const e=[]; if (t!=null) {for (const n in Object(t)) {e.push(n);}} return e;} const Zi=Ki; const Ji=Object.prototype; const Yi=Ji.hasOwnProperty; function Qi(t) {if (!st(t)) {return Zi(t);} const e=Mi(t),n=[]; for (const o in t) {if (!(o=="constructor"&&(e||!Yi.call(t,o)))) {n.push(o);}} return n;} const Xi=Qi; function tr(t) {return Wi(t)?Pi(t,true):Xi(t);} const er=tr; function nr(t,e) {return t&&bo(e,er(e),t);} const or=nr; const ir=typeof exports==="object"&&exports&&!exports.nodeType&&exports; const rr=ir&&typeof module==="object"&&module&&!module.nodeType&&module; const sr=rr&&rr.exports===ir; const ar=sr?Pt.Buffer:undefined,cr=ar?ar.allocUnsafe:undefined; function lr(t,e) {if (e) {return t.slice();} const n=t.length,o=cr?cr(n):new t.constructor(n); t.copy(o); return o;} const dr=lr; function ur(t,e) {let n=-1,o=t.length; e||(e=Array(o)); while (++n<o) {e[n]=t[n];} return e;} const hr=ur; function gr(t,e) {let n=-1,o=t==null?0:t.length,i=0,r=[]; while (++n<o) {const s=t[n]; if (e(s,n,t)) {r[i++]=s;}} return r;} const fr=gr; function mr() {return [];} const pr=mr; const kr=Object.prototype; const br=kr.propertyIsEnumerable; const wr=Object.getOwnPropertySymbols; const _r=!wr?pr:function(t) {if (t==null) {return [];}t=Object(t); return fr(wr(t),((e) => {return br.call(t,e);}));}; const Cr=_r; function Ar(t,e) {return bo(t,Cr(t),e);} const vr=Ar; function yr(t,e) {let n=-1,o=e.length,i=t.length; while (++n<o) {t[i+n]=e[n];} return t;} const xr=yr; const Er=Object.getOwnPropertySymbols; const Dr=!Er?pr:function(t) {const e=[]; while (t) {xr(e,Cr(t)); t=ae(t);} return e;}; const Br=Dr; function Tr(t,e) {return bo(t,Br(t),e);} const Sr=Tr; function Ir(t,e,n) {const o=e(t); return Yt(t)?o:xr(o,n(t));} const Pr=Ir; function Rr(t) {return Pr(t,Ui,Cr);} const Vr=Rr; function Mr(t) {return Pr(t,er,Br);} const Fr=Mr; const Or=pn(Pt,"DataView"); const zr=Or; const Nr=pn(Pt,"Promise"); const Lr=Nr; const Hr=pn(Pt,"Set"); const jr=Hr; const Wr=pn(Pt,"WeakMap"); const qr=Wr; const Ur="[object Map]",$r="[object Object]",Gr="[object Promise]",Kr="[object Set]",Zr="[object WeakMap]"; const Jr="[object DataView]"; const Yr=nn(zr),Qr=nn(bn),Xr=nn(Lr),ts=nn(jr),es=nn(qr); let ns=Zt; if (zr&&ns(new zr(new ArrayBuffer(1)))!=Jr||bn&&ns(new bn)!=Ur||Lr&&ns(Lr.resolve())!=Gr||jr&&ns(new jr)!=Kr||qr&&ns(new qr)!=Zr) {ns=function(t) {const e=Zt(t),n=e==$r?t.constructor:undefined,o=n?nn(n):""; if (o) {switch (o) {case Yr:return Jr; case Qr:return Ur; case Xr:return Gr; case ts:return Kr; case es:return Zr;}} return e;};} const os=ns; const is=Object.prototype; const rs=is.hasOwnProperty; function ss(t) {const e=t.length,n=new t.constructor(e); if (e&&typeof t[0]==="string"&&rs.call(t,"index")) {n.index=t.index; n.input=t.input;} return n;} const as=ss; const cs=Pt.Uint8Array; const ls=cs; function ds(t) {const e=new t.constructor(t.byteLength); new ls(e).set(new ls(t)); return e;} const us=ds; function hs(t,e) {const n=e?us(t.buffer):t.buffer; return new t.constructor(n,t.byteOffset,t.byteLength);} const gs=hs; const fs=/\w*$/; function ms(t) {const e=new t.constructor(t.source,fs.exec(t)); e.lastIndex=t.lastIndex; return e;} const ps=ms; const ks=Vt?Vt.prototype:undefined,bs=ks?ks.valueOf:undefined; function ws(t) {return bs?Object(bs.call(t)):{};} const _s=ws; function Cs(t,e) {const n=e?us(t.buffer):t.buffer; return new t.constructor(n,t.byteOffset,t.length);} const As=Cs; const vs="[object Boolean]",ys="[object Date]",xs="[object Map]",Es="[object Number]",Ds="[object RegExp]",Bs="[object Set]",Ts="[object String]",Ss="[object Symbol]"; const Is="[object ArrayBuffer]",Ps="[object DataView]",Rs="[object Float32Array]",Vs="[object Float64Array]",Ms="[object Int8Array]",Fs="[object Int16Array]",Os="[object Int32Array]",zs="[object Uint8Array]",Ns="[object Uint8ClampedArray]",Ls="[object Uint16Array]",Hs="[object Uint32Array]"; function js(t,e,n) {const o=t.constructor; switch (e) {case Is:return us(t); case vs:case ys:return new o(+t); case Ps:return gs(t,n); case Rs:case Vs:case Ms:case Fs:case Os:case zs:case Ns:case Ls:case Hs:return As(t,n); case xs:return new o; case Es:case Ts:return new o(t); case Ds:return ps(t); case Bs:return new o; case Ss:return _s(t);}} const Ws=js; const qs=Object.create; const Us=(function() {function t() {} return function(e) {if (!st(e)) {return {};} if (qs) {return qs(e);}t.prototype=e; const n=new t; t.prototype=undefined; return n;};}()); const $s=Us; function Gs(t) {return typeof t.constructor==="function"&&!Mi(t)?$s(ae(t)):{};} const Ks=Gs; const Zs="[object Map]"; function Js(t) {return Xt(t)&&os(t)==Zs;} const Ys=Js; const Qs=xi&&xi.isMap; const Xs=Qs?wi(Qs):Ys; const ta=Xs; const ea="[object Set]"; function na(t) {return Xt(t)&&os(t)==ea;} const oa=na; const ia=xi&&xi.isSet; const ra=ia?wi(ia):oa; const sa=ra; const aa=1,ca=2,la=4; const da="[object Arguments]",ua="[object Array]",ha="[object Boolean]",ga="[object Date]",fa="[object Error]",ma="[object Function]",pa="[object GeneratorFunction]",ka="[object Map]",ba="[object Number]",wa="[object Object]",_a="[object RegExp]",Ca="[object Set]",Aa="[object String]",va="[object Symbol]",ya="[object WeakMap]"; const xa="[object ArrayBuffer]",Ea="[object DataView]",Da="[object Float32Array]",Ba="[object Float64Array]",Ta="[object Int8Array]",Sa="[object Int16Array]",Ia="[object Int32Array]",Pa="[object Uint8Array]",Ra="[object Uint8ClampedArray]",Va="[object Uint16Array]",Ma="[object Uint32Array]"; const Fa={}; Fa[da]=Fa[ua]=Fa[xa]=Fa[Ea]=Fa[ha]=Fa[ga]=Fa[Da]=Fa[Ba]=Fa[Ta]=Fa[Sa]=Fa[Ia]=Fa[ka]=Fa[ba]=Fa[wa]=Fa[_a]=Fa[Ca]=Fa[Aa]=Fa[va]=Fa[Pa]=Fa[Ra]=Fa[Va]=Fa[Ma]=true; Fa[fa]=Fa[ma]=Fa[ya]=false; function Oa(t,e,n,o,i,r) {let s,a=e&aa,c=e&ca,l=e&la; if (n) {s=i?n(t,o,i,r):n(t);} if (s!==undefined) {return s;} if (!st(t)) {return t;} const d=Yt(t); if (d) {s=as(t); if (!a) {return hr(t,s);}} else {const u=os(t),h=u==ma||u==pa; if (Oo(t)) {return dr(t,a);} if (u==wa||u==da||h&&!i) {s=c||h?{}:Ks(t); if (!a) {return c?Sr(t,or(s,t)):vr(t,Gi(s,t));}} else {if (!Fa[u]) {return i?t:{};}s=Ws(t,u,a);}}r||(r=new ro); const g=r.get(t); if (g) {return g;}r.set(t,s); if (sa(t)) {t.forEach(((o) => {s.add(Oa(o,e,n,o,t,r));}));} else if (ta(t)) {t.forEach(((o,i) => {s.set(i,Oa(o,e,n,i,t,r));}));} const f=l?c?Fr:Vr:c?er:Ui; const m=d?undefined:f(t); ao(m||t,((o,i) => {if (m) {i=o; o=t[i];}po(s,i,Oa(o,e,n,i,t,r));})); return s;} const za=Oa; const Na=1,La=4; function Ha(t,e) {e=typeof e==="function"?e:undefined; return za(t,Na|La,e);} const ja=Ha; function Wa(t) {return Xt(t)&&t.nodeType===1&&!me(t);} const qa=Wa; class Ua {constructor(t,e) {this._config={}; if (e) {this.define($a(e));} if (t) {this._setObjectToTarget(this._config,t);}}set(t,e) {this._setToTarget(this._config,t,e);}define(t,e) {const n=true; this._setToTarget(this._config,t,e,n);}get(t) {return this._getFromSource(this._config,t);}*names() {for (const t of Object.keys(this._config)) {yield t;}}_setToTarget(t,e,n,o=false) {if (me(e)) {this._setObjectToTarget(t,e,o); return;} const i=e.split("."); e=i.pop(); for (const e of i) {if (!me(t[e])) {t[e]={};}t=t[e];} if (me(n)) {if (!me(t[e])) {t[e]={};}t=t[e]; this._setObjectToTarget(t,n,o); return;} if (o&&typeof t[e]!=="undefined") {return;}t[e]=n;}_getFromSource(t,e) {const n=e.split("."); e=n.pop(); for (const e of n) {if (!me(t[e])) {t=null; break;}t=t[e];} return t?$a(t[e]):undefined;}_setObjectToTarget(t,e,n) {Object.keys(e).forEach((o => {this._setToTarget(t,o,e[o],n);}));}} function $a(t) {return ja(t,Ga);} function Ga(t) {return qa(t)||typeof t==="function"?t:undefined;} function Ka(t) {if (t) {if (t.defaultView) {return t instanceof t.defaultView.Document;} else if (t.ownerDocument&&t.ownerDocument.defaultView) {return t instanceof t.ownerDocument.defaultView.Node;}} return false;} function Za(t) {const e=Object.prototype.toString.apply(t); if (e=="[object Window]") {return true;} if (e=="[object global]") {return true;} return false;} const Ja=Ya(G()); function Ya(t) {if (!t) {return Ja;} class e extends t {listenTo(t,e,n,o={}) {if (Ka(t)||Za(t)) {const i={capture: !!o.useCapture,passive: !!o.usePassive}; const r=this._getProxyEmitter(t,i)||new Qa(t,i); this.listenTo(r,e,n,o);} else {super.listenTo(t,e,n,o);}}stopListening(t,e,n) {if (Ka(t)||Za(t)) {const o=this._getAllProxyEmitters(t); for (const t of o) {this.stopListening(t,e,n);}} else {super.stopListening(t,e,n);}}_getProxyEmitter(t,e) {return K(this,tc(t,e));}_getAllProxyEmitters(t) {return [{capture: false,passive: false},{capture: false,passive: true},{capture: true,passive: false},{capture: true,passive: true}].map((e => this._getProxyEmitter(t,e))).filter((t => !!t));}} return e;}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((t => {Ya[t]=Ja.prototype[t];})); class Qa extends (G()) {constructor(t,e) {super(); Z(this,tc(t,e)); this._domNode=t; this._options=e;}attach(t) {if (this._domListeners&&this._domListeners[t]) {return;} const e=this._createDomListener(t); this._domNode.addEventListener(t,e,this._options); if (!this._domListeners) {this._domListeners={};} this._domListeners[t]=e;}detach(t) {let e; if (this._domListeners[t]&&(!(e=this._events[t])||!e.callbacks.length)) {this._domListeners[t].removeListener();}}_addEventListener(t,e,n) {this.attach(t); G().prototype._addEventListener.call(this,t,e,n);}_removeEventListener(t,e) {G().prototype._removeEventListener.call(this,t,e); this.detach(t);}_createDomListener(t) {const e=e => {this.fire(t,e);}; e.removeListener=() => {this._domNode.removeEventListener(t,e,this._options); delete this._domListeners[t];}; return e;}} function Xa(t) {return t["data-ck-expando"]||(t["data-ck-expando"]=T());} function tc(t,e) {let n=Xa(t); for (const t of Object.keys(e).sort()) {if (e[t]) {n+=`-${t}`;}} return n;} let ec; try {ec={window,document};} catch (t) {ec={window: {},document: {}};} const nc=ec; function oc(t) {let e=t.parentElement; if (!e) {return null;} while (e.tagName!="BODY") {const t=e.style.overflowY||global.window.getComputedStyle(e).overflowY; if (t==="auto"||t==="scroll") {break;}e=e.parentElement; if (!e) {return null;}} return e;} function ic(t) {const e=[]; let n=t; while (n&&n.nodeType!=Node.DOCUMENT_NODE) {e.unshift(n); n=n.parentNode;} return e;} function rc(t) {if (t instanceof HTMLTextAreaElement) {return t.value;} return t.innerHTML;} function sc(t) {const e=t.ownerDocument.defaultView.getComputedStyle(t); return {top: parseInt(e.borderTopWidth,10),right: parseInt(e.borderRightWidth,10),bottom: parseInt(e.borderBottomWidth,10),left: parseInt(e.borderLeftWidth,10)};} function ac(t) {return Object.prototype.toString.call(t)=="[object Text]";} function cc(t) {return Object.prototype.toString.apply(t)=="[object Range]";} function lc(t) {if (!t||!t.parentNode) {return null;} if (t.offsetParent===nc.document.body) {return null;} return t.offsetParent;} const dc=["top","right","bottom","left","width","height"]; class uc {constructor(t) {const e=cc(t); Object.defineProperty(this,"_source",{value: t._source||t,writable: true,enumerable: false}); if (fc(t)||e) {if (e) {const e=uc.getDomRangeRects(t); hc(this,uc.getBoundingRect(e));} else {hc(this,t.getBoundingClientRect());}} else if (Za(t)) {const {innerWidth: e,innerHeight: n}=t; hc(this,{top: 0,right: e,bottom: n,left: 0,width: e,height: n});} else {hc(this,t);}}clone() {return new uc(this);}moveTo(t,e) {this.top=e; this.right=t+this.width; this.bottom=e+this.height; this.left=t; return this;}moveBy(t,e) {this.top+=e; this.right+=t; this.left+=t; this.bottom+=e; return this;}getIntersection(t) {const e={top: Math.max(this.top,t.top),right: Math.min(this.right,t.right),bottom: Math.min(this.bottom,t.bottom),left: Math.max(this.left,t.left),width: 0,height: 0}; e.width=e.right-e.left; e.height=e.bottom-e.top; if (e.width<0||e.height<0) {return null;} else {const t=new uc(e); t._source=this._source; return t;}}getIntersectionArea(t) {const e=this.getIntersection(t); if (e) {return e.getArea();} return 0;}getArea() {return this.width*this.height;}getVisible() {const t=this._source; let e=this.clone(); if (gc(t)) {return e;} let n=t; let o=t.parentNode||t.commonAncestorContainer; let i; while (o&&!gc(o)) {const t=pc(o)==="visible"; if (n instanceof HTMLElement&&mc(n)==="absolute") {i=n;} const r=mc(o); if (t||i&&(r==="relative"&&t||r!=="relative")) {n=o; o=o.parentNode; continue;} const s=new uc(o); const a=e.getIntersection(s); if (a) {if (a.getArea()<e.getArea()) {e=a;}} else {return null;}n=o; o=o.parentNode;} return e;}isEqual(t) {for (const e of dc) {if (this[e]!==t[e]) {return false;}} return true;}contains(t) {const e=this.getIntersection(t); return !!(e&&e.isEqual(t));}toAbsoluteRect() {const {scrollX: t,scrollY: e}=nc.window; const n=this.clone().moveBy(t,e); if (fc(n._source)) {const t=lc(n._source); if (t) {kc(n,t);}} return n;}excludeScrollbarsAndBorders() {const t=this._source; let e,n,o; if (Za(t)) {e=t.innerWidth-t.document.documentElement.clientWidth; n=t.innerHeight-t.document.documentElement.clientHeight; o=t.getComputedStyle(t.document.documentElement).direction;} else {const i=sc(t); e=t.offsetWidth-t.clientWidth-i.left-i.right; n=t.offsetHeight-t.clientHeight-i.top-i.bottom; o=t.ownerDocument.defaultView.getComputedStyle(t).direction; this.left+=i.left; this.top+=i.top; this.right-=i.right; this.bottom-=i.bottom; this.width=this.right-this.left; this.height=this.bottom-this.top;} this.width-=e; if (o==="ltr") {this.right-=e;} else {this.left+=e;} this.height-=n; this.bottom-=n; return this;} static getDomRangeRects(t) {const e=[]; const n=Array.from(t.getClientRects()); if (n.length) {for (const t of n) {e.push(new uc(t));}} else {let n=t.startContainer; if (ac(n)) {n=n.parentNode;} const o=new uc(n.getBoundingClientRect()); o.right=o.left; o.width=0; e.push(o);} return e;} static getBoundingRect(t) {const e={left: Number.POSITIVE_INFINITY,top: Number.POSITIVE_INFINITY,right: Number.NEGATIVE_INFINITY,bottom: Number.NEGATIVE_INFINITY,width: 0,height: 0}; let n=0; for (const o of t) {n++; e.left=Math.min(e.left,o.left); e.top=Math.min(e.top,o.top); e.right=Math.max(e.right,o.right); e.bottom=Math.max(e.bottom,o.bottom);} if (n==0) {return null;}e.width=e.right-e.left; e.height=e.bottom-e.top; return new uc(e);}} function hc(t,e) {for (const n of dc) {t[n]=e[n];}} function gc(t) {if (!fc(t)) {return false;} return t===t.ownerDocument.body;} function fc(t) {return t!==null&&typeof t==="object"&&t.nodeType===1&&typeof t.getBoundingClientRect==="function";} function mc(t) {return t instanceof HTMLElement?t.ownerDocument.defaultView.getComputedStyle(t).position:"static";} function pc(t) {return t instanceof HTMLElement?t.ownerDocument.defaultView.getComputedStyle(t).overflow:"visible";} function kc(t,e) {const n=new uc(e); const o=sc(e); let i=0; let r=0; i-=n.left; r-=n.top; i+=e.scrollLeft; r+=e.scrollTop; i-=o.left; r-=o.top; t.moveBy(i,r);} class bc {constructor(t,e) {if (!bc._observerInstance) {bc._createObserver();} this._element=t; this._callback=e; bc._addElementCallback(t,e); bc._observerInstance.observe(t);} get element() {return this._element;}destroy() {bc._deleteElementCallback(this._element,this._callback);} static _addElementCallback(t,e) {if (!bc._elementCallbacks) {bc._elementCallbacks=new Map;} let n=bc._elementCallbacks.get(t); if (!n) {n=new Set; bc._elementCallbacks.set(t,n);}n.add(e);} static _deleteElementCallback(t,e) {const n=bc._getElementCallbacks(t); if (n) {n.delete(e); if (!n.size) {bc._elementCallbacks.delete(t); bc._observerInstance.unobserve(t);}} if (bc._elementCallbacks&&!bc._elementCallbacks.size) {bc._observerInstance=null; bc._elementCallbacks=null;}} static _getElementCallbacks(t) {if (!bc._elementCallbacks) {return null;} return bc._elementCallbacks.get(t);} static _createObserver() {bc._observerInstance=new nc.window.ResizeObserver((t => {for (const e of t) {const t=bc._getElementCallbacks(e.target); if (t) {for (const n of t) {n(e);}}}}));}}bc._observerInstance=null; bc._elementCallbacks=null; const wc=bc; function _c(t,e) {if (t instanceof HTMLTextAreaElement) {t.value=e;}t.innerHTML=e;} function Cc(t) {return e => e+t;} function Ac(t) {let e=0; while (t.previousSibling) {t=t.previousSibling; e++;} return e;} function vc(t,e,n) {t.insertBefore(n,t.childNodes[e]||null);} function yc(t) {return t&&t.nodeType===Node.COMMENT_NODE;} function xc(t) {try {nc.document.createAttribute(t);} catch (t) {return false;} return true;} function Ec(t) {return !!(t&&t.getClientRects&&t.getClientRects().length);} function Dc({element: t,target: e,positions: n,limiter: o,fitInViewport: i,viewportOffsetConfig: r}) {if (Ge(e)) {e=e();} if (Ge(o)) {o=o();} const s=lc(t); const a=Tc(r); const c=new uc(t); const l=Bc(e,a); let d; if (!l||!a.getIntersection(l)) {return null;} const u={targetRect: l,elementRect: c,positionedElementAncestor: s,viewportRect: a}; if (!o&&!i) {d=new Ic(n[0],u);} else {if (o) {const t=Bc(o,a); if (t) {u.limiterRect=t;}}d=Sc(n,u);} return d;} function Bc(t,e) {const n=new uc(t).getVisible(); if (!n) {return null;} return n.getIntersection(e);} function Tc(t) {t=Object.assign({top: 0,bottom: 0,left: 0,right: 0},t); const e=new uc(nc.window); e.top+=t.top; e.height-=t.top; e.bottom-=t.bottom; e.height-=t.bottom; return e;} function Sc(t,e) {const {elementRect: n}=e; const o=n.getArea(); const i=t.map((t => new Ic(t,e))).filter((t => !!t.name)); let r=0; let s=null; for (const t of i) {const {limiterIntersectionArea: e,viewportIntersectionArea: n}=t; if (e===o) {return t;} const i=n**2+e**2; if (i>r) {r=i; s=t;}} return s;} class Ic {constructor(t,e) {const n=t(e.targetRect,e.elementRect,e.viewportRect,e.limiterRect); if (!n) {return;} const {left: o,top: i,name: r,config: s}=n; this.name=r; this.config=s; this._positioningFunctionCoordinates={left: o,top: i}; this._options=e;} get left() {return this._absoluteRect.left;} get top() {return this._absoluteRect.top;} get limiterIntersectionArea() {const t=this._options.limiterRect; if (t) {return t.getIntersectionArea(this._rect);} return 0;} get viewportIntersectionArea() {const t=this._options.viewportRect; return t.getIntersectionArea(this._rect);} get _rect() {if (this._cachedRect) {return this._cachedRect;} this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top); return this._cachedRect;} get _absoluteRect() {if (this._cachedAbsoluteRect) {return this._cachedAbsoluteRect;} this._cachedAbsoluteRect=this._rect.toAbsoluteRect(); return this._cachedAbsoluteRect;}} function Pc(t) {const e=t.parentNode; if (e) {e.removeChild(t);}} function Rc({target: t,viewportOffset: e=0,ancestorOffset: n=0,alignToTop: o,forceScroll: i}) {const r=Hc(t); let s=r; let a=null; e=qc(e); while (s) {let c; if (s==r) {c=jc(t);} else {c=jc(a);}Fc({parent: c,getRect: () => Wc(t,s),alignToTop: o,ancestorOffset: n,forceScroll: i}); const l=Wc(t,s); Mc({window: s,rect: l,viewportOffset: e,alignToTop: o,forceScroll: i}); if (s.parent!=s) {a=s.frameElement; s=s.parent; if (!a) {return;}} else {s=null;}}} function Vc(t,e,n) {const o=jc(t); Fc({parent: o,getRect: () => new Rect(t),ancestorOffset: e,limiterElement: n});} function Mc({window: t,rect: e,alignToTop: n,forceScroll: o,viewportOffset: i}) {const r=e.clone().moveBy(0,i.bottom); const s=e.clone().moveBy(0,-i.top); const a=new uc(t).excludeScrollbarsAndBorders(); const c=[s,r]; const l=n&&o; const d=c.every((t => a.contains(t))); let {scrollX: u,scrollY: h}=t; const g=u; const f=h; if (l) {h-=a.top-e.top+i.top;} else if (!d) {if (zc(s,a)) {h-=a.top-e.top+i.top;} else if (Oc(r,a)) {if (n) {h+=e.top-a.top-i.top;} else {h+=e.bottom-a.bottom+i.bottom;}}} if (!d) {if (Nc(e,a)) {u-=a.left-e.left+i.left;} else if (Lc(e,a)) {u+=e.right-a.right+i.right;}} if (u!=g||h!==f) {t.scrollTo(u,h);}} function Fc({parent: t,getRect: e,alignToTop: n,forceScroll: o,ancestorOffset: i=0,limiterElement: r}) {const s=Hc(t); const a=n&&o; let c,l,d; const u=r||s.document.body; while (t!=u) {l=e(); c=new uc(t).excludeScrollbarsAndBorders(); d=c.contains(l); if (a) {t.scrollTop-=c.top-l.top+i;} else if (!d) {if (zc(l,c)) {t.scrollTop-=c.top-l.top+i;} else if (Oc(l,c)) {if (n) {t.scrollTop+=l.top-c.top-i;} else {t.scrollTop+=l.bottom-c.bottom+i;}}} if (!d) {if (Nc(l,c)) {t.scrollLeft-=c.left-l.left+i;} else if (Lc(l,c)) {t.scrollLeft+=l.right-c.right+i;}}t=t.parentNode;}} function Oc(t,e) {return t.bottom>e.bottom;} function zc(t,e) {return t.top<e.top;} function Nc(t,e) {return t.left<e.left;} function Lc(t,e) {return t.right>e.right;} function Hc(t) {if (cc(t)) {return t.startContainer.ownerDocument.defaultView;} return t.ownerDocument.defaultView;} function jc(t) {if (cc(t)) {let e=t.commonAncestorContainer; if (ac(e)) {e=e.parentNode;} return e;} return t.parentNode;} function Wc(t,e) {const n=Hc(t); const o=new uc(t); if (n===e) {return o;} else {let t=n; while (t!=e) {const e=t.frameElement; const n=new uc(e).excludeScrollbarsAndBorders(); o.moveBy(n.left,n.top); t=t.parent;}} return o;} function qc(t) {if (typeof t==="number") {return {top: t,bottom: t,left: t,right: t};} return t;} const Uc={ctrl: "⌃",cmd: "⌘",alt: "⌥",shift: "⇧"}; const $c={ctrl: "Ctrl+",alt: "Alt+",shift: "Shift+"}; const Gc={37: "←",38: "↑",39: "→",40: "↓",9: "⇥",33: "Page Up",34: "Page Down"}; const Kc=ol(); const Zc=Object.fromEntries(Object.entries(Kc).map((([t,e]) => {let n; if (e in Gc) {n=Gc[e];} else {n=t.charAt(0).toUpperCase()+t.slice(1);} return [e,n];}))); function Jc(t) {let e; if (typeof t==="string") {e=Kc[t.toLowerCase()]; if (!e) {throw new V("keyboard-unknown-key",null,{key: t});}} else {e=t.keyCode+(t.altKey?Kc.alt:0)+(t.ctrlKey?Kc.ctrl:0)+(t.shiftKey?Kc.shift:0)+(t.metaKey?Kc.cmd:0);} return e;} function Yc(t) {if (typeof t==="string") {t=il(t);} return t.map((t => typeof t==="string"?el(t):t)).reduce(((t,e) => e+t),0);} function Qc(t) {let e=Yc(t); const n=Object.entries(l.isMac||l.isiOS?Uc:$c); const o=n.reduce(((t,[n,o]) => {if ((e&Kc[n])!=0) {e&=~Kc[n]; t+=o;} return t;}),""); return o+(e?Zc[e]:"");} function Xc(t) {return t==Kc.arrowright||t==Kc.arrowleft||t==Kc.arrowup||t==Kc.arrowdown;} function tl(t,e) {const n=e==="ltr"; switch (t) {case Kc.arrowleft:return n?"left":"right"; case Kc.arrowright:return n?"right":"left"; case Kc.arrowup:return "up"; case Kc.arrowdown:return "down";}} function el(t) {if (t.endsWith("!")) {return Jc(t.slice(0,-1));} const e=Jc(t); return (l.isMac||l.isiOS)&&e==Kc.ctrl?Kc.cmd:e;} function nl(t,e) {const n=tl(t,e); return n==="down"||n==="right";} function ol() {const t={pageup: 33,pagedown: 34,arrowleft: 37,arrowup: 38,arrowright: 39,arrowdown: 40,backspace: 8,delete: 46,enter: 13,space: 32,esc: 27,tab: 9,ctrl: 1114112,shift: 2228224,alt: 4456448,cmd: 8912896}; for (let e=65; e<=90; e++) {const n=String.fromCharCode(e); t[n.toLowerCase()]=e;} for (let e=48; e<=57; e++) {t[e-48]=e;} for (let e=112; e<=123; e++) {t[`f${e-111}`]=e;}Object.assign(t,{"'": 222,",": 108,"-": 109,".": 110,"/": 111,";": 186,"=": 187,"[": 219,"\\": 220,"]": 221,"`": 223}); return t;} function il(t) {return t.split("+").map((t => t.trim()));} function rl(t) {return Array.isArray(t)?t:[t];} function sl(t,e,n) {if (n!==undefined&&!we(t[e],n)||n===undefined&&!(e in t)) {ho(t,e,n);}} const al=sl; function cl(t) {return function(e,n,o) {let i=-1,r=Object(e),s=o(e),a=s.length; while (a--) {const c=s[t?a:++i]; if (n(r[c],c,r)===false) {break;}} return e;};} const ll=cl; const dl=ll(); const ul=dl; function hl(t) {return Xt(t)&&Wi(t);} const gl=hl; function fl(t,e) {if (e==="constructor"&&typeof t[e]==="function") {return;} if (e=="__proto__") {return;} return t[e];} const ml=fl; function pl(t) {return bo(t,er(t));} const kl=pl; function bl(t,e,n,o,i,r,s) {const a=ml(t,n),c=ml(e,n),l=s.get(c); if (l) {al(t,n,l); return;} let d=r?r(a,c,`${n}`,t,e,s):undefined; let u=d===undefined; if (u) {const h=Yt(c),g=!h&&Oo(c),f=!h&&!g&&Bi(c); d=c; if (h||g||f) {if (Yt(a)) {d=a;} else if (gl(a)) {d=hr(a);} else if (g) {u=false; d=dr(c,true);} else if (f) {u=false; d=As(c,true);} else {d=[];}} else if (me(c)||Bo(c)) {d=a; if (Bo(a)) {d=kl(a);} else if (!st(a)||Ge(a)) {d=Ks(c);}} else {u=false;}} if (u) {s.set(c,d); i(d,c,o,r,s); s["delete"](c);}al(t,n,d);} const wl=bl; function _l(t,e,n,o,i) {if (t===e) {return;}ul(e,((r,s) => {i||(i=new ro); if (st(r)) {wl(t,e,s,n,_l,o,i);} else {let a=o?o(ml(t,s),r,`${s}`,t,e,i):undefined; if (a===undefined) {a=r;}al(t,s,a);}}),er);} const Cl=_l; function Al(t) {return t;} const vl=Al; function yl(t,e,n) {switch (n.length) {case 0:return t.call(e); case 1:return t.call(e,n[0]); case 2:return t.call(e,n[0],n[1]); case 3:return t.call(e,n[0],n[1],n[2]);} return t.apply(e,n);} const xl=yl; const El=Math.max; function Dl(t,e,n) {e=El(e===undefined?t.length-1:e,0); return function() {let o=arguments,i=-1,r=El(o.length-e,0),s=Array(r); while (++i<r) {s[i]=o[e+i];}i=-1; const a=Array(e+1); while (++i<e) {a[i]=o[i];}a[e]=n(s); return xl(t,this,a);};} const Bl=Dl; function Tl(t) {return function() {return t;};} const Sl=Tl; const Il=!lo?vl:function(t,e) {return lo(t,"toString",{configurable: true,enumerable: false,value: Sl(e),writable: true});}; const Pl=Il; const Rl=800,Vl=16; const Ml=Date.now; function Fl(t) {let e=0,n=0; return function() {const o=Ml(),i=Vl-(o-n); n=o; if (i>0) {if (++e>=Rl) {return arguments[0];}} else {e=0;} return t.apply(undefined,arguments);};} const Ol=Fl; const zl=Ol(Pl); const Nl=zl; function Ll(t,e) {return Nl(Bl(t,e,vl),`${t}`);} const Hl=Ll; function jl(t,e,n) {if (!st(n)) {return false;} const o=typeof e; if (o=="number"?Wi(n)&&Ho(e,n.length):o=="string"&&e in n) {return we(n[e],t);} return false;} const Wl=jl; function ql(t) {return Hl(((e,n) => {let o=-1,i=n.length,r=i>1?n[i-1]:undefined,s=i>2?n[2]:undefined; r=t.length>3&&typeof r==="function"?(i--,r):undefined; if (s&&Wl(n[0],n[1],s)) {r=i<3?undefined:r; i=1;}e=Object(e); while (++o<i) {const a=n[o]; if (a) {t(e,a,o,r);}} return e;}));} const Ul=ql; const $l=Ul(((t,e,n) => {Cl(t,e,n);})); const Gl=$l; if (!nc.window.CKEDITOR_TRANSLATIONS) {nc.window.CKEDITOR_TRANSLATIONS={};} function Kl(t,e,n) {if (!global.window.CKEDITOR_TRANSLATIONS[t]) {global.window.CKEDITOR_TRANSLATIONS[t]={};} const o=global.window.CKEDITOR_TRANSLATIONS[t]; o.dictionary=o.dictionary||{}; o.getPluralForm=n||o.getPluralForm; Object.assign(o.dictionary,e);} function Zl(t,e,n=1,o) {if (typeof n!=="number") {throw new V("translation-service-quantity-not-a-number",null,{quantity: n});} const i=o||nc.window.CKEDITOR_TRANSLATIONS; const r=Xl(i); if (r===1) {t=Object.keys(i)[0];} const s=e.id||e.string; if (r===0||!Ql(t,s,i)) {if (n!==1) {return e.plural;} return e.string;} const a=i[t].dictionary; const c=i[t].getPluralForm||(t => t===1?0:1); const l=a[s]; if (typeof l==="string") {return l;} const d=Number(c(n)); return l[d];} function Jl() {if (global.window.CKEDITOR_TRANSLATIONS) {global.window.CKEDITOR_TRANSLATIONS={};}} function Yl(t) {return Array.isArray(t)?t.reduce(((t,e) => Gl(t,e))):t;} function Ql(t,e,n) {return !!n[t]&&!!n[t].dictionary[e];} function Xl(t) {return Object.keys(t).length;} const td=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"]; function ed(t) {return td.includes(t)?"rtl":"ltr";} class nd {constructor({uiLanguage: t="en",contentLanguage: e,translations: n}={}) {this.uiLanguage=t; this.contentLanguage=e||this.uiLanguage; this.uiLanguageDirection=ed(this.uiLanguage); this.contentLanguageDirection=ed(this.contentLanguage); this.translations=Yl(n); this.t=(t,e) => this._t(t,e);} get language() {console.warn("locale-deprecated-language-property: "+"The Locale#language property has been deprecated and will be removed in the near future. "+"Please use #uiLanguage and #contentLanguage properties instead."); return this.uiLanguage;}_t(t,e=[]) {e=rl(e); if (typeof t==="string") {t={string: t};} const n=!!t.plural; const o=n?e[0]:1; const i=Zl(this.uiLanguage,t,o,this.translations); return od(i,e);}} function od(t,e) {return t.replace(/%(\d+)/g,((t,n) => n<e.length?e[n]:t));} class id extends (G()) {constructor(t={},e={}) {super(); const n=Dt(t); if (!n) {e=t;} this._items=[]; this._itemMap=new Map; this._idProperty=e.idProperty||"id"; this._bindToExternalToInternalMap=new WeakMap; this._bindToInternalToExternalMap=new WeakMap; this._skippedIndexesFromExternal=[]; if (n) {for (const e of t) {this._items.push(e); this._itemMap.set(this._getItemIdBeforeAdding(e),e);}}} get length() {return this._items.length;} get first() {return this._items[0]||null;} get last() {return this._items[this.length-1]||null;}add(t,e) {return this.addMany([t],e);}addMany(t,e) {if (e===undefined) {e=this._items.length;} else if (e>this._items.length||e<0) {throw new V("collection-add-item-invalid-index",this);} let n=0; for (const o of t) {const t=this._getItemIdBeforeAdding(o); const i=e+n; this._items.splice(i,0,o); this._itemMap.set(t,o); this.fire("add",o,i); n++;} this.fire("change",{added: t,removed: [],index: e}); return this;}get(t) {let e; if (typeof t==="string") {e=this._itemMap.get(t);} else if (typeof t==="number") {e=this._items[t];} else {throw new V("collection-get-invalid-arg",this);} return e||null;}has(t) {if (typeof t==="string") {return this._itemMap.has(t);} const e=this._idProperty; const n=t[e]; return n&&this._itemMap.has(n);}getIndex(t) {let e; if (typeof t==="string") {e=this._itemMap.get(t);} else {e=t;} return e?this._items.indexOf(e):-1;}remove(t) {const [e,n]=this._remove(t); this.fire("change",{added: [],removed: [e],index: n}); return e;}map(t,e) {return this._items.map(t,e);}forEach(t,e) {this._items.forEach(t,e);}find(t,e) {return this._items.find(t,e);}filter(t,e) {return this._items.filter(t,e);}clear() {if (this._bindToCollection) {this.stopListening(this._bindToCollection); this._bindToCollection=null;} const t=Array.from(this._items); while (this.length) {this._remove(0);} this.fire("change",{added: [],removed: t,index: 0});}bindTo(t) {if (this._bindToCollection) {throw new V("collection-bind-to-rebind",this);} this._bindToCollection=t; return {as: t => {this._setUpBindToBinding((e => new t(e)));},using: t => {if (typeof t==="function") {this._setUpBindToBinding(t);} else {this._setUpBindToBinding((e => e[t]));}}};}_setUpBindToBinding(t) {const e=this._bindToCollection; const n=(n,o,i) => {const r=e._bindToCollection==this; const s=e._bindToInternalToExternalMap.get(o); if (r&&s) {this._bindToExternalToInternalMap.set(o,s); this._bindToInternalToExternalMap.set(s,o);} else {const n=t(o); if (!n) {this._skippedIndexesFromExternal.push(i); return;} let r=i; for (const t of this._skippedIndexesFromExternal) {if (i>t) {r--;}} for (const t of e._skippedIndexesFromExternal) {if (r>=t) {r++;}} this._bindToExternalToInternalMap.set(o,n); this._bindToInternalToExternalMap.set(n,o); this.add(n,r); for (let t=0; t<e._skippedIndexesFromExternal.length; t++) {if (r<=e._skippedIndexesFromExternal[t]) {e._skippedIndexesFromExternal[t]++;}}}}; for (const t of e) {n(null,t,e.getIndex(t));} this.listenTo(e,"add",n); this.listenTo(e,"remove",((t,e,n) => {const o=this._bindToExternalToInternalMap.get(e); if (o) {this.remove(o);} this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((t,e) => {if (n<e) {t.push(e-1);} if (n>e) {t.push(e);} return t;}),[]);}));}_getItemIdBeforeAdding(t) {const e=this._idProperty; let n; if (e in t) {n=t[e]; if (typeof n!=="string") {throw new V("collection-add-invalid-id",this);} if (this.get(n)) {throw new V("collection-add-item-already-exists",this);}} else {t[e]=n=T();} return n;}_remove(t) {let e,n,o; let i=false; const r=this._idProperty; if (typeof t==="string") {n=t; o=this._itemMap.get(n); i=!o; if (o) {e=this._items.indexOf(o);}} else if (typeof t==="number") {e=t; o=this._items[e]; i=!o; if (o) {n=o[r];}} else {o=t; n=o[r]; e=this._items.indexOf(o); i=e==-1||!this._itemMap.get(n);} if (i) {throw new V("collection-remove-404",this);} this._items.splice(e,1); this._itemMap.delete(n); const s=this._bindToInternalToExternalMap.get(o); this._bindToInternalToExternalMap.delete(o); this._bindToExternalToInternalMap.delete(s); this.fire("remove",o,e); return [o,e];}[Symbol.iterator]() {return this._items[Symbol.iterator]();}} function rd(t) {const e=t.next(); if (e.done) {return null;} return e.value;} class sd extends (Ya(gt())) {constructor() {super(); this._elements=new Set; this._nextEventLoopTimeout=null; this.set("isFocused",false); this.set("focusedElement",null);}add(t) {if (this._elements.has(t)) {throw new V("focustracker-add-element-already-exist",this);} this.listenTo(t,"focus",(() => this._focus(t)),{useCapture: true}); this.listenTo(t,"blur",(() => this._blur()),{useCapture: true}); this._elements.add(t);}remove(t) {if (t===this.focusedElement) {this._blur();} if (this._elements.has(t)) {this.stopListening(t); this._elements.delete(t);}}destroy() {this.stopListening();}_focus(t) {clearTimeout(this._nextEventLoopTimeout); this.focusedElement=t; this.isFocused=true;}_blur() {clearTimeout(this._nextEventLoopTimeout); this._nextEventLoopTimeout=setTimeout((() => {this.focusedElement=null; this.isFocused=false;}),0);}} class ad {constructor() {this._listener=new (Ya());}listenTo(t) {this._listener.listenTo(t,"keydown",((t,e) => {this._listener.fire(`_keydown:${Jc(e)}`,e);}));}set(t,e,n={}) {const o=Yc(t); const i=n.priority; this._listener.listenTo(this._listener,`_keydown:${o}`,((t,n) => {e(n,(() => {n.preventDefault(); n.stopPropagation(); t.stop();})); t.return=true;}),{priority: i});}press(t) {return !!this._listener.fire(`_keydown:${Jc(t)}`,t);}stopListening(t) {this._listener.stopListening(t);}destroy() {this.stopListening();}} function cd(t) {const e=new Map; for (const n in t) {e.set(n,t[n]);} return e;} function ld(t) {if (Dt(t)) {return new Map(t);} return cd(t);} const dd=1e4; function ud(t,e,n,o) {if (Math.max(e.length,t.length)>dd) {return t.slice(0,n).concat(e).concat(t.slice(n+o,t.length));} const i=Array.from(t); i.splice(n,o,...e); return i;} function hd(t,e) {let n; function o(...i) {o.cancel(); n=setTimeout((() => t(...i)),e);}o.cancel=() => {clearTimeout(n);}; return o;} function gd(t) {function e(t) {if (t.length>=40&&t.length<=255) {return "VALID";} return "INVALID";} if (!t) {return "INVALID";} let n=""; try {n=atob(t);} catch (t) {return "INVALID";} const o=n.split("-"); const i=o[0]; const r=o[1]; if (!r) {return e(t);} try {atob(r);} catch (n) {try {atob(i); if (!atob(i).length) {return e(t);}} catch (n) {return e(t);}} if (i.length<40||i.length>255) {return "INVALID";} let s=""; try {atob(i); s=atob(r);} catch (t) {return "INVALID";} if (s.length!==8) {return "INVALID";} const a=Number(s.substring(0,4)); const c=Number(s.substring(4,6))-1; const l=Number(s.substring(6,8)); const d=new Date(a,c,l); if (d<j||isNaN(Number(d))) {return "INVALID";} return "VALID";} function fd(t) {return !!t&&t.length==1&&(/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/).test(t);} function md(t) {return !!t&&t.length==1&&(/[\ud800-\udbff]/).test(t);} function pd(t) {return !!t&&t.length==1&&(/[\udc00-\udfff]/).test(t);} function kd(t,e) {return md(t.charAt(e-1))&&pd(t.charAt(e));} function bd(t,e) {return fd(t.charAt(e));} const wd=Cd(); function _d(t,e) {const n=String(t).matchAll(wd); return Array.from(n).some((t => t.index<e&&e<t.index+t[0].length));} function Cd() {const t=[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u]; const e=(/\p{Regional_Indicator}{2}/u).source; const n=`(?:${t.map((t => t.source)).join("|")})`; const o=`${e}|${n}(?:‍${n})*`; return new RegExp(o,"ug");} class Ad extends (gt()) {constructor(t) {super(); this._disableStack=new Set; this.editor=t; this.set("isEnabled",true);}forceDisabled(t) {this._disableStack.add(t); if (this._disableStack.size==1) {this.on("set:isEnabled",vd,{priority: "highest"}); this.isEnabled=false;}}clearForceDisabled(t) {this._disableStack.delete(t); if (this._disableStack.size==0) {this.off("set:isEnabled",vd); this.isEnabled=true;}}destroy() {this.stopListening();} static get isContextPlugin() {return false;}} function vd(t) {t.return=false; t.stop();} class yd extends (gt()) {constructor(t) {super(); this.editor=t; this.set("value",undefined); this.set("isEnabled",false); this._affectsData=true; this._isEnabledBasedOnSelection=true; this._disableStack=new Set; this.decorate("execute"); this.listenTo(this.editor.model.document,"change",(() => {this.refresh();})); this.listenTo(t,"change:isReadOnly",(() => {this.refresh();})); this.on("set:isEnabled",(e => {if (!this.affectsData) {return;} const n=t.model.document.selection; const o=n.getFirstPosition().root.rootName=="$graveyard"; const i=!o&&t.model.canEditAt(n); if (t.isReadOnly||this._isEnabledBasedOnSelection&&!i) {e.return=false; e.stop();}}),{priority: "highest"}); this.on("execute",(t => {if (!this.isEnabled) {t.stop();}}),{priority: "high"});} get affectsData() {return this._affectsData;} set affectsData(t) {this._affectsData=t;}refresh() {this.isEnabled=true;}forceDisabled(t) {this._disableStack.add(t); if (this._disableStack.size==1) {this.on("set:isEnabled",xd,{priority: "highest"}); this.isEnabled=false;}}clearForceDisabled(t) {this._disableStack.delete(t); if (this._disableStack.size==0) {this.off("set:isEnabled",xd); this.refresh();}}execute(...t) {return undefined;}destroy() {this.stopListening();}} function xd(t) {t.return=false; t.stop();} class Ed extends yd {constructor() {super(...arguments); this._childCommandsDefinitions=[];}refresh() {}execute(...t) {const e=this._getFirstEnabledCommand(); return !!e&&e.execute(t);}registerChildCommand(t,e={}) {P(this._childCommandsDefinitions,{command: t,priority: e.priority||"normal"}); t.on("change:isEnabled",(() => this._checkEnabled())); this._checkEnabled();}_checkEnabled() {this.isEnabled=!!this._getFirstEnabledCommand();}_getFirstEnabledCommand() {const t=this._childCommandsDefinitions.find((({command: t}) => t.isEnabled)); return t&&t.command;}} class Dd extends (G()) {constructor(t,e=[],n=[]) {super(); this._plugins=new Map; this._context=t; this._availablePlugins=new Map; for (const t of e) {if (t.pluginName) {this._availablePlugins.set(t.pluginName,t);}} this._contextPlugins=new Map; for (const [t,e] of n) {this._contextPlugins.set(t,e); this._contextPlugins.set(e,t); if (t.pluginName) {this._availablePlugins.set(t.pluginName,t);}}}*[Symbol.iterator]() {for (const t of this._plugins) {if (typeof t[0]==="function") {yield t;}}}get(t) {const e=this._plugins.get(t); if (!e) {let e=t; if (typeof t==="function") {e=t.pluginName||t.name;} throw new V("plugincollection-plugin-not-loaded",this._context,{plugin: e});} return e;}has(t) {return this._plugins.has(t);}init(t,e=[],n=[]) {const o=this; const i=this._context; h(t); f(t); const r=t.filter((t => !d(t,e))); const s=[...g(r)]; _(s,n); const a=b(s); return w(a,"init").then((() => w(a,"afterInit"))).then((() => a)); function c(t) {return typeof t==="function";} function l(t) {return c(t)&&!!t.isContextPlugin;} function d(t,e) {return e.some((e => {if (e===t) {return true;} if (u(t)===e) {return true;} if (u(e)===t) {return true;} return false;}));} function u(t) {return c(t)?t.pluginName||t.name:t;} function h(t,e=new Set) {t.forEach((t => {if (!c(t)) {return;} if (e.has(t)) {return;}e.add(t); if (t.pluginName&&!o._availablePlugins.has(t.pluginName)) {o._availablePlugins.set(t.pluginName,t);} if (t.requires) {h(t.requires,e);}}));} function g(t,e=new Set) {return t.map((t => c(t)?t:o._availablePlugins.get(t))).reduce(((t,n) => {if (e.has(n)) {return t;}e.add(n); if (n.requires) {f(n.requires,n); g(n.requires,e).forEach((e => t.add(e)));} return t.add(n);}),new Set);} function f(t,e=null) {t.map((t => c(t)?t:o._availablePlugins.get(t)||t)).forEach((t => {m(t,e); p(t,e); k(t,e);}));} function m(t,e) {if (c(t)) {return;} if (e) {throw new V("plugincollection-soft-required",i,{missingPlugin: t,requiredBy: u(e)});} throw new V("plugincollection-plugin-not-found",i,{plugin: t});} function p(t,e) {if (!l(e)) {return;} if (l(t)) {return;} throw new V("plugincollection-context-required",i,{plugin: u(t),requiredBy: u(e)});} function k(t,n) {if (!n) {return;} if (!d(t,e)) {return;} throw new V("plugincollection-required",i,{plugin: u(t),requiredBy: u(n)});} function b(t) {return t.map((t => {let e=o._contextPlugins.get(t); e=e||new t(i); o._add(t,e); return e;}));} function w(t,e) {return t.reduce(((t,n) => {if (!n[e]) {return t;} if (o._contextPlugins.has(n)) {return t;} return t.then(n[e].bind(n));}),Promise.resolve());} function _(t,e) {for (const n of e) {if (typeof n!=="function") {throw new V("plugincollection-replace-plugin-invalid-type",null,{pluginItem: n});} const e=n.pluginName; if (!e) {throw new V("plugincollection-replace-plugin-missing-name",null,{pluginItem: n});} if (n.requires&&n.requires.length) {throw new V("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName: e});} const i=o._availablePlugins.get(e); if (!i) {throw new V("plugincollection-plugin-for-replacing-not-exist",null,{pluginName: e});} const r=t.indexOf(i); if (r===-1) {if (o._contextPlugins.has(i)) {return;} throw new V("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName: e});} if (i.requires&&i.requires.length) {throw new V("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName: e});}t.splice(r,1,n); o._availablePlugins.set(e,n);}}}destroy() {const t=[]; for (const [,e] of this) {if (typeof e.destroy==="function"&&!this._contextPlugins.has(e)) {t.push(e.destroy());}} return Promise.all(t);}_add(t,e) {this._plugins.set(t,e); const n=t.pluginName; if (!n) {return;} if (this._plugins.has(n)) {throw new V("plugincollection-plugin-name-conflict",null,{pluginName: n,plugin1: this._plugins.get(n).constructor,plugin2: t});} this._plugins.set(n,e);}} class Bd {constructor(t) {this._contextOwner=null; const {translations: e,...n}=t||{}; this.config=new Ua(n,this.constructor.defaultConfig); const o=this.constructor.builtinPlugins; this.config.define("plugins",o); this.plugins=new Dd(this,o); const i=this.config.get("language")||{}; this.locale=new nd({uiLanguage: typeof i==="string"?i:i.ui,contentLanguage: this.config.get("language.content"),translations: e}); this.t=this.locale.t; this.editors=new id;}initPlugins() {const t=this.config.get("plugins")||[]; const e=this.config.get("substitutePlugins")||[]; for (const n of t.concat(e)) {if (typeof n!=="function") {throw new V("context-initplugins-constructor-only",null,{Plugin: n});} if (n.isContextPlugin!==true) {throw new V("context-initplugins-invalid-plugin",null,{Plugin: n});}} return this.plugins.init(t,[],e);}destroy() {return Promise.all(Array.from(this.editors,(t => t.destroy()))).then((() => this.plugins.destroy()));}_addEditor(t,e) {if (this._contextOwner) {throw new V("context-addeditor-private-context");} this.editors.add(t); if (e) {this._contextOwner=t;}}_removeEditor(t) {if (this.editors.has(t)) {this.editors.remove(t);} if (this._contextOwner===t) {return this.destroy();} return Promise.resolve();}_getEditorConfig() {const t={}; for (const e of this.config.names()) {if (!["plugins","removePlugins","extraPlugins"].includes(e)) {t[e]=this.config.get(e);}} return t;} static create(t) {return new Promise((e => {const n=new this(t); e(n.initPlugins().then((() => n)));}));}} class Td extends (gt()) {constructor(t) {super(); this.context=t;}destroy() {this.stopListening();} static get isContextPlugin() {return true;}} const Sd=n(5072); const Id=n.n(Sd); const Pd=n(1920); const Rd={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Rd.insert="head"; Rd.singleton=true; const Vd=Id()(Pd.A,Rd); const Md=Pd.A.locals||{}; const Fd=new WeakMap; let Od=false; function zd({view: t,element: e,text: n,isDirectHost: o=true,keepOnFocus: i=false}) {const r=t.document; if (!Fd.has(r)) {Fd.set(r,new Map); r.registerPostFixer((t => Wd(r,t))); r.on("change:isComposing",(() => {t.change((t => Wd(r,t)));}),{priority: "high"});} if (e.is("editableElement")) {e.on("change:placeholder",((t,e,n) => {s(n);}));} if (e.placeholder) {s(e.placeholder);} else if (n) {s(n);} if (n) {$d();} function s(n) {Fd.get(r).set(e,{text: n,isDirectHost: o,keepOnFocus: i,hostElement: o?e:null}); t.change((t => Wd(r,t)));}} function Nd(t,e) {const n=e.document; if (!Fd.has(n)) {return;}t.change((t => {const o=Fd.get(n); const i=o.get(e); t.removeAttribute("data-placeholder",i.hostElement); Hd(t,i.hostElement); o.delete(e);}));} function Ld(t,e) {if (!e.hasClass("ck-placeholder")) {t.addClass("ck-placeholder",e); return true;} return false;} function Hd(t,e) {if (e.hasClass("ck-placeholder")) {t.removeClass("ck-placeholder",e); return true;} return false;} function jd(t,e) {if (!t.isAttached()) {return false;} const n=Array.from(t.getChildren()).some((t => !t.is("uiElement"))); if (n) {return false;} const o=t.document; const i=o.selection; const r=i.anchor; if (o.isComposing&&r&&r.parent===t) {return false;} if (e) {return true;} if (!o.isFocused) {return true;} return !!r&&r.parent!==t;} function Wd(t,e) {const n=Fd.get(t); const o=[]; let i=false; for (const [t,r] of n) {if (r.isDirectHost) {o.push(t); if (qd(e,t,r)) {i=true;}}} for (const [t,r] of n) {if (r.isDirectHost) {continue;} const n=Ud(t); if (!n) {continue;} if (o.includes(n)) {continue;}r.hostElement=n; if (qd(e,t,r)) {i=true;}} return i;} function qd(t,e,n) {const {text: o,isDirectHost: i,hostElement: r}=n; let s=false; if (r.getAttribute("data-placeholder")!==o) {t.setAttribute("data-placeholder",o,r); s=true;} const a=i||e.childCount==1; if (a&&jd(r,n.keepOnFocus)) {if (Ld(t,r)) {s=true;}} else if (Hd(t,r)) {s=true;} return s;} function Ud(t) {if (t.childCount) {const e=t.getChild(0); if (e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement")) {return e;}} return null;} function $d() {if (!Od) {M("enableplaceholder-deprecated-text-option");}Od=true;} class Gd {is() {throw new Error("is() method is abstract");}} const Kd=4; function Zd(t) {return za(t,Kd);} const Jd=Zd; class Yd extends (G(Gd)) {constructor(t) {super(); this.document=t; this.parent=null;} get index() {let t; if (!this.parent) {return null;} if ((t=this.parent.getChildIndex(this))==-1) {throw new V("view-node-not-found-in-parent",this);} return t;} get nextSibling() {const t=this.index; return t!==null&&this.parent.getChild(t+1)||null;} get previousSibling() {const t=this.index; return t!==null&&this.parent.getChild(t-1)||null;} get root() {let t=this; while (t.parent) {t=t.parent;} return t;}isAttached() {return this.root.is("rootElement");}getPath() {const t=[]; let e=this; while (e.parent) {t.unshift(e.index); e=e.parent;} return t;}getAncestors(t={}) {const e=[]; let n=t.includeSelf?this:this.parent; while (n) {e[t.parentFirst?"push":"unshift"](n); n=n.parent;} return e;}getCommonAncestor(t,e={}) {const n=this.getAncestors(e); const o=t.getAncestors(e); let i=0; while (n[i]==o[i]&&n[i]) {i++;} return i===0?null:n[i-1];}isBefore(t) {if (this==t) {return false;} if (this.root!==t.root) {return false;} const e=this.getPath(); const n=t.getPath(); const o=Et(e,n); switch (o) {case "prefix":return true; case "extension":return false; default:return e[o]<n[o];}}isAfter(t) {if (this==t) {return false;} if (this.root!==t.root) {return false;} return !this.isBefore(t);}_remove() {this.parent._removeChildren(this.index);}_fireChange(t,e) {this.fire(`change:${t}`,e); if (this.parent) {this.parent._fireChange(t,e);}}toJSON() {const t=Jd(this); delete t.parent; return t;}}Yd.prototype.is=function(t) {return t==="node"||t==="view:node";}; class Qd extends Yd {constructor(t,e) {super(t); this._textData=e;} get data() {return this._textData;} get _data() {return this.data;} set _data(t) {this._fireChange("text",this); this._textData=t;}isSimilar(t) {if (!(t instanceof Qd)) {return false;} return this===t||this.data===t.data;}_clone() {return new Qd(this.document,this.data);}}Qd.prototype.is=function(t) {return t==="$text"||t==="view:$text"||t==="text"||t==="view:text"||t==="node"||t==="view:node";}; class Xd extends Gd {constructor(t,e,n) {super(); this.textNode=t; if (e<0||e>t.data.length) {throw new V("view-textproxy-wrong-offsetintext",this);} if (n<0||e+n>t.data.length) {throw new V("view-textproxy-wrong-length",this);} this.data=t.data.substring(e,e+n); this.offsetInText=e;} get offsetSize() {return this.data.length;} get isPartial() {return this.data.length!==this.textNode.data.length;} get parent() {return this.textNode.parent;} get root() {return this.textNode.root;} get document() {return this.textNode.document;}getAncestors(t={}) {const e=[]; let n=t.includeSelf?this.textNode:this.parent; while (n!==null) {e[t.parentFirst?"push":"unshift"](n); n=n.parent;} return e;}}Xd.prototype.is=function(t) {return t==="$textProxy"||t==="view:$textProxy"||t==="textProxy"||t==="view:textProxy";}; class tu {constructor(...t) {this._patterns=[]; this.add(...t);}add(...t) {for (let e of t) {if (typeof e==="string"||e instanceof RegExp) {e={name: e};} this._patterns.push(e);}}match(...t) {for (const e of t) {for (const t of this._patterns) {const n=eu(e,t); if (n) {return {element: e,pattern: t,match: n};}}} return null;}matchAll(...t) {const e=[]; for (const n of t) {for (const t of this._patterns) {const o=eu(n,t); if (o) {e.push({element: n,pattern: t,match: o});}}} return e.length>0?e:null;}getElementName() {if (this._patterns.length!==1) {return null;} const t=this._patterns[0]; const e=t.name; return typeof t!=="function"&&e&&!(e instanceof RegExp)?e:null;}} function eu(t,e) {if (typeof e==="function") {return e(t);} const n={}; if (e.name) {n.name=nu(e.name,t.name); if (!n.name) {return null;}} if (e.attributes) {n.attributes=au(e.attributes,t); if (!n.attributes) {return null;}} if (e.classes) {n.classes=cu(e.classes,t); if (!n.classes) {return null;}} if (e.styles) {n.styles=lu(e.styles,t); if (!n.styles) {return null;}} return n;} function nu(t,e) {if (t instanceof RegExp) {return !!e.match(t);} return t===e;} function ou(t,e,n) {const o=iu(t); const i=Array.from(e); const r=[]; o.forEach((([t,e]) => {i.forEach((o => {if (ru(t,o)&&su(e,o,n)) {r.push(o);}}));})); if (!o.length||r.length<o.length) {return undefined;} return r;} function iu(t) {if (Array.isArray(t)) {return t.map((t => {if (me(t)) {if (t.key===undefined||t.value===undefined) {M("matcher-pattern-missing-key-or-value",t);} return [t.key,t.value];} return [t,true];}));} if (me(t)) {return Object.entries(t);} return [[t,true]];} function ru(t,e) {return t===true||t===e||t instanceof RegExp&&e.match(t);} function su(t,e,n) {if (t===true) {return true;} const o=n(e); return t===o||t instanceof RegExp&&!!String(o).match(t);} function au(t,e) {const n=new Set(e.getAttributeKeys()); if (me(t)) {if (t.style!==undefined) {M("matcher-pattern-deprecated-attributes-style-key",t);} if (t.class!==undefined) {M("matcher-pattern-deprecated-attributes-class-key",t);}} else {n.delete("style"); n.delete("class");} return ou(t,n,(t => e.getAttribute(t)));} function cu(t,e) {return ou(t,e.getClassNames(),(() => {}));} function lu(t,e) {return ou(t,e.getStyleNames(true),(t => e.getStyle(t)));} const du="[object Symbol]"; function uu(t) {return typeof t==="symbol"||Xt(t)&&Zt(t)==du;} const hu=uu; const gu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fu=/^\w*$/; function mu(t,e) {if (Yt(t)) {return false;} const n=typeof t; if (n=="number"||n=="symbol"||n=="boolean"||t==null||hu(t)) {return true;} return fu.test(t)||!gu.test(t)||e!=null&&t in Object(e);} const pu=mu; const ku="Expected a function"; function bu(t,e) {if (typeof t!=="function"||e!=null&&typeof e!=="function") {throw new TypeError(ku);} const n=function() {const o=arguments,i=e?e.apply(this,o):o[0],r=n.cache; if (r.has(i)) {return r.get(i);} const s=t.apply(this,o); n.cache=r.set(i,s)||r; return s;}; n.cache=new (bu.Cache||to); return n;}bu.Cache=to; const wu=bu; const _u=500; function Cu(t) {const e=wu(t,((t) => {if (n.size===_u) {n.clear();} return t;})); var n=e.cache; return e;} const Au=Cu; const vu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g; const yu=/\\(\\)?/g; const xu=Au(((t) => {const e=[]; if (t.charCodeAt(0)===46) {e.push("");}t.replace(vu,((t,n,o,i) => {e.push(o?i.replace(yu,"$1"):n||t);})); return e;})); const Eu=xu; function Du(t,e) {let n=-1,o=t==null?0:t.length,i=Array(o); while (++n<o) {i[n]=e(t[n],n,t);} return i;} const Bu=Du; const Tu=1/0; const Su=Vt?Vt.prototype:undefined,Iu=Su?Su.toString:undefined; function Pu(t) {if (typeof t==="string") {return t;} if (Yt(t)) {return `${Bu(t,Pu)}`;} if (hu(t)) {return Iu?Iu.call(t):"";} const e=`${t}`; return e=="0"&&1/t==-Tu?"-0":e;} const Ru=Pu; function Vu(t) {return t==null?"":Ru(t);} const Mu=Vu; function Fu(t,e) {if (Yt(t)) {return t;} return pu(t,e)?[t]:Eu(Mu(t));} const Ou=Fu; function zu(t) {const e=t==null?0:t.length; return e?t[e-1]:undefined;} const Nu=zu; const Lu=1/0; function Hu(t) {if (typeof t==="string"||hu(t)) {return t;} const e=`${t}`; return e=="0"&&1/t==-Lu?"-0":e;} const ju=Hu; function Wu(t,e) {e=Ou(e,t); let n=0,o=e.length; while (t!=null&&n<o) {t=t[ju(e[n++])];} return n&&n==o?t:undefined;} const qu=Wu; function Uu(t,e,n) {let o=-1,i=t.length; if (e<0) {e=-e>i?0:i+e;}n=n>i?i:n; if (n<0) {n+=i;}i=e>n?0:n-e>>>0; e>>>=0; const r=Array(i); while (++o<i) {r[o]=t[o+e];} return r;} const $u=Uu; function Gu(t,e) {return e.length<2?t:qu(t,$u(e,0,-1));} const Ku=Gu; function Zu(t,e) {e=Ou(e,t); t=Ku(t,e); return t==null||delete t[ju(Nu(e))];} const Ju=Zu; function Yu(t,e) {return t==null?true:Ju(t,e);} const Qu=Yu; function Xu(t,e,n) {const o=t==null?undefined:qu(t,e); return o===undefined?n:o;} const th=Xu; function eh(t,e,n,o) {if (!st(t)) {return t;}e=Ou(e,t); let i=-1,r=e.length,s=r-1,a=t; while (a!=null&&++i<r) {let c=ju(e[i]),l=n; if (c==="__proto__"||c==="constructor"||c==="prototype") {return t;} if (i!=s) {const d=a[c]; l=o?o(d,c,a):undefined; if (l===undefined) {l=st(d)?d:Ho(e[i+1])?[]:{};}}po(a,c,l); a=a[c];} return t;} const nh=eh; function oh(t,e,n) {return t==null?t:nh(t,e,n);} const ih=oh; class rh {constructor(t) {this._styles={}; this._styleProcessor=t;} get isEmpty() {const t=Object.entries(this._styles); return !t.length;} get size() {if (this.isEmpty) {return 0;} return this.getStyleNames().length;}setTo(t) {this.clear(); const e=ah(t); for (const [t,n] of e) {this._styleProcessor.toNormalizedForm(t,n,this._styles);}}has(t) {if (this.isEmpty) {return false;} const e=this._styleProcessor.getReducedForm(t,this._styles); const n=e.find((([e]) => e===t)); return Array.isArray(n);}set(t,e) {if (st(t)) {for (const [e,n] of Object.entries(t)) {this._styleProcessor.toNormalizedForm(e,n,this._styles);}} else {this._styleProcessor.toNormalizedForm(t,e,this._styles);}}remove(t) {const e=ch(t); Qu(this._styles,e); delete this._styles[t]; this._cleanEmptyObjectsOnPath(e);}getNormalized(t) {return this._styleProcessor.getNormalized(t,this._styles);}toString() {if (this.isEmpty) {return "";} return `${this.getStylesEntries().map((t => t.join(":"))).sort().join(";")};`;}getAsString(t) {if (this.isEmpty) {return;} if (this._styles[t]&&!st(this._styles[t])) {return this._styles[t];} const e=this._styleProcessor.getReducedForm(t,this._styles); const n=e.find((([e]) => e===t)); if (Array.isArray(n)) {return n[1];}}getStyleNames(t=false) {if (this.isEmpty) {return [];} if (t) {return this._styleProcessor.getStyleNames(this._styles);} const e=this.getStylesEntries(); return e.map((([t]) => t));}clear() {this._styles={};}getStylesEntries() {const t=[]; const e=Object.keys(this._styles); for (const n of e) {t.push(...this._styleProcessor.getReducedForm(n,this._styles));} return t;}_cleanEmptyObjectsOnPath(t) {const e=t.split("."); const n=e.length>1; if (!n) {return;} const o=e.splice(0,e.length-1).join("."); const i=th(this._styles,o); if (!i) {return;} const r=!Object.keys(i).length; if (r) {this.remove(o);}}} class sh {constructor() {this._normalizers=new Map; this._extractors=new Map; this._reducers=new Map; this._consumables=new Map;}toNormalizedForm(t,e,n) {if (st(e)) {lh(n,ch(t),e); return;} if (this._normalizers.has(t)) {const o=this._normalizers.get(t); const {path: i,value: r}=o(e); lh(n,i,r);} else {lh(n,t,e);}}getNormalized(t,e) {if (!t) {return Gl({},e);} if (e[t]!==undefined) {return e[t];} if (this._extractors.has(t)) {const n=this._extractors.get(t); if (typeof n==="string") {return th(e,n);} const o=n(t,e); if (o) {return o;}} return th(e,ch(t));}getReducedForm(t,e) {const n=this.getNormalized(t,e); if (n===undefined) {return [];} if (this._reducers.has(t)) {const e=this._reducers.get(t); return e(n);} return [[t,n]];}getStyleNames(t) {const e=Array.from(this._consumables.keys()).filter((e => {const n=this.getNormalized(e,t); if (n&&typeof n==="object") {return Object.keys(n).length;} return n;})); const n=new Set([...e,...Object.keys(t)]); return Array.from(n);}getRelatedStyles(t) {return this._consumables.get(t)||[];}setNormalizer(t,e) {this._normalizers.set(t,e);}setExtractor(t,e) {this._extractors.set(t,e);}setReducer(t,e) {this._reducers.set(t,e);}setStyleRelation(t,e) {this._mapStyleNames(t,e); for (const n of e) {this._mapStyleNames(n,[t]);}}_mapStyleNames(t,e) {if (!this._consumables.has(t)) {this._consumables.set(t,[]);} this._consumables.get(t).push(...e);}} function ah(t) {let e=null; let n=0; let o=0; let i=null; const r=new Map; if (t==="") {return r;} if (t.charAt(t.length-1)!=";") {t+=";";} for (let s=0; s<t.length; s++) {const a=t.charAt(s); if (e===null) {switch (a) {case ":":if (!i) {i=t.substr(n,s-n); o=s+1;} break; case '"':case "'":e=a; break; case ";":{const e=t.substr(o,s-o); if (i) {r.set(i.trim(),e.trim());}i=null; n=s+1; break;}}} else if (a===e) {e=null;}} return r;} function ch(t) {return t.replace("-",".");} function lh(t,e,n) {let o=n; if (st(n)) {o=Gl({},th(t,e),n);}ih(t,e,o);} class dh extends Yd {constructor(t,e,n,o) {super(t); this._unsafeAttributesToRender=[]; this._customProperties=new Map; this.name=e; this._attrs=uh(n); this._children=[]; if (o) {this._insertChild(0,o);} this._classes=new Set; if (this._attrs.has("class")) {const t=this._attrs.get("class"); hh(this._classes,t); this._attrs.delete("class");} this._styles=new rh(this.document.stylesProcessor); if (this._attrs.has("style")) {this._styles.setTo(this._attrs.get("style")); this._attrs.delete("style");}} get childCount() {return this._children.length;} get isEmpty() {return this._children.length===0;}getChild(t) {return this._children[t];}getChildIndex(t) {return this._children.indexOf(t);}getChildren() {return this._children[Symbol.iterator]();}*getAttributeKeys() {if (this._classes.size>0) {yield "class";} if (!this._styles.isEmpty) {yield "style";} yield*this._attrs.keys();}*getAttributes() {yield*this._attrs.entries(); if (this._classes.size>0) {yield ["class",this.getAttribute("class")];} if (!this._styles.isEmpty) {yield ["style",this.getAttribute("style")];}}getAttribute(t) {if (t=="class") {if (this._classes.size>0) {return [...this._classes].join(" ");} return undefined;} if (t=="style") {const t=this._styles.toString(); return t==""?undefined:t;} return this._attrs.get(t);}hasAttribute(t) {if (t=="class") {return this._classes.size>0;} if (t=="style") {return !this._styles.isEmpty;} return this._attrs.has(t);}isSimilar(t) {if (!(t instanceof dh)) {return false;} if (this===t) {return true;} if (this.name!=t.name) {return false;} if (this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size) {return false;} for (const [e,n] of this._attrs) {if (!t._attrs.has(e)||t._attrs.get(e)!==n) {return false;}} for (const e of this._classes) {if (!t._classes.has(e)) {return false;}} for (const e of this._styles.getStyleNames()) {if (!t._styles.has(e)||t._styles.getAsString(e)!==this._styles.getAsString(e)) {return false;}} return true;}hasClass(...t) {for (const e of t) {if (!this._classes.has(e)) {return false;}} return true;}getClassNames() {return this._classes.keys();}getStyle(t) {return this._styles.getAsString(t);}getNormalizedStyle(t) {return this._styles.getNormalized(t);}getStyleNames(t) {return this._styles.getStyleNames(t);}hasStyle(...t) {for (const e of t) {if (!this._styles.has(e)) {return false;}} return true;}findAncestor(...t) {const e=new tu(...t); let n=this.parent; while (n&&!n.is("documentFragment")) {if (e.match(n)) {return n;}n=n.parent;} return null;}getCustomProperty(t) {return this._customProperties.get(t);}*getCustomProperties() {yield*this._customProperties.entries();}getIdentity() {const t=Array.from(this._classes).sort().join(","); const e=this._styles.toString(); const n=Array.from(this._attrs).map((t => `${t[0]}="${t[1]}"`)).sort().join(" "); return this.name+(t==""?"":` class="${t}"`)+(!e?"":` style="${e}"`)+(n==""?"":` ${n}`);}shouldRenderUnsafeAttribute(t) {return this._unsafeAttributesToRender.includes(t);}_clone(t=false) {const e=[]; if (t) {for (const n of this.getChildren()) {e.push(n._clone(t));}} const n=new this.constructor(this.document,this.name,this._attrs,e); n._classes=new Set(this._classes); n._styles.set(this._styles.getNormalized()); n._customProperties=new Map(this._customProperties); n.getFillerOffset=this.getFillerOffset; n._unsafeAttributesToRender=this._unsafeAttributesToRender; return n;}_appendChild(t) {return this._insertChild(this.childCount,t);}_insertChild(t,e) {this._fireChange("children",this); let n=0; const o=gh(this.document,e); for (const e of o) {if (e.parent!==null) {e._remove();}e.parent=this; e.document=this.document; this._children.splice(t,0,e); t++; n++;} return n;}_removeChildren(t,e=1) {this._fireChange("children",this); for (let n=t; n<t+e; n++) {this._children[n].parent=null;} return this._children.splice(t,e);}_setAttribute(t,e) {const n=String(e); this._fireChange("attributes",this); if (t=="class") {hh(this._classes,n);} else if (t=="style") {this._styles.setTo(n);} else {this._attrs.set(t,n);}}_removeAttribute(t) {this._fireChange("attributes",this); if (t=="class") {if (this._classes.size>0) {this._classes.clear(); return true;} return false;} if (t=="style") {if (!this._styles.isEmpty) {this._styles.clear(); return true;} return false;} return this._attrs.delete(t);}_addClass(t) {this._fireChange("attributes",this); for (const e of rl(t)) {this._classes.add(e);}}_removeClass(t) {this._fireChange("attributes",this); for (const e of rl(t)) {this._classes.delete(e);}}_setStyle(t,e) {this._fireChange("attributes",this); if (typeof t!=="string") {this._styles.set(t);} else {this._styles.set(t,e);}}_removeStyle(t) {this._fireChange("attributes",this); for (const e of rl(t)) {this._styles.remove(e);}}_setCustomProperty(t,e) {this._customProperties.set(t,e);}_removeCustomProperty(t) {return this._customProperties.delete(t);}}dh.prototype.is=function(t,e) {if (!e) {return t==="element"||t==="view:element"||t==="node"||t==="view:node";} return e===this.name&&(t==="element"||t==="view:element");}; function uh(t) {const e=ld(t); for (const [t,n] of e) {if (n===null) {e.delete(t);} else if (typeof n!=="string") {e.set(t,String(n));}} return e;} function hh(t,e) {const n=e.split(/\s+/); t.clear(); n.forEach((e => t.add(e)));} function gh(t,e) {if (typeof e==="string") {return [new Qd(t,e)];} if (!Dt(e)) {e=[e];} return Array.from(e).map((e => {if (typeof e==="string") {return new Qd(t,e);} if (e instanceof Xd) {return new Qd(t,e.data);} return e;}));} class fh extends dh {constructor(t,e,n,o) {super(t,e,n,o); this.getFillerOffset=mh;}}fh.prototype.is=function(t,e) {if (!e) {return t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node";} return e===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element");}; function mh() {const t=[...this.getChildren()]; const e=t[this.childCount-1]; if (e&&e.is("element","br")) {return this.childCount;} for (const e of t) {if (!e.is("uiElement")) {return null;}} return this.childCount;} class ph extends (gt(fh)) {constructor(t,e,n,o) {super(t,e,n,o); this.set("isReadOnly",false); this.set("isFocused",false); this.set("placeholder",undefined); this.bind("isReadOnly").to(t); this.bind("isFocused").to(t,"isFocused",(e => e&&t.selection.editableElement==this)); this.listenTo(t.selection,"change",(() => {this.isFocused=t.isFocused&&t.selection.editableElement==this;}));}destroy() {this.stopListening();}}ph.prototype.is=function(t,e) {if (!e) {return t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node";} return e===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element");}; const kh=Symbol("rootName"); class bh extends ph {constructor(t,e) {super(t,e); this.rootName="main";} get rootName() {return this.getCustomProperty(kh);} set rootName(t) {this._setCustomProperty(kh,t);} set _name(t) {this.name=t;}}bh.prototype.is=function(t,e) {if (!e) {return t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node";} return e===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element");}; class wh {constructor(t={}) {if (!t.boundaries&&!t.startPosition) {throw new V("view-tree-walker-no-start-position",null);} if (t.direction&&t.direction!="forward"&&t.direction!="backward") {throw new V("view-tree-walker-unknown-direction",t.startPosition,{direction: t.direction});} this.boundaries=t.boundaries||null; if (t.startPosition) {this._position=_h._createAt(t.startPosition);} else {this._position=_h._createAt(t.boundaries[t.direction=="backward"?"end":"start"]);} this.direction=t.direction||"forward"; this.singleCharacters=!!t.singleCharacters; this.shallow=!!t.shallow; this.ignoreElementEnd=!!t.ignoreElementEnd; this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null; this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null;}[Symbol.iterator]() {return this;} get position() {return this._position;}skip(t) {let e; let n; do {n=this.position; e=this.next();} while (!e.done&&t(e.value)); if (!e.done) {this._position=n;}}next() {if (this.direction=="forward") {return this._next();} return this._previous();}_next() {let t=this.position.clone(); const e=this.position; const n=t.parent; if (n.parent===null&&t.offset===n.childCount) {return {done: true,value: undefined};} if (n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset) {return {done: true,value: undefined};} let o; if (n instanceof Qd) {if (t.isAtEnd) {this._position=_h._createAfter(n); return this._next();}o=n.data[t.offset];} else {o=n.getChild(t.offset);} if (o instanceof dh) {if (!this.shallow) {t=new _h(o,0);} else {if (this.boundaries&&this.boundaries.end.isBefore(t)) {return {done: true,value: undefined};}t.offset++;} this._position=t; return this._formatReturnValue("elementStart",o,e,t,1);} if (o instanceof Qd) {if (this.singleCharacters) {t=new _h(o,0); this._position=t; return this._next();} let n=o.data.length; let i; if (o==this._boundaryEndParent) {n=this.boundaries.end.offset; i=new Xd(o,0,n); t=_h._createAfter(i);} else {i=new Xd(o,0,o.data.length); t.offset++;} this._position=t; return this._formatReturnValue("text",i,e,t,n);} if (typeof o==="string") {let o; if (this.singleCharacters) {o=1;} else {const e=n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length; o=e-t.offset;} const i=new Xd(n,t.offset,o); t.offset+=o; this._position=t; return this._formatReturnValue("text",i,e,t,o);}t=_h._createAfter(n); this._position=t; if (this.ignoreElementEnd) {return this._next();} return this._formatReturnValue("elementEnd",n,e,t);}_previous() {let t=this.position.clone(); const e=this.position; const n=t.parent; if (n.parent===null&&t.offset===0) {return {done: true,value: undefined};} if (n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset) {return {done: true,value: undefined};} let o; if (n instanceof Qd) {if (t.isAtStart) {this._position=_h._createBefore(n); return this._previous();}o=n.data[t.offset-1];} else {o=n.getChild(t.offset-1);} if (o instanceof dh) {if (this.shallow) {t.offset--; this._position=t; return this._formatReturnValue("elementStart",o,e,t,1);}t=new _h(o,o.childCount); this._position=t; if (this.ignoreElementEnd) {return this._previous();} return this._formatReturnValue("elementEnd",o,e,t);} if (o instanceof Qd) {if (this.singleCharacters) {t=new _h(o,o.data.length); this._position=t; return this._previous();} let n=o.data.length; let i; if (o==this._boundaryStartParent) {const e=this.boundaries.start.offset; i=new Xd(o,e,o.data.length-e); n=i.data.length; t=_h._createBefore(i);} else {i=new Xd(o,0,o.data.length); t.offset--;} this._position=t; return this._formatReturnValue("text",i,e,t,n);} if (typeof o==="string") {let o; if (!this.singleCharacters) {const e=n===this._boundaryStartParent?this.boundaries.start.offset:0; o=t.offset-e;} else {o=1;}t.offset-=o; const i=new Xd(n,t.offset,o); this._position=t; return this._formatReturnValue("text",i,e,t,o);}t=_h._createBefore(n); this._position=t; return this._formatReturnValue("elementStart",n,e,t,1);}_formatReturnValue(t,e,n,o,i) {if (e instanceof Xd) {if (e.offsetInText+e.data.length==e.textNode.data.length) {if (this.direction=="forward"&&!(this.boundaries&&this.boundaries.end.isEqual(this.position))) {o=_h._createAfter(e.textNode); this._position=o;} else {n=_h._createAfter(e.textNode);}} if (e.offsetInText===0) {if (this.direction=="backward"&&!(this.boundaries&&this.boundaries.start.isEqual(this.position))) {o=_h._createBefore(e.textNode); this._position=o;} else {n=_h._createBefore(e.textNode);}}} return {done: false,value: {type: t,item: e,previousPosition: n,nextPosition: o,length: i}};}} class _h extends Gd {constructor(t,e) {super(); this.parent=t; this.offset=e;} get nodeAfter() {if (this.parent.is("$text")) {return null;} return this.parent.getChild(this.offset)||null;} get nodeBefore() {if (this.parent.is("$text")) {return null;} return this.parent.getChild(this.offset-1)||null;} get isAtStart() {return this.offset===0;} get isAtEnd() {const t=this.parent.is("$text")?this.parent.data.length:this.parent.childCount; return this.offset===t;} get root() {return this.parent.root;} get editableElement() {let t=this.parent; while (!(t instanceof ph)) {if (t.parent) {t=t.parent;} else {return null;}} return t;}getShiftedBy(t) {const e=_h._createAt(this); const n=e.offset+t; e.offset=n<0?0:n; return e;}getLastMatchingPosition(t,e={}) {e.startPosition=this; const n=new wh(e); n.skip(t); return n.position;}getAncestors() {if (this.parent.is("documentFragment")) {return [this.parent];} return this.parent.getAncestors({includeSelf: true});}getCommonAncestor(t) {const e=this.getAncestors(); const n=t.getAncestors(); let o=0; while (e[o]==n[o]&&e[o]) {o++;} return o===0?null:e[o-1];}isEqual(t) {return this.parent==t.parent&&this.offset==t.offset;}isBefore(t) {return this.compareWith(t)=="before";}isAfter(t) {return this.compareWith(t)=="after";}compareWith(t) {if (this.root!==t.root) {return "different";} if (this.isEqual(t)) {return "same";} const e=this.parent.is("node")?this.parent.getPath():[]; const n=t.parent.is("node")?t.parent.getPath():[]; e.push(this.offset); n.push(t.offset); const o=Et(e,n); switch (o) {case "prefix":return "before"; case "extension":return "after"; default:return e[o]<n[o]?"before":"after";}}getWalker(t={}) {t.startPosition=this; return new wh(t);}clone() {return new _h(this.parent,this.offset);} static _createAt(t,e) {if (t instanceof _h) {return new this(t.parent,t.offset);} const n=t; if (e=="end") {e=n.is("$text")?n.data.length:n.childCount;} else if (e=="before") {return this._createBefore(n);} else if (e=="after") {return this._createAfter(n);} else if (e!==0&&!e) {throw new V("view-createpositionat-offset-required",n);} return new _h(n,e);} static _createAfter(t) {if (t.is("$textProxy")) {return new _h(t.textNode,t.offsetInText+t.data.length);} if (!t.parent) {throw new V("view-position-after-root",t,{root: t});} return new _h(t.parent,t.index+1);} static _createBefore(t) {if (t.is("$textProxy")) {return new _h(t.textNode,t.offsetInText);} if (!t.parent) {throw new V("view-position-before-root",t,{root: t});} return new _h(t.parent,t.index);}}_h.prototype.is=function(t) {return t==="position"||t==="view:position";}; class Ch extends Gd {constructor(t,e=null) {super(); this.start=t.clone(); this.end=e?e.clone():t.clone();}*[Symbol.iterator]() {yield*new wh({boundaries: this,ignoreElementEnd: true});} get isCollapsed() {return this.start.isEqual(this.end);} get isFlat() {return this.start.parent===this.end.parent;} get root() {return this.start.root;}getEnlarged() {let t=this.start.getLastMatchingPosition(Ah,{direction: "backward"}); let e=this.end.getLastMatchingPosition(Ah); if (t.parent.is("$text")&&t.isAtStart) {t=_h._createBefore(t.parent);} if (e.parent.is("$text")&&e.isAtEnd) {e=_h._createAfter(e.parent);} return new Ch(t,e);}getTrimmed() {let t=this.start.getLastMatchingPosition(Ah); if (t.isAfter(this.end)||t.isEqual(this.end)) {return new Ch(t,t);} let e=this.end.getLastMatchingPosition(Ah,{direction: "backward"}); const n=t.nodeAfter; const o=e.nodeBefore; if (n&&n.is("$text")) {t=new _h(n,0);} if (o&&o.is("$text")) {e=new _h(o,o.data.length);} return new Ch(t,e);}isEqual(t) {return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end);}containsPosition(t) {return t.isAfter(this.start)&&t.isBefore(this.end);}containsRange(t,e=false) {if (t.isCollapsed) {e=false;} const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start); const o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end); return n&&o;}getDifference(t) {const e=[]; if (this.isIntersecting(t)) {if (this.containsPosition(t.start)) {e.push(new Ch(this.start,t.start));} if (this.containsPosition(t.end)) {e.push(new Ch(t.end,this.end));}} else {e.push(this.clone());} return e;}getIntersection(t) {if (this.isIntersecting(t)) {let e=this.start; let n=this.end; if (this.containsPosition(t.start)) {e=t.start;} if (this.containsPosition(t.end)) {n=t.end;} return new Ch(e,n);} return null;}getWalker(t={}) {t.boundaries=this; return new wh(t);}getCommonAncestor() {return this.start.getCommonAncestor(this.end);}getContainedElement() {if (this.isCollapsed) {return null;} let t=this.start.nodeAfter; let e=this.end.nodeBefore; if (this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling) {t=this.start.parent.nextSibling;} if (this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling) {e=this.end.parent.previousSibling;} if (t&&t.is("element")&&t===e) {return t;} return null;}clone() {return new Ch(this.start,this.end);}*getItems(t={}) {t.boundaries=this; t.ignoreElementEnd=true; const e=new wh(t); for (const t of e) {yield t.item;}}*getPositions(t={}) {t.boundaries=this; const e=new wh(t); yield e.position; for (const t of e) {yield t.nextPosition;}}isIntersecting(t) {return this.start.isBefore(t.end)&&this.end.isAfter(t.start);} static _createFromParentsAndOffsets(t,e,n,o) {return new this(new _h(t,e),new _h(n,o));} static _createFromPositionAndShift(t,e) {const n=t; const o=t.getShiftedBy(e); return e>0?new this(n,o):new this(o,n);} static _createIn(t) {return this._createFromParentsAndOffsets(t,0,t,t.childCount);} static _createOn(t) {const e=t.is("$textProxy")?t.offsetSize:1; return this._createFromPositionAndShift(_h._createBefore(t),e);}}Ch.prototype.is=function(t) {return t==="range"||t==="view:range";}; function Ah(t) {if (t.item.is("attributeElement")||t.item.is("uiElement")) {return true;} return false;} class vh extends (G(Gd)) {constructor(...t) {super(); this._ranges=[]; this._lastRangeBackward=false; this._isFake=false; this._fakeSelectionLabel=""; if (t.length) {this.setTo(...t);}} get isFake() {return this._isFake;} get fakeSelectionLabel() {return this._fakeSelectionLabel;} get anchor() {if (!this._ranges.length) {return null;} const t=this._ranges[this._ranges.length-1]; const e=this._lastRangeBackward?t.end:t.start; return e.clone();} get focus() {if (!this._ranges.length) {return null;} const t=this._ranges[this._ranges.length-1]; const e=this._lastRangeBackward?t.start:t.end; return e.clone();} get isCollapsed() {return this.rangeCount===1&&this._ranges[0].isCollapsed;} get rangeCount() {return this._ranges.length;} get isBackward() {return !this.isCollapsed&&this._lastRangeBackward;} get editableElement() {if (this.anchor) {return this.anchor.editableElement;} return null;}*getRanges() {for (const t of this._ranges) {yield t.clone();}}getFirstRange() {let t=null; for (const e of this._ranges) {if (!t||e.start.isBefore(t.start)) {t=e;}} return t?t.clone():null;}getLastRange() {let t=null; for (const e of this._ranges) {if (!t||e.end.isAfter(t.end)) {t=e;}} return t?t.clone():null;}getFirstPosition() {const t=this.getFirstRange(); return t?t.start.clone():null;}getLastPosition() {const t=this.getLastRange(); return t?t.end.clone():null;}isEqual(t) {if (this.isFake!=t.isFake) {return false;} if (this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel) {return false;} if (this.rangeCount!=t.rangeCount) {return false;} else if (this.rangeCount===0) {return true;} if (!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus)) {return false;} for (const e of this._ranges) {let n=false; for (const o of t._ranges) {if (e.isEqual(o)) {n=true; break;}} if (!n) {return false;}} return true;}isSimilar(t) {if (this.isBackward!=t.isBackward) {return false;} const e=xt(this.getRanges()); const n=xt(t.getRanges()); if (e!=n) {return false;} if (e==0) {return true;} for (let e of this.getRanges()) {e=e.getTrimmed(); let n=false; for (let o of t.getRanges()) {o=o.getTrimmed(); if (e.start.isEqual(o.start)&&e.end.isEqual(o.end)) {n=true; break;}} if (!n) {return false;}} return true;}getSelectedElement() {if (this.rangeCount!==1) {return null;} return this.getFirstRange().getContainedElement();}setTo(...t) {let [e,n,o]=t; if (typeof n==="object") {o=n; n=undefined;} if (e===null) {this._setRanges([]); this._setFakeOptions(o);} else if (e instanceof vh||e instanceof yh) {this._setRanges(e.getRanges(),e.isBackward); this._setFakeOptions({fake: e.isFake,label: e.fakeSelectionLabel});} else if (e instanceof Ch) {this._setRanges([e],o&&o.backward); this._setFakeOptions(o);} else if (e instanceof _h) {this._setRanges([new Ch(e)]); this._setFakeOptions(o);} else if (e instanceof Yd) {const t=!!o&&!!o.backward; let i; if (n===undefined) {throw new V("view-selection-setto-required-second-parameter",this);} else if (n=="in") {i=Ch._createIn(e);} else if (n=="on") {i=Ch._createOn(e);} else {i=new Ch(_h._createAt(e,n));} this._setRanges([i],t); this._setFakeOptions(o);} else if (Dt(e)) {this._setRanges(e,o&&o.backward); this._setFakeOptions(o);} else {throw new V("view-selection-setto-not-selectable",this);} this.fire("change");}setFocus(t,e) {if (this.anchor===null) {throw new V("view-selection-setfocus-no-ranges",this);} const n=_h._createAt(t,e); if (n.compareWith(this.focus)=="same") {return;} const o=this.anchor; this._ranges.pop(); if (n.compareWith(o)=="before") {this._addRange(new Ch(n,o),true);} else {this._addRange(new Ch(o,n));} this.fire("change");}_setRanges(t,e=false) {t=Array.from(t); this._ranges=[]; for (const e of t) {this._addRange(e);} this._lastRangeBackward=!!e;}_setFakeOptions(t={}) {this._isFake=!!t.fake; this._fakeSelectionLabel=t.fake?t.label||"":"";}_addRange(t,e=false) {if (!(t instanceof Ch)) {throw new V("view-selection-add-range-not-range",this);} this._pushRange(t); this._lastRangeBackward=!!e;}_pushRange(t) {for (const e of this._ranges) {if (t.isIntersecting(e)) {throw new V("view-selection-range-intersects",this,{addedRange: t,intersectingRange: e});}} this._ranges.push(new Ch(t.start,t.end));}}vh.prototype.is=function(t) {return t==="selection"||t==="view:selection";}; class yh extends (G(Gd)) {constructor(...t) {super(); this._selection=new vh; this._selection.delegate("change").to(this); if (t.length) {this._selection.setTo(...t);}} get isFake() {return this._selection.isFake;} get fakeSelectionLabel() {return this._selection.fakeSelectionLabel;} get anchor() {return this._selection.anchor;} get focus() {return this._selection.focus;} get isCollapsed() {return this._selection.isCollapsed;} get rangeCount() {return this._selection.rangeCount;} get isBackward() {return this._selection.isBackward;} get editableElement() {return this._selection.editableElement;} get _ranges() {return this._selection._ranges;}*getRanges() {yield*this._selection.getRanges();}getFirstRange() {return this._selection.getFirstRange();}getLastRange() {return this._selection.getLastRange();}getFirstPosition() {return this._selection.getFirstPosition();}getLastPosition() {return this._selection.getLastPosition();}getSelectedElement() {return this._selection.getSelectedElement();}isEqual(t) {return this._selection.isEqual(t);}isSimilar(t) {return this._selection.isSimilar(t);}_setTo(...t) {this._selection.setTo(...t);}_setFocus(t,e) {this._selection.setFocus(t,e);}}yh.prototype.is=function(t) {return t==="selection"||t=="documentSelection"||t=="view:selection"||t=="view:documentSelection";}; class xh extends D {constructor(t,e,n) {super(t,e); this.startRange=n; this._eventPhase="none"; this._currentTarget=null;} get eventPhase() {return this._eventPhase;} get currentTarget() {return this._currentTarget;}} const Eh=Symbol("bubbling contexts"); function Dh(t) {class e extends t {fire(t,...e) {try {const n=t instanceof D?t:new D(this,t); const o=Ih(this); if (!o.size) {return;}Bh(n,"capturing",this); if (Th(o,"$capture",n,...e)) {return n.return;} const i=n.startRange||this.selection.getFirstRange(); const r=i?i.getContainedElement():null; const s=r?Boolean(Sh(o,r)):false; let a=r||Ph(i); Bh(n,"atTarget",a); if (!s) {if (Th(o,"$text",n,...e)) {return n.return;}Bh(n,"bubbling",a);} while (a) {if (a.is("rootElement")) {if (Th(o,"$root",n,...e)) {return n.return;}} else if (a.is("element")) {if (Th(o,a.name,n,...e)) {return n.return;}} if (Th(o,a,n,...e)) {return n.return;}a=a.parent; Bh(n,"bubbling",a);}Bh(n,"bubbling",this); Th(o,"$document",n,...e); return n.return;} catch (t) {V.rethrowUnexpectedError(t,this);}}_addEventListener(t,e,n) {const o=rl(n.context||"$document"); const i=Ih(this); for (const r of o) {let o=i.get(r); if (!o) {o=new (G()); i.set(r,o);} this.listenTo(o,t,e,n);}}_removeEventListener(t,e) {const n=Ih(this); for (const o of n.values()) {this.stopListening(o,t,e);}}} return e;} {const t=Dh(Object); ["fire","_addEventListener","_removeEventListener"].forEach((e => {Dh[e]=t.prototype[e];}));} function Bh(t,e,n) {if (t instanceof xh) {t._eventPhase=e; t._currentTarget=n;}} function Th(t,e,n,...o) {const i=typeof e==="string"?t.get(e):Sh(t,e); if (!i) {return false;}i.fire(n,...o); return n.stop.called;} function Sh(t,e) {for (const [n,o] of t) {if (typeof n==="function"&&n(e)) {return o;}} return null;} function Ih(t) {if (!t[Eh]) {t[Eh]=new Map;} return t[Eh];} function Ph(t) {if (!t) {return null;} const e=t.start.parent; const n=t.end.parent; const o=e.getPath(); const i=n.getPath(); return o.length>i.length?e:n;} class Rh extends (Dh(gt())) {constructor(t) {super(); this._postFixers=new Set; this.selection=new yh; this.roots=new id({idProperty: "rootName"}); this.stylesProcessor=t; this.set("isReadOnly",false); this.set("isFocused",false); this.set("isSelecting",false); this.set("isComposing",false);}getRoot(t="main") {return this.roots.get(t);}registerPostFixer(t) {this._postFixers.add(t);}destroy() {this.roots.forEach((t => t.destroy())); this.stopListening();}_callPostFixers(t) {let e=false; do {for (const n of this._postFixers) {e=n(t); if (e) {break;}}} while (e);}} const Vh=10; class Mh extends dh {constructor(t,e,n,o) {super(t,e,n,o); this._priority=Vh; this._id=null; this._clonesGroup=null; this.getFillerOffset=Oh;} get priority() {return this._priority;} get id() {return this._id;}getElementsWithSameId() {if (this.id===null) {throw new V("attribute-element-get-elements-with-same-id-no-id",this);} return new Set(this._clonesGroup);}isSimilar(t) {if (this.id!==null||t.id!==null) {return this.id===t.id;} return super.isSimilar(t)&&this.priority==t.priority;}_clone(t=false) {const e=super._clone(t); e._priority=this._priority; e._id=this._id; return e;}}Mh.DEFAULT_PRIORITY=Vh; const Fh=Mh; Mh.prototype.is=function(t,e) {if (!e) {return t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node";} return e===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element");}; function Oh() {if (zh(this)) {return null;} let t=this.parent; while (t&&t.is("attributeElement")) {if (zh(t)>1) {return null;}t=t.parent;} if (!t||zh(t)>1) {return null;} return this.childCount;} function zh(t) {return Array.from(t.getChildren()).filter((t => !t.is("uiElement"))).length;} class Nh extends dh {constructor(t,e,n,o) {super(t,e,n,o); this.getFillerOffset=Lh;}_insertChild(t,e) {if (e&&(e instanceof Yd||Array.from(e).length>0)) {throw new V("view-emptyelement-cannot-add",[this,e]);} return 0;}}Nh.prototype.is=function(t,e) {if (!e) {return t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node";} return e===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element");}; function Lh() {return null;} class Hh extends dh {constructor(t,e,n,o) {super(t,e,n,o); this.getFillerOffset=Wh;}_insertChild(t,e) {if (e&&(e instanceof Yd||Array.from(e).length>0)) {throw new V("view-uielement-cannot-add",[this,e]);} return 0;}render(t,e) {return this.toDomElement(t);}toDomElement(t) {const e=t.createElement(this.name); for (const t of this.getAttributeKeys()) {e.setAttribute(t,this.getAttribute(t));} return e;}}Hh.prototype.is=function(t,e) {if (!e) {return t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"||t==="node"||t==="view:node";} return e===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element");}; function jh(t) {t.document.on("arrowKey",((e,n) => qh(e,n,t.domConverter)),{priority: "low"});} function Wh() {return null;} function qh(t,e,n) {if (e.keyCode==Kc.arrowright) {const t=e.domTarget.ownerDocument.defaultView.getSelection(); const o=t.rangeCount==1&&t.getRangeAt(0).collapsed; if (o||e.shiftKey) {const e=t.focusNode; const i=t.focusOffset; const r=n.domPositionToView(e,i); if (r===null) {return;} let s=false; const a=r.getLastMatchingPosition((t => {if (t.item.is("uiElement")) {s=true;} if (t.item.is("uiElement")||t.item.is("attributeElement")) {return true;} return false;})); if (s) {const e=n.viewPositionToDom(a); if (o) {t.collapse(e.parent,e.offset);} else {t.extend(e.parent,e.offset);}}}}} class Uh extends dh {constructor(t,e,n,o) {super(t,e,n,o); this.getFillerOffset=$h;}_insertChild(t,e) {if (e&&(e instanceof Yd||Array.from(e).length>0)) {throw new V("view-rawelement-cannot-add",[this,e]);} return 0;}render(t,e) {}}Uh.prototype.is=function(t,e) {if (!e) {return t==="rawElement"||t==="view:rawElement"||t===this.name||t===`view:${this.name}`||t==="element"||t==="view:element"||t==="node"||t==="view:node";} return e===this.name&&(t==="rawElement"||t==="view:rawElement"||t==="element"||t==="view:element");}; function $h() {return null;} class Gh extends (G(Gd)) {constructor(t,e) {super(); this._children=[]; this._customProperties=new Map; this.document=t; if (e) {this._insertChild(0,e);}}[Symbol.iterator]() {return this._children[Symbol.iterator]();} get childCount() {return this._children.length;} get isEmpty() {return this.childCount===0;} get root() {return this;} get parent() {return null;} get name() {return undefined;} get getFillerOffset() {return undefined;}getCustomProperty(t) {return this._customProperties.get(t);}*getCustomProperties() {yield*this._customProperties.entries();}_appendChild(t) {return this._insertChild(this.childCount,t);}getChild(t) {return this._children[t];}getChildIndex(t) {return this._children.indexOf(t);}getChildren() {return this._children[Symbol.iterator]();}_insertChild(t,e) {this._fireChange("children",this); let n=0; const o=Kh(this.document,e); for (const e of o) {if (e.parent!==null) {e._remove();}e.parent=this; this._children.splice(t,0,e); t++; n++;} return n;}_removeChildren(t,e=1) {this._fireChange("children",this); for (let n=t; n<t+e; n++) {this._children[n].parent=null;} return this._children.splice(t,e);}_fireChange(t,e) {this.fire(`change:${t}`,e);}_setCustomProperty(t,e) {this._customProperties.set(t,e);}_removeCustomProperty(t) {return this._customProperties.delete(t);}}Gh.prototype.is=function(t) {return t==="documentFragment"||t==="view:documentFragment";}; function Kh(t,e) {if (typeof e==="string") {return [new Qd(t,e)];} if (!Dt(e)) {e=[e];} return Array.from(e).map((e => {if (typeof e==="string") {return new Qd(t,e);} if (e instanceof Xd) {return new Qd(t,e.data);} return e;}));} class Zh {constructor(t) {this._cloneGroups=new Map; this._slotFactory=null; this.document=t;}setSelection(...t) {this.document.selection._setTo(...t);}setSelectionFocus(t,e) {this.document.selection._setFocus(t,e);}createDocumentFragment(t) {return new Gh(this.document,t);}createText(t) {return new Qd(this.document,t);}createAttributeElement(t,e,n={}) {const o=new Fh(this.document,t,e); if (typeof n.priority==="number") {o._priority=n.priority;} if (n.id) {o._id=n.id;} if (n.renderUnsafeAttributes) {o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes);} return o;}createContainerElement(t,e,n={},o={}) {let i=null; if (me(n)) {o=n;} else {i=n;} const r=new fh(this.document,t,e,i); if (o.renderUnsafeAttributes) {r._unsafeAttributesToRender.push(...o.renderUnsafeAttributes);} return r;}createEditableElement(t,e,n={}) {const o=new ph(this.document,t,e); if (n.renderUnsafeAttributes) {o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes);} return o;}createEmptyElement(t,e,n={}) {const o=new Nh(this.document,t,e); if (n.renderUnsafeAttributes) {o._unsafeAttributesToRender.push(...n.renderUnsafeAttributes);} return o;}createUIElement(t,e,n) {const o=new Hh(this.document,t,e); if (n) {o.render=n;} return o;}createRawElement(t,e,n,o={}) {const i=new Uh(this.document,t,e); if (n) {i.render=n;} if (o.renderUnsafeAttributes) {i._unsafeAttributesToRender.push(...o.renderUnsafeAttributes);} return i;}setAttribute(t,e,n) {n._setAttribute(t,e);}removeAttribute(t,e) {e._removeAttribute(t);}addClass(t,e) {e._addClass(t);}removeClass(t,e) {e._removeClass(t);}setStyle(t,e,n) {if (me(t)&&n===undefined) {e._setStyle(t);} else {n._setStyle(t,e);}}removeStyle(t,e) {e._removeStyle(t);}setCustomProperty(t,e,n) {n._setCustomProperty(t,e);}removeCustomProperty(t,e) {return e._removeCustomProperty(t);}breakAttributes(t) {if (t instanceof _h) {return this._breakAttributes(t);} return this._breakAttributesRange(t);}breakContainer(t) {const e=t.parent; if (!e.is("containerElement")) {throw new V("view-writer-break-non-container-element",this.document);} if (!e.parent) {throw new V("view-writer-break-root",this.document);} if (t.isAtStart) {return _h._createBefore(e);} else if (!t.isAtEnd) {const n=e._clone(false); this.insert(_h._createAfter(e),n); const o=new Ch(t,_h._createAt(e,"end")); const i=new _h(n,0); this.move(o,i);} return _h._createAfter(e);}mergeAttributes(t) {const e=t.offset; const n=t.parent; if (n.is("$text")) {return t;} if (n.is("attributeElement")&&n.childCount===0) {const t=n.parent; const e=n.index; n._remove(); this._removeFromClonedElementsGroup(n); return this.mergeAttributes(new _h(t,e));} const o=n.getChild(e-1); const i=n.getChild(e); if (!o||!i) {return t;} if (o.is("$text")&&i.is("$text")) {return eg(o,i);} else if (o.is("attributeElement")&&i.is("attributeElement")&&o.isSimilar(i)) {const t=o.childCount; o._appendChild(i.getChildren()); i._remove(); this._removeFromClonedElementsGroup(i); return this.mergeAttributes(new _h(o,t));} return t;}mergeContainers(t) {const e=t.nodeBefore; const n=t.nodeAfter; if (!e||!n||!e.is("containerElement")||!n.is("containerElement")) {throw new V("view-writer-merge-containers-invalid-position",this.document);} const o=e.getChild(e.childCount-1); const i=o instanceof Qd?_h._createAt(o,"end"):_h._createAt(e,"end"); this.move(Ch._createIn(n),_h._createAt(e,"end")); this.remove(Ch._createOn(n)); return i;}insert(t,e) {e=Dt(e)?[...e]:[e]; og(e,this.document); const n=e.reduce(((t,e) => {const n=t[t.length-1]; const o=!e.is("uiElement"); if (!n||n.breakAttributes!=o) {t.push({breakAttributes: o,nodes: [e]});} else {n.nodes.push(e);} return t;}),[]); let o=null; let i=t; for (const {nodes: t,breakAttributes: e} of n) {const n=this._insertNodes(i,t,e); if (!o) {o=n.start;}i=n.end;} if (!o) {return new Ch(t);} return new Ch(o,i);}remove(t) {const e=t instanceof Ch?t:Ch._createOn(t); rg(e,this.document); if (e.isCollapsed) {return new Gh(this.document);} const {start: n,end: o}=this._breakAttributesRange(e,true); const i=n.parent; const r=o.offset-n.offset; const s=i._removeChildren(n.offset,r); for (const t of s) {this._removeFromClonedElementsGroup(t);} const a=this.mergeAttributes(n); e.start=a; e.end=a.clone(); return new Gh(this.document,s);}clear(t,e) {rg(t,this.document); const n=t.getWalker({direction: "backward",ignoreElementEnd: true}); for (const o of n) {const n=o.item; let i; if (n.is("element")&&e.isSimilar(n)) {i=Ch._createOn(n);} else if (!o.nextPosition.isAfter(t.start)&&n.is("$textProxy")) {const t=n.getAncestors().find((t => t.is("element")&&e.isSimilar(t))); if (t) {i=Ch._createIn(t);}} if (i) {if (i.end.isAfter(t.end)) {i.end=t.end;} if (i.start.isBefore(t.start)) {i.start=t.start;} this.remove(i);}}}move(t,e) {let n; if (e.isAfter(t.end)) {e=this._breakAttributes(e,true); const o=e.parent; const i=o.childCount; t=this._breakAttributesRange(t,true); n=this.remove(t); e.offset+=o.childCount-i;} else {n=this.remove(t);} return this.insert(e,n);}wrap(t,e) {if (!(e instanceof Fh)) {throw new V("view-writer-wrap-invalid-attribute",this.document);}rg(t,this.document); if (!t.isCollapsed) {return this._wrapRange(t,e);} let n=t.start; if (n.parent.is("element")&&!Jh(n.parent)) {n=n.getLastMatchingPosition((t => t.item.is("uiElement")));}n=this._wrapPosition(n,e); const o=this.document.selection; if (o.isCollapsed&&o.getFirstPosition().isEqual(t.start)) {this.setSelection(n);} return new Ch(n);}unwrap(t,e) {if (!(e instanceof Fh)) {throw new V("view-writer-unwrap-invalid-attribute",this.document);}rg(t,this.document); if (t.isCollapsed) {return t;} const {start: n,end: o}=this._breakAttributesRange(t,true); const i=n.parent; const r=this._unwrapChildren(i,n.offset,o.offset,e); const s=this.mergeAttributes(r.start); if (!s.isEqual(r.start)) {r.end.offset--;} const a=this.mergeAttributes(r.end); return new Ch(s,a);}rename(t,e) {const n=new fh(this.document,t,e.getAttributes()); this.insert(_h._createAfter(e),n); this.move(Ch._createIn(e),_h._createAt(n,0)); this.remove(Ch._createOn(e)); return n;}clearClonedElementsGroup(t) {this._cloneGroups.delete(t);}createPositionAt(t,e) {return _h._createAt(t,e);}createPositionAfter(t) {return _h._createAfter(t);}createPositionBefore(t) {return _h._createBefore(t);}createRange(t,e) {return new Ch(t,e);}createRangeOn(t) {return Ch._createOn(t);}createRangeIn(t) {return Ch._createIn(t);}createSelection(...t) {return new vh(...t);}createSlot(t="children") {if (!this._slotFactory) {throw new V("view-writer-invalid-create-slot-context",this.document);} return this._slotFactory(this,t);}_registerSlotFactory(t) {this._slotFactory=t;}_clearSlotFactory() {this._slotFactory=null;}_insertNodes(t,e,n) {let o; if (n) {o=Yh(t);} else {o=t.parent.is("$text")?t.parent.parent:t.parent;} if (!o) {throw new V("view-writer-invalid-position-container",this.document);} let i; if (n) {i=this._breakAttributes(t,true);} else {i=t.parent.is("$text")?tg(t):t;} const r=o._insertChild(i.offset,e); for (const t of e) {this._addToClonedElementsGroup(t);} const s=i.getShiftedBy(r); const a=this.mergeAttributes(i); if (!a.isEqual(i)) {s.offset--;} const c=this.mergeAttributes(s); return new Ch(a,c);}_wrapChildren(t,e,n,o) {let i=e; const r=[]; while (i<n) {const e=t.getChild(i); const n=e.is("$text"); const s=e.is("attributeElement"); if (s&&this._wrapAttributeElement(o,e)) {r.push(new _h(t,i));} else if (n||!s||Qh(o,e)) {const n=o._clone(); e._remove(); n._appendChild(e); t._insertChild(i,n); this._addToClonedElementsGroup(n); r.push(new _h(t,i));} else {this._wrapChildren(e,0,e.childCount,o);}i++;} let s=0; for (const t of r) {t.offset-=s; if (t.offset==e) {continue;} const o=this.mergeAttributes(t); if (!o.isEqual(t)) {s++; n--;}} return Ch._createFromParentsAndOffsets(t,e,t,n);}_unwrapChildren(t,e,n,o) {let i=e; const r=[]; while (i<n) {const e=t.getChild(i); if (!e.is("attributeElement")) {i++; continue;} if (e.isSimilar(o)) {const o=e.getChildren(); const s=e.childCount; e._remove(); t._insertChild(i,o); this._removeFromClonedElementsGroup(e); r.push(new _h(t,i),new _h(t,i+s)); i+=s; n+=s-1; continue;} if (this._unwrapAttributeElement(o,e)) {r.push(new _h(t,i),new _h(t,i+1)); i++; continue;} this._unwrapChildren(e,0,e.childCount,o); i++;} let s=0; for (const t of r) {t.offset-=s; if (t.offset==e||t.offset==n) {continue;} const o=this.mergeAttributes(t); if (!o.isEqual(t)) {s++; n--;}} return Ch._createFromParentsAndOffsets(t,e,t,n);}_wrapRange(t,e) {const {start: n,end: o}=this._breakAttributesRange(t,true); const i=n.parent; const r=this._wrapChildren(i,n.offset,o.offset,e); const s=this.mergeAttributes(r.start); if (!s.isEqual(r.start)) {r.end.offset--;} const a=this.mergeAttributes(r.end); return new Ch(s,a);}_wrapPosition(t,e) {if (e.isSimilar(t.parent)) {return Xh(t.clone());} if (t.parent.is("$text")) {t=tg(t);} const n=this.createAttributeElement("_wrapPosition-fake-element"); n._priority=Number.POSITIVE_INFINITY; n.isSimilar=() => false; t.parent._insertChild(t.offset,n); const o=new Ch(t,t.getShiftedBy(1)); this.wrap(o,e); const i=new _h(n.parent,n.index); n._remove(); const r=i.nodeBefore; const s=i.nodeAfter; if (r instanceof Qd&&s instanceof Qd) {return eg(r,s);} return Xh(i);}_wrapAttributeElement(t,e) {if (!sg(t,e)) {return false;} if (t.name!==e.name||t.priority!==e.priority) {return false;} for (const n of t.getAttributeKeys()) {if (n==="class"||n==="style") {continue;} if (e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n)) {return false;}} for (const n of t.getStyleNames()) {if (e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n)) {return false;}} for (const n of t.getAttributeKeys()) {if (n==="class"||n==="style") {continue;} if (!e.hasAttribute(n)) {this.setAttribute(n,t.getAttribute(n),e);}} for (const n of t.getStyleNames()) {if (!e.hasStyle(n)) {this.setStyle(n,t.getStyle(n),e);}} for (const n of t.getClassNames()) {if (!e.hasClass(n)) {this.addClass(n,e);}} return true;}_unwrapAttributeElement(t,e) {if (!sg(t,e)) {return false;} if (t.name!==e.name||t.priority!==e.priority) {return false;} for (const n of t.getAttributeKeys()) {if (n==="class"||n==="style") {continue;} if (!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)) {return false;}} if (!e.hasClass(...t.getClassNames())) {return false;} for (const n of t.getStyleNames()) {if (!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n)) {return false;}} for (const n of t.getAttributeKeys()) {if (n==="class"||n==="style") {continue;} this.removeAttribute(n,e);} this.removeClass(Array.from(t.getClassNames()),e); this.removeStyle(Array.from(t.getStyleNames()),e); return true;}_breakAttributesRange(t,e=false) {const n=t.start; const o=t.end; rg(t,this.document); if (t.isCollapsed) {const n=this._breakAttributes(t.start,e); return new Ch(n,n);} const i=this._breakAttributes(o,e); const r=i.parent.childCount; const s=this._breakAttributes(n,e); i.offset+=i.parent.childCount-r; return new Ch(s,i);}_breakAttributes(t,e=false) {const n=t.offset; const o=t.parent; if (t.parent.is("emptyElement")) {throw new V("view-writer-cannot-break-empty-element",this.document);} if (t.parent.is("uiElement")) {throw new V("view-writer-cannot-break-ui-element",this.document);} if (t.parent.is("rawElement")) {throw new V("view-writer-cannot-break-raw-element",this.document);} if (!e&&o.is("$text")&&ig(o.parent)) {return t.clone();} if (ig(o)) {return t.clone();} if (o.is("$text")) {return this._breakAttributes(tg(t),e);} const i=o.childCount; if (n==i) {const t=new _h(o.parent,o.index+1); return this._breakAttributes(t,e);} if (n===0) {const t=new _h(o.parent,o.index); return this._breakAttributes(t,e);} else {const t=o.index+1; const i=o._clone(); o.parent._insertChild(t,i); this._addToClonedElementsGroup(i); const r=o.childCount-n; const s=o._removeChildren(n,r); i._appendChild(s); const a=new _h(o.parent,t); return this._breakAttributes(a,e);}}_addToClonedElementsGroup(t) {if (!t.root.is("rootElement")) {return;} if (t.is("element")) {for (const e of t.getChildren()) {this._addToClonedElementsGroup(e);}} const e=t.id; if (!e) {return;} let n=this._cloneGroups.get(e); if (!n) {n=new Set; this._cloneGroups.set(e,n);}n.add(t); t._clonesGroup=n;}_removeFromClonedElementsGroup(t) {if (t.is("element")) {for (const e of t.getChildren()) {this._removeFromClonedElementsGroup(e);}} const e=t.id; if (!e) {return;} const n=this._cloneGroups.get(e); if (!n) {return;}n.delete(t);}} function Jh(t) {return Array.from(t.getChildren()).some((t => !t.is("uiElement")));} function Yh(t) {let e=t.parent; while (!ig(e)) {if (!e) {return undefined;}e=e.parent;} return e;} function Qh(t,e) {if (t.priority<e.priority) {return true;} else if (t.priority>e.priority) {return false;} return t.getIdentity()<e.getIdentity();} function Xh(t) {const e=t.nodeBefore; if (e&&e.is("$text")) {return new _h(e,e.data.length);} const n=t.nodeAfter; if (n&&n.is("$text")) {return new _h(n,0);} return t;} function tg(t) {if (t.offset==t.parent.data.length) {return new _h(t.parent.parent,t.parent.index+1);} if (t.offset===0) {return new _h(t.parent.parent,t.parent.index);} const e=t.parent.data.slice(t.offset); t.parent._data=t.parent.data.slice(0,t.offset); t.parent.parent._insertChild(t.parent.index+1,new Qd(t.root.document,e)); return new _h(t.parent.parent,t.parent.index+1);} function eg(t,e) {const n=t.data.length; t._data+=e.data; e._remove(); return new _h(t,n);} const ng=[Qd,Fh,fh,Nh,Uh,Hh]; function og(t,e) {for (const n of t) {if (!ng.some((t => n instanceof t))) {throw new V("view-writer-insert-invalid-node-type",e);} if (!n.is("$text")) {og(n.getChildren(),e);}}} function ig(t) {return t&&(t.is("containerElement")||t.is("documentFragment"));} function rg(t,e) {const n=Yh(t.start); const o=Yh(t.end); if (!n||!o||n!==o) {throw new V("view-writer-invalid-range-container",e);}} function sg(t,e) {return t.id===null&&e.id===null;} const ag=t => t.createTextNode(" "); const cg=t => {const e=t.createElement("span"); e.dataset.ckeFiller="true"; e.innerText=" "; return e;}; const lg=t => {const e=t.createElement("br"); e.dataset.ckeFiller="true"; return e;}; const dg=7; const ug="⁠".repeat(dg); function hg(t) {if (typeof t==="string") {return t.substr(0,dg)===ug;} return ac(t)&&t.data.substr(0,dg)===ug;} function gg(t) {return t.data.length==dg&&hg(t);} function fg(t) {const e=typeof t==="string"?t:t.data; if (hg(t)) {return e.slice(dg);} return e;} function mg(t) {t.document.on("arrowKey",pg,{priority: "low"});} function pg(t,e) {if (e.keyCode==Kc.arrowleft) {const t=e.domTarget.ownerDocument.defaultView.getSelection(); if (t.rangeCount==1&&t.getRangeAt(0).collapsed) {const e=t.getRangeAt(0).startContainer; const n=t.getRangeAt(0).startOffset; if (hg(e)&&n<=dg) {t.collapse(e,0);}}}} const kg=n(7526); const bg={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; bg.insert="head"; bg.singleton=true; const wg=Id()(kg.A,bg); const _g=kg.A.locals||{}; class Cg extends (gt()) {constructor(t,e) {super(); this.domDocuments=new Set; this.markedAttributes=new Set; this.markedChildren=new Set; this.markedTexts=new Set; this._inlineFiller=null; this._fakeSelectionContainer=null; this.domConverter=t; this.selection=e; this.set("isFocused",false); this.set("isSelecting",false); if (l.isBlink&&!l.isAndroid) {this.on("change:isSelecting",(() => {if (!this.isSelecting) {this.render();}}));} this.set("isComposing",false); this.on("change:isComposing",(() => {if (!this.isComposing) {this.render();}}));}markToSync(t,e) {if (t==="text") {if (this.domConverter.mapViewToDom(e.parent)) {this.markedTexts.add(e);}} else {if (!this.domConverter.mapViewToDom(e)) {return;} if (t==="attributes") {this.markedAttributes.add(e);} else if (t==="children") {this.markedChildren.add(e);} else {const e=t; throw new V("view-renderer-unknown-type",this);}}}render() {if (this.isComposing&&!l.isAndroid) {return;} let t=null; const e=l.isBlink&&!l.isAndroid?!this.isSelecting:true; for (const t of this.markedChildren) {this._updateChildrenMappings(t);} if (e) {if (this._inlineFiller&&!this._isSelectionInInlineFiller()) {this._removeInlineFiller();} if (this._inlineFiller) {t=this._getInlineFillerPosition();} else if (this._needsInlineFillerAtSelection()) {t=this.selection.getFirstPosition(); this.markedChildren.add(t.parent);}} else if (this._inlineFiller&&this._inlineFiller.parentNode) {t=this.domConverter.domPositionToView(this._inlineFiller); if (t&&t.parent.is("$text")) {t=_h._createBefore(t.parent);}} for (const t of this.markedAttributes) {this._updateAttrs(t);} for (const e of this.markedChildren) {this._updateChildren(e,{inlineFillerPosition: t});} for (const e of this.markedTexts) {if (!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)) {this._updateText(e,{inlineFillerPosition: t});}} if (e) {if (t) {const e=this.domConverter.viewPositionToDom(t); const n=e.parent.ownerDocument; if (!hg(e.parent)) {this._inlineFiller=vg(n,e.parent,e.offset);} else {this._inlineFiller=e.parent;}} else {this._inlineFiller=null;}} this._updateFocus(); this._updateSelection(); this.domConverter._clearTemporaryCustomProperties(); this.markedTexts.clear(); this.markedAttributes.clear(); this.markedChildren.clear();}_updateChildrenMappings(t) {const e=this.domConverter.mapViewToDom(t); if (!e) {return;} const n=Array.from(e.childNodes); const o=Array.from(this.domConverter.viewChildrenToDom(t,{withChildren: false})); const i=this._diffNodeLists(n,o); const r=this._findUpdateActions(i,n,o,yg); if (r.indexOf("update")!==-1) {const e={equal: 0,insert: 0,delete: 0}; for (const i of r) {if (i==="update") {const i=e.equal+e.insert; const r=e.equal+e.delete; const s=t.getChild(i); if (s&&!s.is("uiElement")&&!s.is("rawElement")) {this._updateElementMappings(s,n[r]);}Pc(o[i]); e.equal++;} else {e[i]++;}}}}_updateElementMappings(t,e) {this.domConverter.unbindDomElement(e); this.domConverter.bindElements(e,t); this.markedChildren.add(t); this.markedAttributes.add(t);}_getInlineFillerPosition() {const t=this.selection.getFirstPosition(); if (t.parent.is("$text")) {return _h._createBefore(t.parent);} return t;}_isSelectionInInlineFiller() {if (this.selection.rangeCount!=1||!this.selection.isCollapsed) {return false;} const t=this.selection.getFirstPosition(); const e=this.domConverter.viewPositionToDom(t); if (e&&ac(e.parent)&&hg(e.parent)) {return true;} return false;}_removeInlineFiller() {const t=this._inlineFiller; if (!hg(t)) {throw new V("view-renderer-filler-was-lost",this);} if (gg(t)) {t.remove();} else {t.data=t.data.substr(dg);} this._inlineFiller=null;}_needsInlineFillerAtSelection() {if (this.selection.rangeCount!=1||!this.selection.isCollapsed) {return false;} const t=this.selection.getFirstPosition(); const e=t.parent; const n=t.offset; if (!this.domConverter.mapViewToDom(e.root)) {return false;} if (!e.is("element")) {return false;} if (!Ag(e)) {return false;} if (n===e.getFillerOffset()) {return false;} const o=t.nodeBefore; const i=t.nodeAfter; if (o instanceof Qd||i instanceof Qd) {return false;} if (l.isAndroid&&(o||i)) {return false;} return true;}_updateText(t,e) {const n=this.domConverter.findCorrespondingDomText(t); const o=this.domConverter.viewToDom(t); let i=o.data; const r=e.inlineFillerPosition; if (r&&r.parent==t.parent&&r.offset==t.index) {i=ug+i;}Sg(n,i);}_updateAttrs(t) {const e=this.domConverter.mapViewToDom(t); if (!e) {return;} const n=Array.from(e.attributes).map((t => t.name)); const o=t.getAttributeKeys(); for (const n of o) {this.domConverter.setDomElementAttribute(e,n,t.getAttribute(n),t);} for (const o of n) {if (!t.hasAttribute(o)) {this.domConverter.removeDomElementAttribute(e,o);}}}_updateChildren(t,e) {const n=this.domConverter.mapViewToDom(t); if (!n) {return;} if (l.isAndroid) {let t=null; for (const e of Array.from(n.childNodes)) {if (t&&ac(t)&&ac(e)) {n.normalize(); break;}t=e;}} const o=e.inlineFillerPosition; const i=n.childNodes; const r=Array.from(this.domConverter.viewChildrenToDom(t,{bind: true})); if (o&&o.parent===t) {vg(n.ownerDocument,r,o.offset);} const s=this._diffNodeLists(i,r); const a=this._findUpdateActions(s,i,r,xg); let c=0; const d=new Set; for (const t of a) {if (t==="delete") {d.add(i[c]); Pc(i[c]);} else if (t==="equal"||t==="update") {c++;}}c=0; for (const t of a) {if (t==="insert") {vc(n,c,r[c]); c++;} else if (t==="update") {Sg(i[c],r[c].data); c++;} else if (t==="equal") {this._markDescendantTextToSync(this.domConverter.domToView(r[c])); c++;}} for (const t of d) {if (!t.parentNode) {this.domConverter.unbindDomElement(t);}}}_diffNodeLists(t,e) {t=Bg(t,this._fakeSelectionContainer); return y(t,e,Eg.bind(null,this.domConverter));}_findUpdateActions(t,e,n,o) {if (t.indexOf("insert")===-1||t.indexOf("delete")===-1) {return t;} let i=[]; let r=[]; let s=[]; const a={equal: 0,insert: 0,delete: 0}; for (const c of t) {if (c==="insert") {s.push(n[a.equal+a.insert]);} else if (c==="delete") {r.push(e[a.equal+a.delete]);} else {i=i.concat(y(r,s,o).map((t => t==="equal"?"update":t))); i.push("equal"); r=[]; s=[];}a[c]++;} return i.concat(y(r,s,o).map((t => t==="equal"?"update":t)));}_markDescendantTextToSync(t) {if (!t) {return;} if (t.is("$text")) {this.markedTexts.add(t);} else if (t.is("element")) {for (const e of t.getChildren()) {this._markDescendantTextToSync(e);}}}_updateSelection() {if (l.isBlink&&!l.isAndroid&&this.isSelecting&&!this.markedChildren.size) {return;} if (this.selection.rangeCount===0) {this._removeDomSelection(); this._removeFakeSelection(); return;} const t=this.domConverter.mapViewToDom(this.selection.editableElement); if (!this.isFocused||!t) {return;} if (this.selection.isFake) {this._updateFakeSelection(t);} else if (this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected) {this._removeFakeSelection(); this._updateDomSelection(t);} else if (!(this.isComposing&&l.isAndroid)) {this._updateDomSelection(t);}}_updateFakeSelection(t) {const e=t.ownerDocument; if (!this._fakeSelectionContainer) {this._fakeSelectionContainer=Tg(e);} const n=this._fakeSelectionContainer; this.domConverter.bindFakeSelection(n,this.selection); if (!this._fakeSelectionNeedsUpdate(t)) {return;} if (!n.parentElement||n.parentElement!=t) {t.appendChild(n);}n.textContent=this.selection.fakeSelectionLabel||" "; const o=e.getSelection(); const i=e.createRange(); o.removeAllRanges(); i.selectNodeContents(n); o.addRange(i);}_updateDomSelection(t) {const e=t.ownerDocument.defaultView.getSelection(); if (!this._domSelectionNeedsUpdate(e)) {return;} const n=this.domConverter.viewPositionToDom(this.selection.anchor); const o=this.domConverter.viewPositionToDom(this.selection.focus); e.setBaseAndExtent(n.parent,n.offset,o.parent,o.offset); if (l.isGecko) {Dg(o,e);}}_domSelectionNeedsUpdate(t) {if (!this.domConverter.isDomSelectionCorrect(t)) {return true;} const e=t&&this.domConverter.domSelectionToView(t); if (e&&this.selection.isEqual(e)) {return false;} if (!this.selection.isCollapsed&&this.selection.isSimilar(e)) {return false;} return true;}_fakeSelectionNeedsUpdate(t) {const e=this._fakeSelectionContainer; const n=t.ownerDocument.getSelection(); if (!e||e.parentElement!==t) {return true;} if (n.anchorNode!==e&&!e.contains(n.anchorNode)) {return true;} return e.textContent!==this.selection.fakeSelectionLabel;}_removeDomSelection() {for (const t of this.domDocuments) {const e=t.getSelection(); if (e.rangeCount) {const n=t.activeElement; const o=this.domConverter.mapDomToView(n); if (n&&o) {e.removeAllRanges();}}}}_removeFakeSelection() {const t=this._fakeSelectionContainer; if (t) {t.remove();}}_updateFocus() {if (this.isFocused) {const t=this.selection.editableElement; if (t) {this.domConverter.focus(t);}}}} function Ag(t) {if (t.getAttribute("contenteditable")=="false") {return false;} const e=t.findAncestor((t => t.hasAttribute("contenteditable"))); return !e||e.getAttribute("contenteditable")=="true";} function vg(t,e,n) {const o=e instanceof Array?e:e.childNodes; const i=o[n]; if (ac(i)) {i.data=ug+i.data; return i;} else {const i=t.createTextNode(ug); if (Array.isArray(e)) {o.splice(n,0,i);} else {vc(e,n,i);} return i;}} function yg(t,e) {return Ka(t)&&Ka(e)&&!ac(t)&&!ac(e)&&!yc(t)&&!yc(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase();} function xg(t,e) {return Ka(t)&&Ka(e)&&ac(t)&&ac(e);} function Eg(t,e,n) {if (e===n) {return true;} else if (ac(e)&&ac(n)) {return e.data===n.data;} else if (t.isBlockFiller(e)&&t.isBlockFiller(n)) {return true;} return false;} function Dg(t,e) {const n=t.parent; if (n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1) {return;} const o=n.childNodes[t.offset]; if (o&&o.tagName=="BR") {e.addRange(e.getRangeAt(0));}} function Bg(t,e) {const n=Array.from(t); if (n.length==0||!e) {return n;} const o=n[n.length-1]; if (o==e) {n.pop();} return n;} function Tg(t) {const e=t.createElement("div"); e.className="ck-fake-selection-container"; Object.assign(e.style,{position: "fixed",top: 0,left: "-9999px",width: "42px"}); e.textContent=" "; return e;} function Sg(t,e) {const n=t.data; if (n==e) {return;} const o=b(n,e); for (const e of o) {if (e.type==="insert") {t.insertData(e.index,e.values.join(""));} else {t.deleteData(e.index,e.howMany);}}} const Ig=lg(nc.document); const Pg=ag(nc.document); const Rg=cg(nc.document); const Vg="data-ck-unsafe-attribute-"; const Mg="data-ck-unsafe-element"; class Fg {constructor(t,{blockFillerMode: e,renderingMode: n="editing"}={}) {this._domToViewMapping=new WeakMap; this._viewToDomMapping=new WeakMap; this._fakeSelectionMapping=new WeakMap; this._rawContentElementMatcher=new tu; this._inlineObjectElementMatcher=new tu; this._elementsWithTemporaryCustomProperties=new Set; this.document=t; this.renderingMode=n; this.blockFillerMode=e||(n==="editing"?"br":"nbsp"); this.preElements=["pre"]; this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"]; this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"]; this.unsafeElements=["script","style"]; this._domDocument=this.renderingMode==="editing"?nc.document:nc.document.implementation.createHTMLDocument("");}bindFakeSelection(t,e) {this._fakeSelectionMapping.set(t,new vh(e));}fakeSelectionToView(t) {return this._fakeSelectionMapping.get(t);}bindElements(t,e) {this._domToViewMapping.set(t,e); this._viewToDomMapping.set(e,t);}unbindDomElement(t) {const e=this._domToViewMapping.get(t); if (e) {this._domToViewMapping.delete(t); this._viewToDomMapping.delete(e); for (const e of Array.from(t.children)) {this.unbindDomElement(e);}}}bindDocumentFragments(t,e) {this._domToViewMapping.set(t,e); this._viewToDomMapping.set(e,t);}shouldRenderAttribute(t,e,n) {if (this.renderingMode==="data") {return true;}t=t.toLowerCase(); if (t.startsWith("on")) {return false;} if (t==="srcdoc"&&e.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i)) {return false;} if (n==="img"&&(t==="src"||t==="srcset")) {return true;} if (n==="source"&&t==="srcset") {return true;} if (e.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i)) {return false;} return true;}setContentOf(t,e) {if (this.renderingMode==="data") {t.innerHTML=e; return;} const n=(new DOMParser).parseFromString(e,"text/html"); const o=n.createDocumentFragment(); const i=n.body.childNodes; while (i.length>0) {o.appendChild(i[0]);} const r=n.createTreeWalker(o,NodeFilter.SHOW_ELEMENT); const s=[]; let a; while (a=r.nextNode()) {s.push(a);} for (const t of s) {for (const e of t.getAttributeNames()) {this.setDomElementAttribute(t,e,t.getAttribute(e));} const e=t.tagName.toLowerCase(); if (this._shouldRenameElement(e)) {Hg(e); t.replaceWith(this._createReplacementDomElement(e,t));}} while (t.firstChild) {t.firstChild.remove();}t.append(o);}viewToDom(t,e={}) {if (t.is("$text")) {const e=this._processDataFromViewText(t); return this._domDocument.createTextNode(e);} const n=t; if (this.mapViewToDom(n)) {if (n.getCustomProperty("editingPipeline:doNotReuseOnce")) {this._elementsWithTemporaryCustomProperties.add(n);} else {return this.mapViewToDom(n);}} let o; if (n.is("documentFragment")) {o=this._domDocument.createDocumentFragment(); if (e.bind) {this.bindDocumentFragments(o,n);}} else if (n.is("uiElement")) {if (n.name==="$comment") {o=this._domDocument.createComment(n.getCustomProperty("$rawContent"));} else {o=n.render(this._domDocument,this);} if (e.bind) {this.bindElements(o,n);} return o;} else {if (this._shouldRenameElement(n.name)) {Hg(n.name); o=this._createReplacementDomElement(n.name);} else if (n.hasAttribute("xmlns")) {o=this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name);} else {o=this._domDocument.createElement(n.name);} if (n.is("rawElement")) {n.render(o,this);} if (e.bind) {this.bindElements(o,n);} for (const t of n.getAttributeKeys()) {this.setDomElementAttribute(o,t,n.getAttribute(t),n);}} if (e.withChildren!==false) {for (const t of this.viewChildrenToDom(n,e)) {o.appendChild(t);}} return o;}setDomElementAttribute(t,e,n,o) {const i=this.shouldRenderAttribute(e,n,t.tagName.toLowerCase())||o&&o.shouldRenderUnsafeAttribute(e); if (!i) {M("domconverter-unsafe-attribute-detected",{domElement: t,key: e,value: n});} if (!xc(e)) {M("domconverter-invalid-attribute-detected",{domElement: t,key: e,value: n}); return;} if (t.hasAttribute(e)&&!i) {t.removeAttribute(e);} else if (t.hasAttribute(Vg+e)&&i) {t.removeAttribute(Vg+e);}t.setAttribute(i?e:Vg+e,n);}removeDomElementAttribute(t,e) {if (e==Mg) {return;}t.removeAttribute(e); t.removeAttribute(Vg+e);}*viewChildrenToDom(t,e={}) {const n=t.getFillerOffset&&t.getFillerOffset(); let o=0; for (const i of t.getChildren()) {if (n===o) {yield this._getBlockFiller();} const t=i.is("element")&&!!i.getCustomProperty("dataPipeline:transparentRendering")&&!rd(i.getAttributes()); if (t&&this.renderingMode=="data") {yield*this.viewChildrenToDom(i,e);} else {if (t) {M("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement: i});} yield this.viewToDom(i,e);}o++;} if (n===o) {yield this._getBlockFiller();}}viewRangeToDom(t) {const e=this.viewPositionToDom(t.start); const n=this.viewPositionToDom(t.end); const o=this._domDocument.createRange(); o.setStart(e.parent,e.offset); o.setEnd(n.parent,n.offset); return o;}viewPositionToDom(t) {const e=t.parent; if (e.is("$text")) {const n=this.findCorrespondingDomText(e); if (!n) {return null;} let o=t.offset; if (hg(n)) {o+=dg;} return {parent: n,offset: o};} let n,o,i; if (t.offset===0) {n=this.mapViewToDom(e); if (!n) {return null;}i=n.childNodes[0];} else {const e=t.nodeBefore; o=e.is("$text")?this.findCorrespondingDomText(e):this.mapViewToDom(e); if (!o) {return null;}n=o.parentNode; i=o.nextSibling;} if (ac(i)&&hg(i)) {return {parent: i,offset: dg};} const r=o?Ac(o)+1:0; return {parent: n,offset: r};}domToView(t,e={}) {const n=[]; const o=this._domToView(t,e,n); const i=o.next().value; if (!i) {return null;}o.next(); this._processDomInlineNodes(null,n,e); if (i.is("$text")&&i.data.length==0) {return null;} return i;}*domChildrenToView(t,e={},n=[]) {for (let o=0; o<t.childNodes.length; o++) {const i=t.childNodes[o]; const r=this._domToView(i,e,n); const s=r.next().value; if (s!==null) {if (this._isBlockViewElement(s)) {this._processDomInlineNodes(t,n,e);} yield s; r.next();}} this._processDomInlineNodes(t,n,e);}domSelectionToView(t) {if (jg(t)) {return new vh([]);} if (t.rangeCount===1) {let e=t.getRangeAt(0).startContainer; if (ac(e)) {e=e.parentNode;} const n=this.fakeSelectionToView(e); if (n) {return n;}} const e=this.isDomSelectionBackward(t); const n=[]; for (let e=0; e<t.rangeCount; e++) {const o=t.getRangeAt(e); const i=this.domRangeToView(o); if (i) {n.push(i);}} return new vh(n,{backward: e});}domRangeToView(t) {const e=this.domPositionToView(t.startContainer,t.startOffset); const n=this.domPositionToView(t.endContainer,t.endOffset); if (e&&n) {return new Ch(e,n);} return null;}domPositionToView(t,e=0) {if (this.isBlockFiller(t)) {return this.domPositionToView(t.parentNode,Ac(t));} const n=this.mapDomToView(t); if (n&&(n.is("uiElement")||n.is("rawElement"))) {return _h._createBefore(n);} if (ac(t)) {if (gg(t)) {return this.domPositionToView(t.parentNode,Ac(t));} const n=this.findCorrespondingViewText(t); let o=e; if (!n) {return null;} if (hg(t)) {o-=dg; o=o<0?0:o;} return new _h(n,o);} if (e===0) {const e=this.mapDomToView(t); if (e) {return new _h(e,0);}} else {const n=t.childNodes[e-1]; if (ac(n)&&gg(n)||n&&this.isBlockFiller(n)) {return this.domPositionToView(n.parentNode,Ac(n));} const o=ac(n)?this.findCorrespondingViewText(n):this.mapDomToView(n); if (o&&o.parent) {return new _h(o.parent,o.index+1);}} return null;}mapDomToView(t) {const e=this.getHostViewElement(t); return e||this._domToViewMapping.get(t);}findCorrespondingViewText(t) {if (gg(t)) {return null;} const e=this.getHostViewElement(t); if (e) {return e;} const n=t.previousSibling; if (n) {if (!this.isElement(n)) {return null;} const t=this.mapDomToView(n); if (t) {const e=t.nextSibling; if (e instanceof Qd) {return e;} return null;}} else {const e=this.mapDomToView(t.parentNode); if (e) {const t=e.getChild(0); if (t instanceof Qd) {return t;} return null;}} return null;}mapViewToDom(t) {return this._viewToDomMapping.get(t);}findCorrespondingDomText(t) {const e=t.previousSibling; if (e&&this.mapViewToDom(e)) {return this.mapViewToDom(e).nextSibling;} if (!e&&t.parent&&this.mapViewToDom(t.parent)) {return this.mapViewToDom(t.parent).childNodes[0];} return null;}focus(t) {const e=this.mapViewToDom(t); if (e&&e.ownerDocument.activeElement!==e) {const {scrollX: t,scrollY: n}=nc.window; const o=[]; zg(e,(t => {const {scrollLeft: e,scrollTop: n}=t; o.push([e,n]);})); e.focus(); zg(e,(t => {const [e,n]=o.shift(); t.scrollLeft=e; t.scrollTop=n;})); nc.window.scrollTo(t,n);}}_clearDomSelection() {const t=this.mapViewToDom(this.document.selection.editableElement); if (!t) {return;} const e=t.ownerDocument.defaultView.getSelection(); const n=this.domSelectionToView(e); const o=n&&n.rangeCount>0; if (o) {e.removeAllRanges();}}isElement(t) {return t&&t.nodeType==Node.ELEMENT_NODE;}isDocumentFragment(t) {return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE;}isBlockFiller(t) {if (this.blockFillerMode=="br") {return t.isEqualNode(Ig);} if (t.tagName==="BR"&&Lg(t,this.blockElements)&&t.parentNode.childNodes.length===1) {return true;} return t.isEqualNode(Rg)||Ng(t,this.blockElements);}isDomSelectionBackward(t) {if (t.isCollapsed) {return false;} const e=this._domDocument.createRange(); try {e.setStart(t.anchorNode,t.anchorOffset); e.setEnd(t.focusNode,t.focusOffset);} catch (t) {return false;} const n=e.collapsed; e.detach(); return n;}getHostViewElement(t) {const e=ic(t); e.pop(); while (e.length) {const t=e.pop(); const n=this._domToViewMapping.get(t); if (n&&(n.is("uiElement")||n.is("rawElement"))) {return n;}} return null;}isDomSelectionCorrect(t) {return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset);}registerRawContentMatcher(t) {this._rawContentElementMatcher.add(t);}registerInlineObjectMatcher(t) {this._inlineObjectElementMatcher.add(t);}_clearTemporaryCustomProperties() {for (const t of this._elementsWithTemporaryCustomProperties) {t._removeCustomProperty("editingPipeline:doNotReuseOnce");} this._elementsWithTemporaryCustomProperties.clear();}_getBlockFiller() {switch (this.blockFillerMode) {case "nbsp":return ag(this._domDocument); case "markedNbsp":return cg(this._domDocument); case "br":return lg(this._domDocument);}}_isDomSelectionPositionCorrect(t,e) {if (ac(t)&&hg(t)&&e<dg) {return false;} if (this.isElement(t)&&hg(t.childNodes[e])) {return false;} const n=this.mapDomToView(t); if (n&&(n.is("uiElement")||n.is("rawElement"))) {return false;} return true;}*_domToView(t,e,n) {if (this.isBlockFiller(t)) {return null;} const o=this.getHostViewElement(t); if (o) {return o;} if (yc(t)&&e.skipComments) {return null;} if (ac(t)) {if (gg(t)) {return null;} const e=t.data; if (e==="") {return null;} const o=new Qd(this.document,e); n.push(o); return o;} else {let o=this.mapDomToView(t); if (o) {if (this._isInlineObjectElement(o)) {n.push(o);} return o;} if (this.isDocumentFragment(t)) {o=new Gh(this.document); if (e.bind) {this.bindDocumentFragments(t,o);}} else {o=this._createViewElement(t,e); if (e.bind) {this.bindElements(t,o);} const i=t.attributes; if (i) {for (let t=i.length,e=0; e<t; e++) {o._setAttribute(i[e].name,i[e].value);}} if (this._isViewElementWithRawContent(o,e)) {o._setCustomProperty("$rawContent",t.innerHTML); if (!this._isBlockViewElement(o)) {n.push(o);} return o;} if (yc(t)) {o._setCustomProperty("$rawContent",t.data); return o;}} yield o; const i=[]; if (e.withChildren!==false) {for (const n of this.domChildrenToView(t,e,i)) {o._appendChild(n);}} if (this._isInlineObjectElement(o)) {n.push(o);} else {for (const t of i) {n.push(t);}}}}_processDomInlineNodes(t,e,n) {if (!e.length) {return;} if (t&&!this.isDocumentFragment(t)&&!this._isBlockDomElement(t)) {return;} let o=false; for (let t=0; t<e.length; t++) {const i=e[t]; if (!i.is("$text")) {o=false; continue;} let r; let s=false; if (Og(i,this.preElements)) {r=fg(i.data);} else {r=i.data.replace(/[ \n\t\r]{1,}/g," "); s=(/[^\S\u00A0]/).test(r.charAt(r.length-1)); const a=t>0?e[t-1]:null; const c=t+1<e.length?e[t+1]:null; const l=!a||a.is("element")&&a.name=="br"||o; const d=c?false:!hg(i.data); if (n.withChildren!==false) {if (l) {r=r.replace(/^ /,"");} if (d) {r=r.replace(/ $/,"");}}r=fg(r); r=r.replace(/ \u00A0/g,"  "); const u=c&&c.is("element")&&c.name!="br"; const h=c&&c.is("$text")&&c.data.charAt(0)==" "; if ((/[ \u00A0]\u00A0$/).test(r)||!c||u||h) {r=r.replace(/\u00A0$/," ");} if (l||a&&a.is("element")&&a.name!="br") {r=r.replace(/^\u00A0/," ");}} if (r.length==0&&i.parent) {i._remove(); e.splice(t,1); t--;} else {i._data=r; o=s;}}e.length=0;}_processDataFromViewText(t) {let e=t.data; if (t.getAncestors().some((t => this.preElements.includes(t.name)))) {return e;} if (e.charAt(0)==" ") {const n=this._getTouchingInlineViewNode(t,false); const o=n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n); if (o||!n) {e=` ${e.substr(1)}`;}} if (e.charAt(e.length-1)==" ") {const n=this._getTouchingInlineViewNode(t,true); const o=n&&n.is("$textProxy")&&n.data.charAt(0)==" "; if (e.charAt(e.length-2)==" "||!n||o) {e=`${e.substr(0,e.length-1)} `;}} return e.replace(/ {2}/g,"  ");}_nodeEndsWithSpace(t) {if (t.getAncestors().some((t => this.preElements.includes(t.name)))) {return false;} const e=this._processDataFromViewText(t); return e.charAt(e.length-1)==" ";}_getTouchingInlineViewNode(t,e) {const n=new wh({startPosition: e?_h._createAfter(t):_h._createBefore(t),direction: e?"forward":"backward"}); for (const t of n) {if (t.item.is("element","br")) {return null;} else if (this._isInlineObjectElement(t.item)) {return t.item;} else if (t.item.is("containerElement")) {return null;} else if (t.item.is("$textProxy")) {return t.item;}} return null;}_isBlockDomElement(t) {return this.isElement(t)&&this.blockElements.includes(t.tagName.toLowerCase());}_isBlockViewElement(t) {return t.is("element")&&this.blockElements.includes(t.name);}_isInlineObjectElement(t) {if (!t.is("element")) {return false;} return t.name=="br"||this.inlineObjectElements.includes(t.name)||!!this._inlineObjectElementMatcher.match(t);}_createViewElement(t,e) {if (yc(t)) {return new Hh(this.document,"$comment");} const n=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase(); return new dh(this.document,n);}_isViewElementWithRawContent(t,e) {return e.withChildren!==false&&t.is("element")&&!!this._rawContentElementMatcher.match(t);}_shouldRenameElement(t) {const e=t.toLowerCase(); return this.renderingMode==="editing"&&this.unsafeElements.includes(e);}_createReplacementDomElement(t,e) {const n=this._domDocument.createElement("span"); n.setAttribute(Mg,t); if (e) {while (e.firstChild) {n.appendChild(e.firstChild);} for (const t of e.getAttributeNames()) {n.setAttribute(t,e.getAttribute(t));}} return n;}} function Og(t,e) {return t.getAncestors().some((t => t.is("element")&&e.includes(t.name)));} function zg(t,e) {let n=t; while (n) {e(n); n=n.parentElement;}} function Ng(t,e) {const n=t.isEqualNode(Pg); return n&&Lg(t,e)&&t.parentNode.childNodes.length===1;} function Lg(t,e) {const n=t.parentNode; return !!n&&!!n.tagName&&e.includes(n.tagName.toLowerCase());} function Hg(t) {if (t==="script") {M("domconverter-unsafe-script-element-detected");} if (t==="style") {M("domconverter-unsafe-style-element-detected");}} function jg(t) {if (!l.isGecko) {return false;} if (!t.rangeCount) {return false;} const e=t.getRangeAt(0).startContainer; try {Object.prototype.toString.call(e);} catch (t) {return true;} return false;} class Wg extends (Ya()) {constructor(t) {super(); this._isEnabled=false; this.view=t; this.document=t.document;} get isEnabled() {return this._isEnabled;}enable() {this._isEnabled=true;}disable() {this._isEnabled=false;}destroy() {this.disable(); this.stopListening();}checkShouldIgnoreEventFromTarget(t) {if (t&&t.nodeType===3) {t=t.parentNode;} if (!t||t.nodeType!==1) {return false;} return t.matches("[data-cke-ignore-events], [data-cke-ignore-events] *");}} const qg=Ul(((t,e) => {bo(e,er(e),t);})); const Ug=qg; class $g {constructor(t,e,n) {this.view=t; this.document=t.document; this.domEvent=e; this.domTarget=e.target; Ug(this,n);} get target() {return this.view.domConverter.mapDomToView(this.domTarget);}preventDefault() {this.domEvent.preventDefault();}stopPropagation() {this.domEvent.stopPropagation();}} class Gg extends Wg {constructor() {super(...arguments); this.useCapture=false;}observe(t) {const e=typeof this.domEventType==="string"?[this.domEventType]:this.domEventType; e.forEach((e => {this.listenTo(t,e,((t,e) => {if (this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(e.target)) {this.onDomEvent(e);}}),{useCapture: this.useCapture});}));}stopObserving(t) {this.stopListening(t);}fire(t,e,n) {if (this.isEnabled) {this.document.fire(t,new $g(this.view,e,n));}}} class Kg extends Gg {constructor() {super(...arguments); this.domEventType=["keydown","keyup"];}onDomEvent(t) {const e={keyCode: t.keyCode,altKey: t.altKey,ctrlKey: t.ctrlKey,shiftKey: t.shiftKey,metaKey: t.metaKey,get keystroke() {return Jc(this);}}; this.fire(t.type,t,e);}} const Zg=function() {return Pt.Date.now();}; const Jg=Zg; const Yg=/\s/; function Qg(t) {let e=t.length; while (e--&&Yg.test(t.charAt(e))) {} return e;} const Xg=Qg; const tf=/^\s+/; function ef(t) {return t?t.slice(0,Xg(t)+1).replace(tf,""):t;} const nf=ef; const of=0/0; const rf=/^[-+]0x[0-9a-f]+$/i; const sf=/^0b[01]+$/i; const af=/^0o[0-7]+$/i; const cf=parseInt; function lf(t) {if (typeof t==="number") {return t;} if (hu(t)) {return of;} if (st(t)) {const e=typeof t.valueOf==="function"?t.valueOf():t; t=st(e)?`${e}`:e;} if (typeof t!=="string") {return t===0?t:+t;}t=nf(t); const n=sf.test(t); return n||af.test(t)?cf(t.slice(2),n?2:8):rf.test(t)?of:+t;} const df=lf; const uf="Expected a function"; const hf=Math.max,gf=Math.min; function ff(t,e,n) {let o,i,r,s,a,c,l=0,d=false,u=false,h=true; if (typeof t!=="function") {throw new TypeError(uf);}e=df(e)||0; if (st(n)) {d=!!n.leading; u="maxWait"in n; r=u?hf(df(n.maxWait)||0,e):r; h="trailing"in n?!!n.trailing:h;} function g(e) {const n=o,r=i; o=i=undefined; l=e; s=t.apply(r,n); return s;} function f(t) {l=t; a=setTimeout(k,e); return d?g(t):s;} function m(t) {const n=t-c,o=t-l,i=e-n; return u?gf(i,r-o):i;} function p(t) {const n=t-c,o=t-l; return c===undefined||n>=e||n<0||u&&o>=r;} function k() {const t=Jg(); if (p(t)) {return b(t);}a=setTimeout(k,m(t));} function b(t) {a=undefined; if (h&&o) {return g(t);}o=i=undefined; return s;} function w() {if (a!==undefined) {clearTimeout(a);}l=0; o=c=i=a=undefined;} function _() {return a===undefined?s:b(Jg());} function C() {const t=Jg(),n=p(t); o=arguments; i=this; c=t; if (n) {if (a===undefined) {return f(c);} if (u) {clearTimeout(a); a=setTimeout(k,e); return g(c);}} if (a===undefined) {a=setTimeout(k,e);} return s;}C.cancel=w; C.flush=_; return C;} const mf=ff; class pf extends Wg {constructor(t) {super(t); this._fireSelectionChangeDoneDebounced=mf((t => {this.document.fire("selectionChangeDone",t);}),200);}observe() {const t=this.document; t.on("arrowKey",((e,n) => {const o=t.selection; if (o.isFake&&this.isEnabled) {n.preventDefault();}}),{context: "$capture"}); t.on("arrowKey",((e,n) => {const o=t.selection; if (o.isFake&&this.isEnabled) {this._handleSelectionMove(n.keyCode);}}),{priority: "lowest"});}stopObserving() {}destroy() {super.destroy(); this._fireSelectionChangeDoneDebounced.cancel();}_handleSelectionMove(t) {const e=this.document.selection; const n=new vh(e.getRanges(),{backward: e.isBackward,fake: false}); if (t==Kc.arrowleft||t==Kc.arrowup) {n.setTo(n.getFirstPosition());} if (t==Kc.arrowright||t==Kc.arrowdown) {n.setTo(n.getLastPosition());} const o={oldSelection: e,newSelection: n,domSelection: null}; this.document.fire("selectionChange",o); this._fireSelectionChangeDoneDebounced(o);}} const kf="__lodash_hash_undefined__"; function bf(t) {this.__data__.set(t,kf); return this;} const wf=bf; function _f(t) {return this.__data__.has(t);} const Cf=_f; function Af(t) {let e=-1,n=t==null?0:t.length; this.__data__=new to; while (++e<n) {this.add(t[e]);}}Af.prototype.add=Af.prototype.push=wf; Af.prototype.has=Cf; const vf=Af; function yf(t,e) {let n=-1,o=t==null?0:t.length; while (++n<o) {if (e(t[n],n,t)) {return true;}} return false;} const xf=yf; function Ef(t,e) {return t.has(e);} const Df=Ef; const Bf=1,Tf=2; function Sf(t,e,n,o,i,r) {const s=n&Bf,a=t.length,c=e.length; if (a!=c&&!(s&&c>a)) {return false;} const l=r.get(t); const d=r.get(e); if (l&&d) {return l==e&&d==t;} let u=-1,h=true,g=n&Tf?new vf:undefined; r.set(t,e); r.set(e,t); while (++u<a) {var f=t[u],m=e[u]; if (o) {var p=s?o(m,f,u,e,t,r):o(f,m,u,t,e,r);} if (p!==undefined) {if (p) {continue;}h=false; break;} if (g) {if (!xf(e,((t,e) => {if (!Df(g,e)&&(f===t||i(f,t,n,o,r))) {return g.push(e);}}))) {h=false; break;}} else if (!(f===m||i(f,m,n,o,r))) {h=false; break;}}r["delete"](t); r["delete"](e); return h;} const If=Sf; function Pf(t) {let e=-1,n=Array(t.size); t.forEach(((t,o) => {n[++e]=[o,t];})); return n;} const Rf=Pf; function Vf(t) {let e=-1,n=Array(t.size); t.forEach(((t) => {n[++e]=t;})); return n;} const Mf=Vf; const Ff=1,Of=2; const zf="[object Boolean]",Nf="[object Date]",Lf="[object Error]",Hf="[object Map]",jf="[object Number]",Wf="[object RegExp]",qf="[object Set]",Uf="[object String]",$f="[object Symbol]"; const Gf="[object ArrayBuffer]",Kf="[object DataView]"; const Zf=Vt?Vt.prototype:undefined,Jf=Zf?Zf.valueOf:undefined; function Yf(t,e,n,o,i,r,s) {switch (n) {case Kf:if (t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset) {return false;}t=t.buffer; e=e.buffer; case Gf:if (t.byteLength!=e.byteLength||!r(new ls(t),new ls(e))) {return false;} return true; case zf:case Nf:case jf:return we(+t,+e); case Lf:return t.name==e.name&&t.message==e.message; case Wf:case Uf:return t==`${e}`; case Hf:var a=Rf; case qf:var c=o&Ff; a||(a=Mf); if (t.size!=e.size&&!c) {return false;} var l=s.get(t); if (l) {return l==e;}o|=Of; s.set(t,e); var d=If(a(t),a(e),o,i,r,s); s["delete"](t); return d; case $f:if (Jf) {return Jf.call(t)==Jf.call(e);}} return false;} const Qf=Yf; const Xf=1; const tm=Object.prototype; const em=tm.hasOwnProperty; function nm(t,e,n,o,i,r) {const s=n&Xf,a=Vr(t),c=a.length,l=Vr(e),d=l.length; if (c!=d&&!s) {return false;} let u=c; while (u--) {var h=a[u]; if (!(s?h in e:em.call(e,h))) {return false;}} const g=r.get(t); const f=r.get(e); if (g&&f) {return g==e&&f==t;} let m=true; r.set(t,e); r.set(e,t); let p=s; while (++u<c) {h=a[u]; const k=t[h],b=e[h]; if (o) {var w=s?o(b,k,h,e,t,r):o(k,b,h,t,e,r);} if (!(w===undefined?k===b||i(k,b,n,o,r):w)) {m=false; break;}p||(p=h=="constructor");} if (m&&!p) {const _=t.constructor,C=e.constructor; if (_!=C&&("constructor"in t&&"constructor"in e)&&!(typeof _==="function"&&_ instanceof _&&typeof C==="function"&&C instanceof C)) {m=false;}}r["delete"](t); r["delete"](e); return m;} const om=nm; const im=1; const rm="[object Arguments]",sm="[object Array]",am="[object Object]"; const cm=Object.prototype; const lm=cm.hasOwnProperty; function dm(t,e,n,o,i,r) {let s=Yt(t),a=Yt(e),c=s?sm:os(t),l=a?sm:os(e); c=c==rm?am:c; l=l==rm?am:l; let d=c==am,u=l==am,h=c==l; if (h&&Oo(t)) {if (!Oo(e)) {return false;}s=true; d=false;} if (h&&!d) {r||(r=new ro); return s||Bi(t)?If(t,e,n,o,i,r):Qf(t,e,c,n,o,i,r);} if (!(n&im)) {const g=d&&lm.call(t,"__wrapped__"),f=u&&lm.call(e,"__wrapped__"); if (g||f) {const m=g?t.value():t,p=f?e.value():e; r||(r=new ro); return i(m,p,n,o,r);}} if (!h) {return false;}r||(r=new ro); return om(t,e,n,o,i,r);} const um=dm; function hm(t,e,n,o,i) {if (t===e) {return true;} if (t==null||e==null||!Xt(t)&&!Xt(e)) {return t!==t&&e!==e;} return um(t,e,n,o,hm,i);} const gm=hm; function fm(t,e,n) {n=typeof n==="function"?n:undefined; const o=n?n(t,e):undefined; return o===undefined?gm(t,e,undefined,n):!!o;} const mm=fm; class pm extends Wg {constructor(t) {super(t); this._config={childList: true,characterData: true,subtree: true}; this.domConverter=t.domConverter; this.renderer=t._renderer; this._domElements=new Set; this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this));}flush() {this._onMutations(this._mutationObserver.takeRecords());}observe(t) {this._domElements.add(t); if (this.isEnabled) {this._mutationObserver.observe(t,this._config);}}stopObserving(t) {this._domElements.delete(t); if (this.isEnabled) {this._mutationObserver.disconnect(); for (const t of this._domElements) {this._mutationObserver.observe(t,this._config);}}}enable() {super.enable(); for (const t of this._domElements) {this._mutationObserver.observe(t,this._config);}}disable() {super.disable(); this._mutationObserver.disconnect();}destroy() {super.destroy(); this._mutationObserver.disconnect();}_onMutations(t) {if (t.length===0) {return;} const e=this.domConverter; const n=new Set; const o=new Set; for (const n of t) {const t=e.mapDomToView(n.target); if (!t) {continue;} if (t.is("uiElement")||t.is("rawElement")) {continue;} if (n.type==="childList"&&!this._isBogusBrMutation(n)) {o.add(t);}} for (const i of t) {const t=e.mapDomToView(i.target); if (t&&(t.is("uiElement")||t.is("rawElement"))) {continue;} if (i.type==="characterData") {const t=e.findCorrespondingViewText(i.target); if (t&&!o.has(t.parent)) {n.add(t);} else if (!t&&hg(i.target)) {o.add(e.mapDomToView(i.target.parentNode));}}} let i=false; for (const t of n) {i=true; this.renderer.markToSync("text",t);} for (const t of o) {const n=e.mapViewToDom(t); const o=Array.from(t.getChildren()); const r=Array.from(e.domChildrenToView(n,{withChildren: false})); if (!mm(o,r,km)) {i=true; this.renderer.markToSync("children",t);}} if (i) {this.view.forceRender();}}_isBogusBrMutation(t) {let e=null; if (t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1) {e=this.domConverter.domToView(t.addedNodes[0],{withChildren: false});} return e&&e.is("element","br");}} function km(t,e) {if (Array.isArray(t)) {return;} if (t===e) {return true;} else if (t.is("$text")&&e.is("$text")) {return t.data===e.data;} return false;} class bm extends Gg {constructor(t) {super(t); this._isFocusChanging=false; this.domEventType=["focus","blur"]; this.useCapture=true; const e=this.document; e.on("focus",(() => {this._isFocusChanging=true; this._renderTimeoutId=setTimeout((() => {this.flush(); t.change((() => {}));}),50);})); e.on("blur",((n,o) => {const i=e.selection.editableElement; if (i===null||i===o.target) {e.isFocused=false; this._isFocusChanging=false; t.change((() => {}));}}));}flush() {if (this._isFocusChanging) {this._isFocusChanging=false; this.document.isFocused=true;}}onDomEvent(t) {this.fire(t.type,t);}destroy() {if (this._renderTimeoutId) {clearTimeout(this._renderTimeoutId);} super.destroy();}} class wm extends Wg {constructor(t) {super(t); this.mutationObserver=t.getObserver(pm); this.focusObserver=t.getObserver(bm); this.selection=this.document.selection; this.domConverter=t.domConverter; this._documents=new WeakSet; this._fireSelectionChangeDoneDebounced=mf((t => {this.document.fire("selectionChangeDone",t);}),200); this._clearInfiniteLoopInterval=setInterval((() => this._clearInfiniteLoop()),1e3); this._documentIsSelectingInactivityTimeoutDebounced=mf((() => this.document.isSelecting=false),5e3); this._loopbackCounter=0;}observe(t) {const e=t.ownerDocument; const n=() => {this.document.isSelecting=true; this._documentIsSelectingInactivityTimeoutDebounced();}; const o=() => {if (!this.document.isSelecting) {return;} this._handleSelectionChange(null,e); this.document.isSelecting=false; this._documentIsSelectingInactivityTimeoutDebounced.cancel();}; this.listenTo(t,"selectstart",n,{priority: "highest"}); this.listenTo(t,"keydown",o,{priority: "highest",useCapture: true}); this.listenTo(t,"keyup",o,{priority: "highest",useCapture: true}); if (this._documents.has(e)) {return;} this.listenTo(e,"mouseup",o,{priority: "highest",useCapture: true}); this.listenTo(e,"selectionchange",((t,n) => {if (this.document.isComposing&&!l.isAndroid) {return;} this._handleSelectionChange(n,e); this._documentIsSelectingInactivityTimeoutDebounced();})); this._documents.add(e);}stopObserving(t) {this.stopListening(t);}destroy() {super.destroy(); clearInterval(this._clearInfiniteLoopInterval); this._fireSelectionChangeDoneDebounced.cancel(); this._documentIsSelectingInactivityTimeoutDebounced.cancel();}_reportInfiniteLoop() {}_handleSelectionChange(t,e) {if (!this.isEnabled) {return;} const n=e.defaultView.getSelection(); if (this.checkShouldIgnoreEventFromTarget(n.anchorNode)) {return;} this.mutationObserver.flush(); const o=this.domConverter.domSelectionToView(n); if (o.rangeCount==0) {this.view.hasDomSelection=false; return;} this.view.hasDomSelection=true; this.focusObserver.flush(); if (this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(n)) {return;} if (++this._loopbackCounter>60) {this._reportInfiniteLoop(); return;} if (this.selection.isSimilar(o)) {this.view.forceRender();} else {const t={oldSelection: this.selection,newSelection: o,domSelection: n}; this.document.fire("selectionChange",t); this._fireSelectionChangeDoneDebounced(t);}}_clearInfiniteLoop() {this._loopbackCounter=0;}} class _m extends Gg {constructor(t) {super(t); this.domEventType=["compositionstart","compositionupdate","compositionend"]; const e=this.document; e.on("compositionstart",(() => {e.isComposing=true;}),{priority: "low"}); e.on("compositionend",(() => {e.isComposing=false;}),{priority: "low"});}onDomEvent(t) {this.fire(t.type,t,{data: t.data});}} class Cm {constructor(t,e={}) {this._files=e.cacheFiles?Am(t):null; this._native=t;} get files() {if (!this._files) {this._files=Am(this._native);} return this._files;} get types() {return this._native.types;}getData(t) {return this._native.getData(t);}setData(t,e) {this._native.setData(t,e);} set effectAllowed(t) {this._native.effectAllowed=t;} get effectAllowed() {return this._native.effectAllowed;} set dropEffect(t) {this._native.dropEffect=t;} get dropEffect() {return this._native.dropEffect;}setDragImage(t,e,n) {this._native.setDragImage(t,e,n);} get isCanceled() {return this._native.dropEffect=="none"||!!this._native.mozUserCancelled;}} function Am(t) {const e=Array.from(t.files||[]); const n=Array.from(t.items||[]); if (e.length) {return e;} return n.filter((t => t.kind==="file")).map((t => t.getAsFile()));} class vm extends Gg {constructor() {super(...arguments); this.domEventType="beforeinput";}onDomEvent(t) {const e=t.getTargetRanges(); const n=this.view; const o=n.document; let i=null; let r=null; let s=[]; if (t.dataTransfer) {i=new Cm(t.dataTransfer);} if (t.data!==null) {r=t.data;} else if (i) {r=i.getData("text/plain");} if (o.selection.isFake) {s=Array.from(o.selection.getRanges());} else if (e.length) {s=e.map((t => {const e=n.domConverter.domPositionToView(t.startContainer,t.startOffset); const o=n.domConverter.domPositionToView(t.endContainer,t.endOffset); if (e) {return n.createRange(e,o);} else if (o) {return n.createRange(o);}})).filter((t => !!t));} else if (l.isAndroid) {const e=t.target.ownerDocument.defaultView.getSelection(); s=Array.from(n.domConverter.domSelectionToView(e).getRanges());} if (l.isAndroid&&t.inputType=="insertCompositionText"&&r&&r.endsWith("\n")) {this.fire(t.type,t,{inputType: "insertParagraph",targetRanges: [n.createRange(s[0].end)]}); return;} if (t.inputType=="insertText"&&r&&r.includes("\n")) {const e=r.split(/\n{1,2}/g); let n=s; for (let r=0; r<e.length; r++) {const s=e[r]; if (s!="") {this.fire(t.type,t,{data: s,dataTransfer: i,targetRanges: n,inputType: t.inputType,isComposing: t.isComposing}); n=[o.selection.getFirstRange()];} if (r+1<e.length) {this.fire(t.type,t,{inputType: "insertParagraph",targetRanges: n}); n=[o.selection.getFirstRange()];}} return;} this.fire(t.type,t,{data: r,dataTransfer: i,targetRanges: s,inputType: t.inputType,isComposing: t.isComposing});}} class ym extends Wg {constructor(t) {super(t); this.document.on("keydown",((t,e) => {if (this.isEnabled&&Xc(e.keyCode)) {const n=new xh(this.document,"arrowKey",this.document.selection.getFirstRange()); this.document.fire(n,e); if (n.stop.called) {t.stop();}}}));}observe() {}stopObserving() {}} class xm extends Wg {constructor(t) {super(t); const e=this.document; e.on("keydown",((t,n) => {if (!this.isEnabled||n.keyCode!=Kc.tab||n.ctrlKey) {return;} const o=new xh(e,"tab",e.selection.getFirstRange()); e.fire(o,n); if (o.stop.called) {t.stop();}}));}observe() {}stopObserving() {}} const Em=1,Dm=4; function Bm(t) {return za(t,Em|Dm);} const Tm=Bm; class Sm extends (gt()) {constructor(t) {super(); this.domRoots=new Map; this._initialDomRootAttributes=new WeakMap; this._observers=new Map; this._ongoingChange=false; this._postFixersInProgress=false; this._renderingDisabled=false; this._hasChangedSinceTheLastRendering=false; this.document=new Rh(t); this.domConverter=new Fg(this.document); this.set("isRenderingInProgress",false); this.set("hasDomSelection",false); this._renderer=new Cg(this.domConverter,this.document.selection); this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"); this._writer=new Zh(this.document); this.addObserver(pm); this.addObserver(bm); this.addObserver(wm); this.addObserver(Kg); this.addObserver(pf); this.addObserver(_m); this.addObserver(ym); this.addObserver(vm); this.addObserver(xm); mg(this); jh(this); this.on("render",(() => {this._render(); this.document.fire("layoutChanged"); this._hasChangedSinceTheLastRendering=false;})); this.listenTo(this.document.selection,"change",(() => {this._hasChangedSinceTheLastRendering=true;})); this.listenTo(this.document,"change:isFocused",(() => {this._hasChangedSinceTheLastRendering=true;})); if (l.isiOS) {this.listenTo(this.document,"blur",((t,e) => {const n=this.domConverter.mapDomToView(e.domEvent.relatedTarget); if (!n) {this.domConverter._clearDomSelection();}}));}}attachDomRoot(t,e="main") {const n=this.document.getRoot(e); n._name=t.tagName.toLowerCase(); const o={}; for (const {name: e,value: i} of Array.from(t.attributes)) {o[e]=i; if (e==="class") {this._writer.addClass(i.split(" "),n);} else {this._writer.setAttribute(e,i,n);}} this._initialDomRootAttributes.set(t,o); const i=() => {this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n); if (n.isReadOnly) {this._writer.addClass("ck-read-only",n);} else {this._writer.removeClass("ck-read-only",n);}}; i(); this.domRoots.set(e,t); this.domConverter.bindElements(t,n); this._renderer.markToSync("children",n); this._renderer.markToSync("attributes",n); this._renderer.domDocuments.add(t.ownerDocument); n.on("change:children",((t,e) => this._renderer.markToSync("children",e))); n.on("change:attributes",((t,e) => this._renderer.markToSync("attributes",e))); n.on("change:text",((t,e) => this._renderer.markToSync("text",e))); n.on("change:isReadOnly",(() => this.change(i))); n.on("change",(() => {this._hasChangedSinceTheLastRendering=true;})); for (const n of this._observers.values()) {n.observe(t,e);}}detachDomRoot(t) {const e=this.domRoots.get(t); Array.from(e.attributes).forEach((({name: t}) => e.removeAttribute(t))); const n=this._initialDomRootAttributes.get(e); for (const t in n) {e.setAttribute(t,n[t]);} this.domRoots.delete(t); this.domConverter.unbindDomElement(e); for (const t of this._observers.values()) {t.stopObserving(e);}}getDomRoot(t="main") {return this.domRoots.get(t);}addObserver(t) {let e=this._observers.get(t); if (e) {return e;}e=new t(this); this._observers.set(t,e); for (const [t,n] of this.domRoots) {e.observe(n,t);}e.enable(); return e;}getObserver(t) {return this._observers.get(t);}disableObservers() {for (const t of this._observers.values()) {t.disable();}}enableObservers() {for (const t of this._observers.values()) {t.enable();}}scrollToTheSelection({alignToTop: t,forceScroll: e,viewportOffset: n=20,ancestorOffset: o=20}={}) {const i=this.document.selection.getFirstRange(); if (!i) {return;} const r=Tm({alignToTop: t,forceScroll: e,viewportOffset: n,ancestorOffset: o}); if (typeof n==="number") {n={top: n,bottom: n,left: n,right: n};} const s={target: this.domConverter.viewRangeToDom(i),viewportOffset: n,ancestorOffset: o,alignToTop: t,forceScroll: e}; this.fire("scrollToTheSelection",s,r); Rc(s);}focus() {if (!this.document.isFocused) {const t=this.document.selection.editableElement; if (t) {this.domConverter.focus(t); this.forceRender();} else {}}}change(t) {if (this.isRenderingInProgress||this._postFixersInProgress) {throw new V("cannot-change-view-tree",this);} try {if (this._ongoingChange) {return t(this._writer);} this._ongoingChange=true; const e=t(this._writer); this._ongoingChange=false; if (!this._renderingDisabled&&this._hasChangedSinceTheLastRendering) {this._postFixersInProgress=true; this.document._callPostFixers(this._writer); this._postFixersInProgress=false; this.fire("render");} return e;} catch (t) {V.rethrowUnexpectedError(t,this);}}forceRender() {this._hasChangedSinceTheLastRendering=true; this.getObserver(bm).flush(); this.change((() => {}));}destroy() {for (const t of this._observers.values()) {t.destroy();} this.document.destroy(); this.stopListening();}createPositionAt(t,e) {return _h._createAt(t,e);}createPositionAfter(t) {return _h._createAfter(t);}createPositionBefore(t) {return _h._createBefore(t);}createRange(t,e) {return new Ch(t,e);}createRangeOn(t) {return Ch._createOn(t);}createRangeIn(t) {return Ch._createIn(t);}createSelection(...t) {return new vh(...t);}_disableRendering(t) {this._renderingDisabled=t; if (t==false) {this.change((() => {}));}}_render() {this.isRenderingInProgress=true; this.disableObservers(); this._renderer.render(); this.enableObservers(); this.isRenderingInProgress=false;}} class Im {is() {throw new Error("is() method is abstract");}} class Pm extends Im {constructor(t) {super(); this.parent=null; this._attrs=ld(t);} get document() {return null;} get index() {let t; if (!this.parent) {return null;} if ((t=this.parent.getChildIndex(this))===null) {throw new V("model-node-not-found-in-parent",this);} return t;} get startOffset() {let t; if (!this.parent) {return null;} if ((t=this.parent.getChildStartOffset(this))===null) {throw new V("model-node-not-found-in-parent",this);} return t;} get offsetSize() {return 1;} get endOffset() {if (!this.parent) {return null;} return this.startOffset+this.offsetSize;} get nextSibling() {const t=this.index; return t!==null&&this.parent.getChild(t+1)||null;} get previousSibling() {const t=this.index; return t!==null&&this.parent.getChild(t-1)||null;} get root() {let t=this; while (t.parent) {t=t.parent;} return t;}isAttached() {return this.parent===null?false:this.root.isAttached();}getPath() {const t=[]; let e=this; while (e.parent) {t.unshift(e.startOffset); e=e.parent;} return t;}getAncestors(t={}) {const e=[]; let n=t.includeSelf?this:this.parent; while (n) {e[t.parentFirst?"push":"unshift"](n); n=n.parent;} return e;}getCommonAncestor(t,e={}) {const n=this.getAncestors(e); const o=t.getAncestors(e); let i=0; while (n[i]==o[i]&&n[i]) {i++;} return i===0?null:n[i-1];}isBefore(t) {if (this==t) {return false;} if (this.root!==t.root) {return false;} const e=this.getPath(); const n=t.getPath(); const o=Et(e,n); switch (o) {case "prefix":return true; case "extension":return false; default:return e[o]<n[o];}}isAfter(t) {if (this==t) {return false;} if (this.root!==t.root) {return false;} return !this.isBefore(t);}hasAttribute(t) {return this._attrs.has(t);}getAttribute(t) {return this._attrs.get(t);}getAttributes() {return this._attrs.entries();}getAttributeKeys() {return this._attrs.keys();}toJSON() {const t={}; if (this._attrs.size) {t.attributes=Array.from(this._attrs).reduce(((t,e) => {t[e[0]]=e[1]; return t;}),{});} return t;}_clone(t) {return new this.constructor(this._attrs);}_remove() {this.parent._removeChildren(this.index);}_setAttribute(t,e) {this._attrs.set(t,e);}_setAttributesTo(t) {this._attrs=ld(t);}_removeAttribute(t) {return this._attrs.delete(t);}_clearAttributes() {this._attrs.clear();}}Pm.prototype.is=function(t) {return t==="node"||t==="model:node";}; class Rm {constructor(t) {this._nodes=[]; if (t) {this._insertNodes(0,t);}}[Symbol.iterator]() {return this._nodes[Symbol.iterator]();} get length() {return this._nodes.length;} get maxOffset() {return this._nodes.reduce(((t,e) => t+e.offsetSize),0);}getNode(t) {return this._nodes[t]||null;}getNodeIndex(t) {const e=this._nodes.indexOf(t); return e==-1?null:e;}getNodeStartOffset(t) {const e=this.getNodeIndex(t); return e===null?null:this._nodes.slice(0,e).reduce(((t,e) => t+e.offsetSize),0);}indexToOffset(t) {if (t==this._nodes.length) {return this.maxOffset;} const e=this._nodes[t]; if (!e) {throw new V("model-nodelist-index-out-of-bounds",this);} return this.getNodeStartOffset(e);}offsetToIndex(t) {let e=0; for (const n of this._nodes) {if (t>=e&&t<e+n.offsetSize) {return this.getNodeIndex(n);}e+=n.offsetSize;} if (e!=t) {throw new V("model-nodelist-offset-out-of-bounds",this,{offset: t,nodeList: this});} return this.length;}_insertNodes(t,e) {for (const t of e) {if (!(t instanceof Pm)) {throw new V("model-nodelist-insertnodes-not-node",this);}} this._nodes=ud(this._nodes,Array.from(e),t,0);}_removeNodes(t,e=1) {return this._nodes.splice(t,e);}toJSON() {return this._nodes.map((t => t.toJSON()));}} class Vm extends Pm {constructor(t,e) {super(e); this._data=t||"";} get offsetSize() {return this.data.length;} get data() {return this._data;}toJSON() {const t=super.toJSON(); t.data=this.data; return t;}_clone() {return new Vm(this.data,this.getAttributes());} static fromJSON(t) {return new Vm(t.data,t.attributes);}}Vm.prototype.is=function(t) {return t==="$text"||t==="model:$text"||t==="text"||t==="model:text"||t==="node"||t==="model:node";}; class Mm extends Im {constructor(t,e,n) {super(); this.textNode=t; if (e<0||e>t.offsetSize) {throw new V("model-textproxy-wrong-offsetintext",this);} if (n<0||e+n>t.offsetSize) {throw new V("model-textproxy-wrong-length",this);} this.data=t.data.substring(e,e+n); this.offsetInText=e;} get startOffset() {return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null;} get offsetSize() {return this.data.length;} get endOffset() {return this.startOffset!==null?this.startOffset+this.offsetSize:null;} get isPartial() {return this.offsetSize!==this.textNode.offsetSize;} get parent() {return this.textNode.parent;} get root() {return this.textNode.root;}getPath() {const t=this.textNode.getPath(); if (t.length>0) {t[t.length-1]+=this.offsetInText;} return t;}getAncestors(t={}) {const e=[]; let n=t.includeSelf?this:this.parent; while (n) {e[t.parentFirst?"push":"unshift"](n); n=n.parent;} return e;}hasAttribute(t) {return this.textNode.hasAttribute(t);}getAttribute(t) {return this.textNode.getAttribute(t);}getAttributes() {return this.textNode.getAttributes();}getAttributeKeys() {return this.textNode.getAttributeKeys();}}Mm.prototype.is=function(t) {return t==="$textProxy"||t==="model:$textProxy"||t==="textProxy"||t==="model:textProxy";}; class Fm extends Pm {constructor(t,e,n) {super(e); this._children=new Rm; this.name=t; if (n) {this._insertChild(0,n);}} get childCount() {return this._children.length;} get maxOffset() {return this._children.maxOffset;} get isEmpty() {return this.childCount===0;}getChild(t) {return this._children.getNode(t);}getChildren() {return this._children[Symbol.iterator]();}getChildIndex(t) {return this._children.getNodeIndex(t);}getChildStartOffset(t) {return this._children.getNodeStartOffset(t);}offsetToIndex(t) {return this._children.offsetToIndex(t);}getNodeByPath(t) {let e=this; for (const n of t) {e=e.getChild(e.offsetToIndex(n));} return e;}findAncestor(t,e={}) {let n=e.includeSelf?this:this.parent; while (n) {if (n.name===t) {return n;}n=n.parent;} return null;}toJSON() {const t=super.toJSON(); t.name=this.name; if (this._children.length>0) {t.children=[]; for (const e of this._children) {t.children.push(e.toJSON());}} return t;}_clone(t=false) {const e=t?Array.from(this._children).map((t => t._clone(true))):undefined; return new Fm(this.name,this.getAttributes(),e);}_appendChild(t) {this._insertChild(this.childCount,t);}_insertChild(t,e) {const n=Om(e); for (const t of n) {if (t.parent!==null) {t._remove();}t.parent=this;} this._children._insertNodes(t,n);}_removeChildren(t,e=1) {const n=this._children._removeNodes(t,e); for (const t of n) {t.parent=null;} return n;} static fromJSON(t) {let e; if (t.children) {e=[]; for (const n of t.children) {if (n.name) {e.push(Fm.fromJSON(n));} else {e.push(Vm.fromJSON(n));}}} return new Fm(t.name,t.attributes,e);}}Fm.prototype.is=function(t,e) {if (!e) {return t==="element"||t==="model:element"||t==="node"||t==="model:node";} return e===this.name&&(t==="element"||t==="model:element");}; function Om(t) {if (typeof t==="string") {return [new Vm(t)];} if (!Dt(t)) {t=[t];} return Array.from(t).map((t => {if (typeof t==="string") {return new Vm(t);} if (t instanceof Mm) {return new Vm(t.data,t.getAttributes());} return t;}));} class zm {constructor(t) {if (!t||!t.boundaries&&!t.startPosition) {throw new V("model-tree-walker-no-start-position",null);} const e=t.direction||"forward"; if (e!="forward"&&e!="backward") {throw new V("model-tree-walker-unknown-direction",t,{direction: e});} this.direction=e; this.boundaries=t.boundaries||null; if (t.startPosition) {this._position=t.startPosition.clone();} else {this._position=Lm._createAt(this.boundaries[this.direction=="backward"?"end":"start"]);} this.position.stickiness="toNone"; this.singleCharacters=!!t.singleCharacters; this.shallow=!!t.shallow; this.ignoreElementEnd=!!t.ignoreElementEnd; this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null; this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null; this._visitedParent=this.position.parent;}[Symbol.iterator]() {return this;} get position() {return this._position;}skip(t) {let e,n,o,i; do {o=this.position; i=this._visitedParent; ({done: e,value: n}=this.next());} while (!e&&t(n)); if (!e) {this._position=o; this._visitedParent=i;}}next() {if (this.direction=="forward") {return this._next();} return this._previous();}_next() {const t=this.position; const e=this.position.clone(); const n=this._visitedParent; if (n.parent===null&&e.offset===n.maxOffset) {return {done: true,value: undefined};} if (n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset) {return {done: true,value: undefined};} const o=Hm(e,n); const i=o||jm(e,n,o); if (i instanceof Fm) {if (!this.shallow) {e.path.push(0); this._visitedParent=i;} else {if (this.boundaries&&this.boundaries.end.isBefore(e)) {return {done: true,value: undefined};}e.offset++;} this._position=e; return Nm("elementStart",i,t,e,1);} if (i instanceof Vm) {let o; if (this.singleCharacters) {o=1;} else {let t=i.endOffset; if (this._boundaryEndParent==n&&this.boundaries.end.offset<t) {t=this.boundaries.end.offset;}o=t-e.offset;} const r=e.offset-i.startOffset; const s=new Mm(i,r,o); e.offset+=o; this._position=e; return Nm("text",s,t,e,o);}e.path.pop(); e.offset++; this._position=e; this._visitedParent=n.parent; if (this.ignoreElementEnd) {return this._next();} return Nm("elementEnd",n,t,e);}_previous() {const t=this.position; const e=this.position.clone(); const n=this._visitedParent; if (n.parent===null&&e.offset===0) {return {done: true,value: undefined};} if (n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset) {return {done: true,value: undefined};} const o=e.parent; const i=Hm(e,o); const r=i||Wm(e,o,i); if (r instanceof Fm) {e.offset--; if (this.shallow) {this._position=e; return Nm("elementStart",r,t,e,1);}e.path.push(r.maxOffset); this._position=e; this._visitedParent=r; if (this.ignoreElementEnd) {return this._previous();} return Nm("elementEnd",r,t,e);} if (r instanceof Vm) {let o; if (this.singleCharacters) {o=1;} else {let t=r.startOffset; if (this._boundaryStartParent==n&&this.boundaries.start.offset>t) {t=this.boundaries.start.offset;}o=e.offset-t;} const i=e.offset-r.startOffset; const s=new Mm(r,i-o,o); e.offset-=o; this._position=e; return Nm("text",s,t,e,o);}e.path.pop(); this._position=e; this._visitedParent=n.parent; return Nm("elementStart",n,t,e,1);}} function Nm(t,e,n,o,i) {return {done: false,value: {type: t,item: e,previousPosition: n,nextPosition: o,length: i}};} class Lm extends Im {constructor(t,e,n="toNone") {super(); if (!t.is("element")&&!t.is("documentFragment")) {throw new V("model-position-root-invalid",t);} if (!(e instanceof Array)||e.length===0) {throw new V("model-position-path-incorrect-format",t,{path: e});} if (t.is("rootElement")) {e=e.slice();} else {e=[...t.getPath(),...e]; t=t.root;} this.root=t; this.path=e; this.stickiness=n;} get offset() {return this.path[this.path.length-1];} set offset(t) {this.path[this.path.length-1]=t;} get parent() {let t=this.root; for (let e=0; e<this.path.length-1; e++) {t=t.getChild(t.offsetToIndex(this.path[e])); if (!t) {throw new V("model-position-path-incorrect",this,{position: this});}} if (t.is("$text")) {throw new V("model-position-path-incorrect",this,{position: this});} return t;} get index() {return this.parent.offsetToIndex(this.offset);} get textNode() {return Hm(this,this.parent);} get nodeAfter() {const t=this.parent; return jm(this,t,Hm(this,t));} get nodeBefore() {const t=this.parent; return Wm(this,t,Hm(this,t));} get isAtStart() {return this.offset===0;} get isAtEnd() {return this.offset==this.parent.maxOffset;}compareWith(t) {if (this.root!=t.root) {return "different";} const e=Et(this.path,t.path); switch (e) {case "same":return "same"; case "prefix":return "before"; case "extension":return "after"; default:return this.path[e]<t.path[e]?"before":"after";}}getLastMatchingPosition(t,e={}) {e.startPosition=this; const n=new zm(e); n.skip(t); return n.position;}getParentPath() {return this.path.slice(0,-1);}getAncestors() {const t=this.parent; if (t.is("documentFragment")) {return [t];} return t.getAncestors({includeSelf: true});}findAncestor(t) {const e=this.parent; if (e.is("element")) {return e.findAncestor(t,{includeSelf: true});} return null;}getCommonPath(t) {if (this.root!=t.root) {return [];} const e=Et(this.path,t.path); const n=typeof e==="string"?Math.min(this.path.length,t.path.length):e; return this.path.slice(0,n);}getCommonAncestor(t) {const e=this.getAncestors(); const n=t.getAncestors(); let o=0; while (e[o]==n[o]&&e[o]) {o++;} return o===0?null:e[o-1];}getShiftedBy(t) {const e=this.clone(); const n=e.offset+t; e.offset=n<0?0:n; return e;}isAfter(t) {return this.compareWith(t)=="after";}isBefore(t) {return this.compareWith(t)=="before";}isEqual(t) {return this.compareWith(t)=="same";}isTouching(t) {if (this.root!==t.root) {return false;} const e=Math.min(this.path.length,t.path.length); for (let n=0; n<e; n++) {const e=this.path[n]-t.path[n]; if (e<-1||e>1) {return false;} else if (e===1) {return qm(t,this,n);} else if (e===-1) {return qm(this,t,n);}} if (this.path.length===t.path.length) {return true;} else if (this.path.length>t.path.length) {return Um(this.path,e);} return Um(t.path,e);}hasSameParentAs(t) {if (this.root!==t.root) {return false;} const e=this.getParentPath(); const n=t.getParentPath(); return Et(e,n)=="same";}getTransformedByOperation(t) {let e; switch (t.type) {case "insert":e=this._getTransformedByInsertOperation(t); break; case "move":case "remove":case "reinsert":e=this._getTransformedByMoveOperation(t); break; case "split":e=this._getTransformedBySplitOperation(t); break; case "merge":e=this._getTransformedByMergeOperation(t); break; default:e=Lm._createAt(this); break;} return e;}_getTransformedByInsertOperation(t) {return this._getTransformedByInsertion(t.position,t.howMany);}_getTransformedByMoveOperation(t) {return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany);}_getTransformedBySplitOperation(t) {const e=t.movedRange; const n=e.containsPosition(this)||e.start.isEqual(this)&&this.stickiness=="toNext"; if (n) {return this._getCombined(t.splitPosition,t.moveTargetPosition);} if (t.graveyardPosition) {return this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1);} return this._getTransformedByInsertion(t.insertionPosition,1);}_getTransformedByMergeOperation(t) {const e=t.movedRange; const n=e.containsPosition(this)||e.start.isEqual(this); let o; if (n) {o=this._getCombined(t.sourcePosition,t.targetPosition); if (t.sourcePosition.isBefore(t.targetPosition)) {o=o._getTransformedByDeletion(t.deletionPosition,1);}} else if (this.isEqual(t.deletionPosition)) {o=Lm._createAt(t.deletionPosition);} else {o=this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1);} return o;}_getTransformedByDeletion(t,e) {const n=Lm._createAt(this); if (this.root!=t.root) {return n;} if (Et(t.getParentPath(),this.getParentPath())=="same") {if (t.offset<this.offset) {if (t.offset+e>this.offset) {return null;}n.offset-=e;}} else if (Et(t.getParentPath(),this.getParentPath())=="prefix") {const o=t.path.length-1; if (t.offset<=this.path[o]) {if (t.offset+e>this.path[o]) {return null;}n.path[o]-=e;}} return n;}_getTransformedByInsertion(t,e) {const n=Lm._createAt(this); if (this.root!=t.root) {return n;} if (Et(t.getParentPath(),this.getParentPath())=="same") {if (t.offset<this.offset||t.offset==this.offset&&this.stickiness!="toPrevious") {n.offset+=e;}} else if (Et(t.getParentPath(),this.getParentPath())=="prefix") {const o=t.path.length-1; if (t.offset<=this.path[o]) {n.path[o]+=e;}} return n;}_getTransformedByMove(t,e,n) {e=e._getTransformedByDeletion(t,n); if (t.isEqual(e)) {return Lm._createAt(this);} const o=this._getTransformedByDeletion(t,n); const i=o===null||t.isEqual(this)&&this.stickiness=="toNext"||t.getShiftedBy(n).isEqual(this)&&this.stickiness=="toPrevious"; if (i) {return this._getCombined(t,e);} return o._getTransformedByInsertion(e,n);}_getCombined(t,e) {const n=t.path.length-1; const o=Lm._createAt(e); o.stickiness=this.stickiness; o.offset=o.offset+this.path[n]-t.offset; o.path=[...o.path,...this.path.slice(n+1)]; return o;}toJSON() {return {root: this.root.toJSON(),path: Array.from(this.path),stickiness: this.stickiness};}clone() {return new this.constructor(this.root,this.path,this.stickiness);} static _createAt(t,e,n="toNone") {if (t instanceof Lm) {return new Lm(t.root,t.path,t.stickiness);} const o=t; if (e=="end") {e=o.maxOffset;} else if (e=="before") {return this._createBefore(o,n);} else if (e=="after") {return this._createAfter(o,n);} else if (e!==0&&!e) {throw new V("model-createpositionat-offset-required",[this,t]);} if (!o.is("element")&&!o.is("documentFragment")) {throw new V("model-position-parent-incorrect",[this,t]);} const i=o.getPath(); i.push(e); return new this(o.root,i,n);} static _createAfter(t,e) {if (!t.parent) {throw new V("model-position-after-root",[this,t],{root: t});} return this._createAt(t.parent,t.endOffset,e);} static _createBefore(t,e) {if (!t.parent) {throw new V("model-position-before-root",t,{root: t});} return this._createAt(t.parent,t.startOffset,e);} static fromJSON(t,e) {if (t.root==="$graveyard") {const n=new Lm(e.graveyard,t.path); n.stickiness=t.stickiness; return n;} if (!e.getRoot(t.root)) {throw new V("model-position-fromjson-no-root",e,{rootName: t.root});} return new Lm(e.getRoot(t.root),t.path,t.stickiness);}}Lm.prototype.is=function(t) {return t==="position"||t==="model:position";}; function Hm(t,e) {const n=e.getChild(e.offsetToIndex(t.offset)); if (n&&n.is("$text")&&n.startOffset<t.offset) {return n;} return null;} function jm(t,e,n) {if (n!==null) {return null;} return e.getChild(e.offsetToIndex(t.offset));} function Wm(t,e,n) {if (n!==null) {return null;} return e.getChild(e.offsetToIndex(t.offset)-1);} function qm(t,e,n) {if (n+1===t.path.length) {return false;} if (!Um(e.path,n+1)) {return false;} if (!$m(t,n+1)) {return false;} return true;} function Um(t,e) {while (e<t.length) {if (t[e]!==0) {return false;}e++;} return true;} function $m(t,e) {let n=t.parent; let o=t.path.length-1; let i=0; while (o>=e) {if (t.path[o]+i!==n.maxOffset) {return false;}i=1; o--; n=n.parent;} return true;} class Gm extends Im {constructor(t,e) {super(); this.start=Lm._createAt(t); this.end=e?Lm._createAt(e):Lm._createAt(t); this.start.stickiness=this.isCollapsed?"toNone":"toNext"; this.end.stickiness=this.isCollapsed?"toNone":"toPrevious";}*[Symbol.iterator]() {yield*new zm({boundaries: this,ignoreElementEnd: true});} get isCollapsed() {return this.start.isEqual(this.end);} get isFlat() {const t=this.start.getParentPath(); const e=this.end.getParentPath(); return Et(t,e)=="same";} get root() {return this.start.root;}containsPosition(t) {return t.isAfter(this.start)&&t.isBefore(this.end);}containsRange(t,e=false) {if (t.isCollapsed) {e=false;} const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start); const o=this.containsPosition(t.end)||e&&this.end.isEqual(t.end); return n&&o;}containsItem(t) {const e=Lm._createBefore(t); return this.containsPosition(e)||this.start.isEqual(e);}isEqual(t) {return this.start.isEqual(t.start)&&this.end.isEqual(t.end);}isIntersecting(t) {return this.start.isBefore(t.end)&&this.end.isAfter(t.start);}getDifference(t) {const e=[]; if (this.isIntersecting(t)) {if (this.containsPosition(t.start)) {e.push(new Gm(this.start,t.start));} if (this.containsPosition(t.end)) {e.push(new Gm(t.end,this.end));}} else {e.push(new Gm(this.start,this.end));} return e;}getIntersection(t) {if (this.isIntersecting(t)) {let e=this.start; let n=this.end; if (this.containsPosition(t.start)) {e=t.start;} if (this.containsPosition(t.end)) {n=t.end;} return new Gm(e,n);} return null;}getJoined(t,e=false) {let n=this.isIntersecting(t); if (!n) {if (this.start.isBefore(t.start)) {n=e?this.end.isTouching(t.start):this.end.isEqual(t.start);} else {n=e?t.end.isTouching(this.start):t.end.isEqual(this.start);}} if (!n) {return null;} let o=this.start; let i=this.end; if (t.start.isBefore(o)) {o=t.start;} if (t.end.isAfter(i)) {i=t.end;} return new Gm(o,i);}getMinimalFlatRanges() {const t=[]; const e=this.start.getCommonPath(this.end).length; const n=Lm._createAt(this.start); let o=n.parent; while (n.path.length>e+1) {const e=o.maxOffset-n.offset; if (e!==0) {t.push(new Gm(n,n.getShiftedBy(e)));}n.path=n.path.slice(0,-1); n.offset++; o=o.parent;} while (n.path.length<=this.end.path.length) {const e=this.end.path[n.path.length-1]; const o=e-n.offset; if (o!==0) {t.push(new Gm(n,n.getShiftedBy(o)));}n.offset=e; n.path.push(0);} return t;}getWalker(t={}) {t.boundaries=this; return new zm(t);}*getItems(t={}) {t.boundaries=this; t.ignoreElementEnd=true; const e=new zm(t); for (const t of e) {yield t.item;}}*getPositions(t={}) {t.boundaries=this; const e=new zm(t); yield e.position; for (const t of e) {yield t.nextPosition;}}getTransformedByOperation(t) {switch (t.type) {case "insert":return this._getTransformedByInsertOperation(t); case "move":case "remove":case "reinsert":return this._getTransformedByMoveOperation(t); case "split":return [this._getTransformedBySplitOperation(t)]; case "merge":return [this._getTransformedByMergeOperation(t)];} return [new Gm(this.start,this.end)];}getTransformedByOperations(t) {const e=[new Gm(this.start,this.end)]; for (const n of t) {for (let t=0; t<e.length; t++) {const o=e[t].getTransformedByOperation(n); e.splice(t,1,...o); t+=o.length-1;}} for (let t=0; t<e.length; t++) {const n=e[t]; for (let o=t+1; o<e.length; o++) {const t=e[o]; if (n.containsRange(t)||t.containsRange(n)||n.isEqual(t)) {e.splice(o,1);}}} return e;}getCommonAncestor() {return this.start.getCommonAncestor(this.end);}getContainedElement() {if (this.isCollapsed) {return null;} const t=this.start.nodeAfter; const e=this.end.nodeBefore; if (t&&t.is("element")&&t===e) {return t;} return null;}toJSON() {return {start: this.start.toJSON(),end: this.end.toJSON()};}clone() {return new this.constructor(this.start,this.end);}_getTransformedByInsertOperation(t,e=false) {return this._getTransformedByInsertion(t.position,t.howMany,e);}_getTransformedByMoveOperation(t,e=false) {const n=t.sourcePosition; const o=t.howMany; const i=t.targetPosition; return this._getTransformedByMove(n,i,o,e);}_getTransformedBySplitOperation(t) {const e=this.start._getTransformedBySplitOperation(t); let n=this.end._getTransformedBySplitOperation(t); if (this.end.isEqual(t.insertionPosition)) {n=this.end.getShiftedBy(1);} if (e.root!=n.root) {n=this.end.getShiftedBy(-1);} return new Gm(e,n);}_getTransformedByMergeOperation(t) {if (this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition)) {return new Gm(this.start);} let e=this.start._getTransformedByMergeOperation(t); let n=this.end._getTransformedByMergeOperation(t); if (e.root!=n.root) {n=this.end.getShiftedBy(-1);} if (e.isAfter(n)) {if (t.sourcePosition.isBefore(t.targetPosition)) {e=Lm._createAt(n); e.offset=0;} else {if (!t.deletionPosition.isEqual(e)) {n=t.deletionPosition;}e=t.targetPosition;} return new Gm(e,n);} return new Gm(e,n);}_getTransformedByInsertion(t,e,n=false) {if (n&&this.containsPosition(t)) {return [new Gm(this.start,t),new Gm(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];} else {const n=new Gm(this.start,this.end); n.start=n.start._getTransformedByInsertion(t,e); n.end=n.end._getTransformedByInsertion(t,e); return [n];}}_getTransformedByMove(t,e,n,o=false) {if (this.isCollapsed) {const o=this.start._getTransformedByMove(t,e,n); return [new Gm(o)];} const i=Gm._createFromPositionAndShift(t,n); const r=e._getTransformedByDeletion(t,n); if (this.containsPosition(e)&&!o) {if (i.containsPosition(this.start)||i.containsPosition(this.end)) {const o=this.start._getTransformedByMove(t,e,n); const i=this.end._getTransformedByMove(t,e,n); return [new Gm(o,i)];}} let s; const a=this.getDifference(i); let c=null; const l=this.getIntersection(i); if (a.length==1) {c=new Gm(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n));} else if (a.length==2) {c=new Gm(this.start,this.end._getTransformedByDeletion(t,n));} if (c) {s=c._getTransformedByInsertion(r,n,l!==null||o);} else {s=[];} if (l) {const t=new Gm(l.start._getCombined(i.start,r),l.end._getCombined(i.start,r)); if (s.length==2) {s.splice(1,0,t);} else {s.push(t);}} return s;}_getTransformedByDeletion(t,e) {let n=this.start._getTransformedByDeletion(t,e); let o=this.end._getTransformedByDeletion(t,e); if (n==null&&o==null) {return null;} if (n==null) {n=t;} if (o==null) {o=t;} return new Gm(n,o);} static _createFromPositionAndShift(t,e) {const n=t; const o=t.getShiftedBy(e); return e>0?new this(n,o):new this(o,n);} static _createIn(t) {return new this(Lm._createAt(t,0),Lm._createAt(t,t.maxOffset));} static _createOn(t) {return this._createFromPositionAndShift(Lm._createBefore(t),t.offsetSize);} static _createFromRanges(t) {if (t.length===0) {throw new V("range-create-from-ranges-empty-array",null);} else if (t.length==1) {return t[0].clone();} const e=t[0]; t.sort(((t,e) => t.start.isAfter(e.start)?1:-1)); const n=t.indexOf(e); const o=new this(e.start,e.end); if (n>0) {for (let e=n-1; true; e++) {if (t[e].end.isEqual(o.start)) {o.start=Lm._createAt(t[e].start);} else {break;}}} for (let e=n+1; e<t.length; e++) {if (t[e].start.isEqual(o.end)) {o.end=Lm._createAt(t[e].end);} else {break;}} return o;} static fromJSON(t,e) {return new this(Lm.fromJSON(t.start,e),Lm.fromJSON(t.end,e));}}Gm.prototype.is=function(t) {return t==="range"||t==="model:range";}; class Km extends (G()) {constructor() {super(); this._modelToViewMapping=new WeakMap; this._viewToModelMapping=new WeakMap; this._viewToModelLengthCallbacks=new Map; this._markerNameToElements=new Map; this._elementToMarkerNames=new Map; this._deferredBindingRemovals=new Map; this._unboundMarkerNames=new Set; this.on("modelToViewPosition",((t,e) => {if (e.viewPosition) {return;} const n=this._modelToViewMapping.get(e.modelPosition.parent); if (!n) {throw new V("mapping-model-position-view-parent-not-found",this,{modelPosition: e.modelPosition});}e.viewPosition=this.findPositionIn(n,e.modelPosition.offset);}),{priority: "low"}); this.on("viewToModelPosition",((t,e) => {if (e.modelPosition) {return;} const n=this.findMappedViewAncestor(e.viewPosition); const o=this._viewToModelMapping.get(n); const i=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n); e.modelPosition=Lm._createAt(o,i);}),{priority: "low"});}bindElements(t,e) {this._modelToViewMapping.set(t,e); this._viewToModelMapping.set(e,t);}unbindViewElement(t,e={}) {const n=this.toModelElement(t); if (this._elementToMarkerNames.has(t)) {for (const e of this._elementToMarkerNames.get(t)) {this._unboundMarkerNames.add(e);}} if (e.defer) {this._deferredBindingRemovals.set(t,t.root);} else {this._viewToModelMapping.delete(t); if (this._modelToViewMapping.get(n)==t) {this._modelToViewMapping.delete(n);}}}unbindModelElement(t) {const e=this.toViewElement(t); this._modelToViewMapping.delete(t); if (this._viewToModelMapping.get(e)==t) {this._viewToModelMapping.delete(e);}}bindElementToMarker(t,e) {const n=this._markerNameToElements.get(e)||new Set; n.add(t); const o=this._elementToMarkerNames.get(t)||new Set; o.add(e); this._markerNameToElements.set(e,n); this._elementToMarkerNames.set(t,o);}unbindElementFromMarkerName(t,e) {const n=this._markerNameToElements.get(e); if (n) {n.delete(t); if (n.size==0) {this._markerNameToElements.delete(e);}} const o=this._elementToMarkerNames.get(t); if (o) {o.delete(e); if (o.size==0) {this._elementToMarkerNames.delete(t);}}}flushUnboundMarkerNames() {const t=Array.from(this._unboundMarkerNames); this._unboundMarkerNames.clear(); return t;}flushDeferredBindings() {for (const [t,e] of this._deferredBindingRemovals) {if (t.root==e) {this.unbindViewElement(t);}} this._deferredBindingRemovals=new Map;}clearBindings() {this._modelToViewMapping=new WeakMap; this._viewToModelMapping=new WeakMap; this._markerNameToElements=new Map; this._elementToMarkerNames=new Map; this._unboundMarkerNames=new Set; this._deferredBindingRemovals=new Map;}toModelElement(t) {return this._viewToModelMapping.get(t);}toViewElement(t) {return this._modelToViewMapping.get(t);}toModelRange(t) {return new Gm(this.toModelPosition(t.start),this.toModelPosition(t.end));}toViewRange(t) {return new Ch(this.toViewPosition(t.start),this.toViewPosition(t.end));}toModelPosition(t) {const e={viewPosition: t,mapper: this}; this.fire("viewToModelPosition",e); return e.modelPosition;}toViewPosition(t,e={}) {const n={modelPosition: t,mapper: this,isPhantom: e.isPhantom}; this.fire("modelToViewPosition",n); return n.viewPosition;}markerNameToElements(t) {const e=this._markerNameToElements.get(t); if (!e) {return null;} const n=new Set; for (const t of e) {if (t.is("attributeElement")) {for (const e of t.getElementsWithSameId()) {n.add(e);}} else {n.add(t);}} return n;}registerViewToModelLength(t,e) {this._viewToModelLengthCallbacks.set(t,e);}findMappedViewAncestor(t) {let e=t.parent; while (!this._viewToModelMapping.has(e)) {e=e.parent;} return e;}_toModelOffset(t,e,n) {if (n!=t) {const o=this._toModelOffset(t.parent,t.index,n); const i=this._toModelOffset(t,e,t); return o+i;} if (t.is("$text")) {return e;} let o=0; for (let n=0; n<e; n++) {o+=this.getModelLength(t.getChild(n));} return o;}getModelLength(t) {if (this._viewToModelLengthCallbacks.get(t.name)) {const e=this._viewToModelLengthCallbacks.get(t.name); return e(t);} else if (this._viewToModelMapping.has(t)) {return 1;} else if (t.is("$text")) {return t.data.length;} else if (t.is("uiElement")) {return 0;} let e=0; for (const n of t.getChildren()) {e+=this.getModelLength(n);} return e;}findPositionIn(t,e) {let n; let o=0; let i=0; let r=0; if (t.is("$text")) {return new _h(t,e);} while (i<e) {n=t.getChild(r); o=this.getModelLength(n); i+=o; r++;} if (i==e) {return this._moveViewPositionToTextNode(new _h(t,r));} return this.findPositionIn(n,e-(i-o));}_moveViewPositionToTextNode(t) {const e=t.nodeBefore; const n=t.nodeAfter; if (e instanceof Qd) {return new _h(e,e.data.length);} else if (n instanceof Qd) {return new _h(n,0);} return t;}} class Zm {constructor() {this._consumable=new Map; this._textProxyRegistry=new Map;}add(t,e) {e=Jm(e); if (t instanceof Mm) {t=this._getSymbolForTextProxy(t);} if (!this._consumable.has(t)) {this._consumable.set(t,new Map);} this._consumable.get(t).set(e,true);}consume(t,e) {e=Jm(e); if (t instanceof Mm) {t=this._getSymbolForTextProxy(t);} if (this.test(t,e)) {this._consumable.get(t).set(e,false); return true;} return false;}test(t,e) {e=Jm(e); if (t instanceof Mm) {t=this._getSymbolForTextProxy(t);} const n=this._consumable.get(t); if (n===undefined) {return null;} const o=n.get(e); if (o===undefined) {return null;} return o;}revert(t,e) {e=Jm(e); if (t instanceof Mm) {t=this._getSymbolForTextProxy(t);} const n=this.test(t,e); if (n===false) {this._consumable.get(t).set(e,true); return true;} else if (n===true) {return false;} return null;}verifyAllConsumed(t) {const e=[]; for (const [n,o] of this._consumable) {for (const [i,r] of o) {const o=i.split(":")[0]; if (r&&t==o) {e.push({event: i,item: n.name||n.description});}}} if (e.length) {throw new V("conversion-model-consumable-not-consumed",null,{items: e});}}_getSymbolForTextProxy(t) {let e=null; const n=this._textProxyRegistry.get(t.startOffset); if (n) {const o=n.get(t.endOffset); if (o) {e=o.get(t.parent);}} if (!e) {e=this._addSymbolForTextProxy(t);} return e;}_addSymbolForTextProxy(t) {const e=t.startOffset; const n=t.endOffset; const o=t.parent; const i=Symbol(`$textProxy:${t.data}`); let r; let s; r=this._textProxyRegistry.get(e); if (!r) {r=new Map; this._textProxyRegistry.set(e,r);}s=r.get(n); if (!s) {s=new Map; r.set(n,s);}s.set(o,i); return i;}} function Jm(t) {const e=t.split(":"); if (e[0]=="insert") {return e[0];} if (e[0]=="addMarker"||e[0]=="removeMarker") {return t;} return e.length>1?`${e[0]}:${e[1]}`:e[0];} class Ym extends (G()) {constructor(t) {super(); this._conversionApi={dispatcher: this,...t}; this._firedEventsMap=new WeakMap;}convertChanges(t,e,n) {const o=this._createConversionApi(n,t.getRefreshedItems()); for (const e of t.getMarkersToRemove()) {this._convertMarkerRemove(e.name,e.range,o);} const i=this._reduceChanges(t.getChanges()); for (const t of i) {if (t.type==="insert") {this._convertInsert(Gm._createFromPositionAndShift(t.position,t.length),o);} else if (t.type==="reinsert") {this._convertReinsert(Gm._createFromPositionAndShift(t.position,t.length),o);} else if (t.type==="remove") {this._convertRemove(t.position,t.length,t.name,o);} else {this._convertAttribute(t.range,t.attributeKey,t.attributeOldValue,t.attributeNewValue,o);}}o.mapper.flushDeferredBindings(); for (const t of o.mapper.flushUnboundMarkerNames()) {const n=e.get(t).getRange(); this._convertMarkerRemove(t,n,o); this._convertMarkerAdd(t,n,o);} for (const e of t.getMarkersToAdd()) {this._convertMarkerAdd(e.name,e.range,o);}o.consumable.verifyAllConsumed("insert");}convert(t,e,n,o={}) {const i=this._createConversionApi(n,undefined,o); this._convertInsert(t,i); for (const [t,n] of e) {this._convertMarkerAdd(t,n,i);}i.consumable.verifyAllConsumed("insert");}convertSelection(t,e,n) {const o=this._createConversionApi(n); this.fire("cleanSelection",{selection: t},o); const i=t.getFirstPosition().root; if (!o.mapper.toViewElement(i)) {return;} const r=Array.from(e.getMarkersAtPosition(t.getFirstPosition())); this._addConsumablesForSelection(o.consumable,t,r); this.fire("selection",{selection: t},o); if (!t.isCollapsed) {return;} for (const e of r) {if (o.consumable.test(t,`addMarker:${e.name}`)) {const n=e.getRange(); if (!Qm(t.getFirstPosition(),e,o.mapper)) {continue;} const i={item: t,markerName: e.name,markerRange: n}; this.fire(`addMarker:${e.name}`,i,o);}} for (const e of t.getAttributeKeys()) {if (o.consumable.test(t,`attribute:${e}`)) {const n={item: t,range: t.getFirstRange(),attributeKey: e,attributeOldValue: null,attributeNewValue: t.getAttribute(e)}; this.fire(`attribute:${e}:$text`,n,o);}}}_convertInsert(t,e,n={}) {if (!n.doNotAddConsumables) {this._addConsumablesForInsert(e.consumable,t);} for (const n of Array.from(t.getWalker({shallow: true})).map(tp)) {this._testAndFire("insert",n,e);}}_convertRemove(t,e,n,o) {this.fire(`remove:${n}`,{position: t,length: e},o);}_convertAttribute(t,e,n,o,i) {this._addConsumablesForRange(i.consumable,t,`attribute:${e}`); for (const r of t) {const t={item: r.item,range: Gm._createFromPositionAndShift(r.previousPosition,r.length),attributeKey: e,attributeOldValue: n,attributeNewValue: o}; this._testAndFire(`attribute:${e}`,t,i);}}_convertReinsert(t,e) {const n=Array.from(t.getWalker({shallow: true})); this._addConsumablesForInsert(e.consumable,n); for (const t of n.map(tp)) {this._testAndFire("insert",{...t,reconversion: true},e);}}_convertMarkerAdd(t,e,n) {if (e.root.rootName=="$graveyard") {return;} const o=`addMarker:${t}`; n.consumable.add(e,o); this.fire(o,{markerName: t,markerRange: e},n); if (!n.consumable.consume(e,o)) {return;} this._addConsumablesForRange(n.consumable,e,o); for (const i of e.getItems()) {if (!n.consumable.test(i,o)) {continue;} const r={item: i,range: Gm._createOn(i),markerName: t,markerRange: e}; this.fire(o,r,n);}}_convertMarkerRemove(t,e,n) {if (e.root.rootName=="$graveyard") {return;} this.fire(`removeMarker:${t}`,{markerName: t,markerRange: e},n);}_reduceChanges(t) {const e={changes: t}; this.fire("reduceChanges",e); return e.changes;}_addConsumablesForInsert(t,e) {for (const n of e) {const e=n.item; if (t.test(e,"insert")===null) {t.add(e,"insert"); for (const n of e.getAttributeKeys()) {t.add(e,`attribute:${n}`);}}} return t;}_addConsumablesForRange(t,e,n) {for (const o of e.getItems()) {t.add(o,n);} return t;}_addConsumablesForSelection(t,e,n) {t.add(e,"selection"); for (const o of n) {t.add(e,`addMarker:${o.name}`);} for (const n of e.getAttributeKeys()) {t.add(e,`attribute:${n}`);} return t;}_testAndFire(t,e,n) {const o=Xm(t,e); const i=e.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(e.item):e.item; const r=this._firedEventsMap.get(n); const s=r.get(i); if (!s) {r.set(i,new Set([o]));} else if (!s.has(o)) {s.add(o);} else {return;} this.fire(o,e,n);}_testAndFireAddAttributes(t,e) {const n={item: t,range: Gm._createOn(t)}; for (const t of n.item.getAttributeKeys()) {n.attributeKey=t; n.attributeOldValue=null; n.attributeNewValue=n.item.getAttribute(t); this._testAndFire(`attribute:${t}`,n,e);}}_createConversionApi(t,e=new Set,n={}) {const o={...this._conversionApi,consumable: new Zm,writer: t,options: n,convertItem: t => this._convertInsert(Gm._createOn(t),o),convertChildren: t => this._convertInsert(Gm._createIn(t),o,{doNotAddConsumables: true}),convertAttributes: t => this._testAndFireAddAttributes(t,o),canReuseView: t => !e.has(o.mapper.toModelElement(t))}; this._firedEventsMap.set(o,new Map); return o;}} function Qm(t,e,n) {const o=e.getRange(); const i=Array.from(t.getAncestors()); i.shift(); i.reverse(); const r=i.some((t => {if (o.containsItem(t)) {const e=n.toViewElement(t); return !!e.getCustomProperty("addHighlight");}})); return !r;} function Xm(t,e) {const n=e.item.is("element")?e.item.name:"$text"; return `${t}:${n}`;} function tp(t) {const e=t.item; const n=Gm._createFromPositionAndShift(t.previousPosition,t.length); return {item: e,range: n};} class ep extends (G(Im)) {constructor(...t) {super(); this._lastRangeBackward=false; this._attrs=new Map; this._ranges=[]; if (t.length) {this.setTo(...t);}} get anchor() {if (this._ranges.length>0) {const t=this._ranges[this._ranges.length-1]; return this._lastRangeBackward?t.end:t.start;} return null;} get focus() {if (this._ranges.length>0) {const t=this._ranges[this._ranges.length-1]; return this._lastRangeBackward?t.start:t.end;} return null;} get isCollapsed() {const t=this._ranges.length; if (t===1) {return this._ranges[0].isCollapsed;} return false;} get rangeCount() {return this._ranges.length;} get isBackward() {return !this.isCollapsed&&this._lastRangeBackward;}isEqual(t) {if (this.rangeCount!=t.rangeCount) {return false;} else if (this.rangeCount===0) {return true;} if (!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus)) {return false;} for (const e of this._ranges) {let n=false; for (const o of t._ranges) {if (e.isEqual(o)) {n=true; break;}} if (!n) {return false;}} return true;}*getRanges() {for (const t of this._ranges) {yield new Gm(t.start,t.end);}}getFirstRange() {let t=null; for (const e of this._ranges) {if (!t||e.start.isBefore(t.start)) {t=e;}} return t?new Gm(t.start,t.end):null;}getLastRange() {let t=null; for (const e of this._ranges) {if (!t||e.end.isAfter(t.end)) {t=e;}} return t?new Gm(t.start,t.end):null;}getFirstPosition() {const t=this.getFirstRange(); return t?t.start.clone():null;}getLastPosition() {const t=this.getLastRange(); return t?t.end.clone():null;}setTo(...t) {let [e,n,o]=t; if (typeof n==="object") {o=n; n=undefined;} if (e===null) {this._setRanges([]);} else if (e instanceof ep) {this._setRanges(e.getRanges(),e.isBackward);} else if (e&&typeof e.getRanges==="function") {this._setRanges(e.getRanges(),e.isBackward);} else if (e instanceof Gm) {this._setRanges([e],!!o&&!!o.backward);} else if (e instanceof Lm) {this._setRanges([new Gm(e)]);} else if (e instanceof Pm) {const t=!!o&&!!o.backward; let i; if (n=="in") {i=Gm._createIn(e);} else if (n=="on") {i=Gm._createOn(e);} else if (n!==undefined) {i=new Gm(Lm._createAt(e,n));} else {throw new V("model-selection-setto-required-second-parameter",[this,e]);} this._setRanges([i],t);} else if (Dt(e)) {this._setRanges(e,o&&!!o.backward);} else {throw new V("model-selection-setto-not-selectable",[this,e]);}}_setRanges(t,e=false) {const n=Array.from(t); const o=n.some((e => {if (!(e instanceof Gm)) {throw new V("model-selection-set-ranges-not-range",[this,t]);} return this._ranges.every((t => !t.isEqual(e)));})); if (n.length===this._ranges.length&&!o) {return;} this._replaceAllRanges(n); this._lastRangeBackward=!!e; this.fire("change:range",{directChange: true});}setFocus(t,e) {if (this.anchor===null) {throw new V("model-selection-setfocus-no-ranges",[this,t]);} const n=Lm._createAt(t,e); if (n.compareWith(this.focus)=="same") {return;} const o=this.anchor; if (this._ranges.length) {this._popRange();} if (n.compareWith(o)=="before") {this._pushRange(new Gm(n,o)); this._lastRangeBackward=true;} else {this._pushRange(new Gm(o,n)); this._lastRangeBackward=false;} this.fire("change:range",{directChange: true});}getAttribute(t) {return this._attrs.get(t);}getAttributes() {return this._attrs.entries();}getAttributeKeys() {return this._attrs.keys();}hasAttribute(t) {return this._attrs.has(t);}removeAttribute(t) {if (this.hasAttribute(t)) {this._attrs.delete(t); this.fire("change:attribute",{attributeKeys: [t],directChange: true});}}setAttribute(t,e) {if (this.getAttribute(t)!==e) {this._attrs.set(t,e); this.fire("change:attribute",{attributeKeys: [t],directChange: true});}}getSelectedElement() {if (this.rangeCount!==1) {return null;} return this.getFirstRange().getContainedElement();}*getSelectedBlocks() {const t=new WeakSet; for (const e of this.getRanges()) {const n=ip(e.start,t); if (sp(n,e)) {yield n;} for (const n of e.getWalker()) {const o=n.item; if (n.type=="elementEnd"&&op(o,t,e)) {yield o;}} const o=ip(e.end,t); if (ap(o,e)) {yield o;}}}containsEntireContent(t=this.anchor.root) {const e=Lm._createAt(t,0); const n=Lm._createAt(t,"end"); return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition());}_pushRange(t) {this._checkRange(t); this._ranges.push(new Gm(t.start,t.end));}_checkRange(t) {for (let e=0; e<this._ranges.length; e++) {if (t.isIntersecting(this._ranges[e])) {throw new V("model-selection-range-intersects",[this,t],{addedRange: t,intersectingRange: this._ranges[e]});}}}_replaceAllRanges(t) {this._removeAllRanges(); for (const e of t) {this._pushRange(e);}}_removeAllRanges() {while (this._ranges.length>0) {this._popRange();}}_popRange() {this._ranges.pop();}}ep.prototype.is=function(t) {return t==="selection"||t==="model:selection";}; function np(t,e) {if (e.has(t)) {return false;}e.add(t); return t.root.document.model.schema.isBlock(t)&&!!t.parent;} function op(t,e,n) {return np(t,e)&&rp(t,n);} function ip(t,e) {const n=t.parent; const o=n.root.document.model.schema; const i=t.parent.getAncestors({parentFirst: true,includeSelf: true}); let r=false; const s=i.find((t => {if (r) {return false;}r=o.isLimit(t); return !r&&np(t,e);})); i.forEach((t => e.add(t))); return s;} function rp(t,e) {const n=cp(t); if (!n) {return true;} const o=e.containsRange(Gm._createOn(n),true); return !o;} function sp(t,e) {if (!t) {return false;} if (e.isCollapsed||t.isEmpty) {return true;} if (e.start.isTouching(Lm._createAt(t,t.maxOffset))) {return false;} return rp(t,e);} function ap(t,e) {if (!t) {return false;} if (e.isCollapsed||t.isEmpty) {return true;} if (e.end.isTouching(Lm._createAt(t,0))) {return false;} return rp(t,e);} function cp(t) {const e=t.root.document.model.schema; let n=t.parent; while (n) {if (e.isBlock(n)) {return n;}n=n.parent;}} class lp extends (G(Gm)) {constructor(t,e) {super(t,e); dp.call(this);}detach() {this.stopListening();}toRange() {return new Gm(this.start,this.end);} static fromRange(t) {return new lp(t.start,t.end);}}lp.prototype.is=function(t) {return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range";}; function dp() {this.listenTo(this.root.document.model,"applyOperation",((t,e) => {const n=e[0]; if (!n.isDocumentOperation) {return;}up.call(this,n);}),{priority: "low"});} function up(t) {const e=this.getTransformedByOperation(t); const n=Gm._createFromRanges(e); const o=!n.isEqual(this); const i=hp(this,t); let r=null; if (o) {if (n.root.rootName=="$graveyard") {if (t.type=="remove") {r=t.sourcePosition;} else {r=t.deletionPosition;}} const e=this.toRange(); this.start=n.start; this.end=n.end; this.fire("change:range",e,{deletionPosition: r});} else if (i) {this.fire("change:content",this.toRange(),{deletionPosition: r});}} function hp(t,e) {switch (e.type) {case "insert":return t.containsPosition(e.position); case "move":case "remove":case "reinsert":case "merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition); case "split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition);} return false;} const gp="selection:"; class fp extends (G(Im)) {constructor(t) {super(); this._selection=new mp(t); this._selection.delegate("change:range").to(this); this._selection.delegate("change:attribute").to(this); this._selection.delegate("change:marker").to(this);} get isCollapsed() {return this._selection.isCollapsed;} get anchor() {return this._selection.anchor;} get focus() {return this._selection.focus;} get rangeCount() {return this._selection.rangeCount;} get hasOwnRange() {return this._selection.hasOwnRange;} get isBackward() {return this._selection.isBackward;} get isGravityOverridden() {return this._selection.isGravityOverridden;} get markers() {return this._selection.markers;} get _ranges() {return this._selection._ranges;}getRanges() {return this._selection.getRanges();}getFirstPosition() {return this._selection.getFirstPosition();}getLastPosition() {return this._selection.getLastPosition();}getFirstRange() {return this._selection.getFirstRange();}getLastRange() {return this._selection.getLastRange();}getSelectedBlocks() {return this._selection.getSelectedBlocks();}getSelectedElement() {return this._selection.getSelectedElement();}containsEntireContent(t) {return this._selection.containsEntireContent(t);}destroy() {this._selection.destroy();}getAttributeKeys() {return this._selection.getAttributeKeys();}getAttributes() {return this._selection.getAttributes();}getAttribute(t) {return this._selection.getAttribute(t);}hasAttribute(t) {return this._selection.hasAttribute(t);}refresh() {this._selection.updateMarkers(); this._selection._updateAttributes(false);}observeMarkers(t) {this._selection.observeMarkers(t);}_setFocus(t,e) {this._selection.setFocus(t,e);}_setTo(...t) {this._selection.setTo(...t);}_setAttribute(t,e) {this._selection.setAttribute(t,e);}_removeAttribute(t) {this._selection.removeAttribute(t);}_getStoredAttributes() {return this._selection.getStoredAttributes();}_overrideGravity() {return this._selection.overrideGravity();}_restoreGravity(t) {this._selection.restoreGravity(t);} static _getStoreAttributeKey(t) {return gp+t;} static _isStoreAttributeKey(t) {return t.startsWith(gp);}}fp.prototype.is=function(t) {return t==="selection"||t=="model:selection"||t=="documentSelection"||t=="model:documentSelection";}; class mp extends ep {constructor(t) {super(); this.markers=new id({idProperty: "name"}); this._attributePriority=new Map; this._selectionRestorePosition=null; this._hasChangedRange=false; this._overriddenGravityRegister=new Set; this._observedMarkers=new Set; this._model=t.model; this._document=t; this.listenTo(this._model,"applyOperation",((t,e) => {const n=e[0]; if (!n.isDocumentOperation||n.type=="marker"||n.type=="rename"||n.type=="noop") {return;} if (this._ranges.length==0&&this._selectionRestorePosition) {this._fixGraveyardSelection(this._selectionRestorePosition);} this._selectionRestorePosition=null; if (this._hasChangedRange) {this._hasChangedRange=false; this.fire("change:range",{directChange: false});}}),{priority: "lowest"}); this.on("change:range",(() => {this._validateSelectionRanges(this.getRanges());})); this.listenTo(this._model.markers,"update",((t,e,n,o) => {this._updateMarker(e,o);})); this.listenTo(this._document,"change",((t,e) => {kp(this._model,e);}));} get isCollapsed() {const t=this._ranges.length; return t===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed;} get anchor() {return super.anchor||this._document._getDefaultRange().start;} get focus() {return super.focus||this._document._getDefaultRange().end;} get rangeCount() {return this._ranges.length?this._ranges.length:1;} get hasOwnRange() {return this._ranges.length>0;} get isGravityOverridden() {return !!this._overriddenGravityRegister.size;}destroy() {for (let t=0; t<this._ranges.length; t++) {this._ranges[t].detach();} this.stopListening();}*getRanges() {if (this._ranges.length) {yield*super.getRanges();} else {yield this._document._getDefaultRange();}}getFirstRange() {return super.getFirstRange()||this._document._getDefaultRange();}getLastRange() {return super.getLastRange()||this._document._getDefaultRange();}setTo(...t) {super.setTo(...t); this._updateAttributes(true); this.updateMarkers();}setFocus(t,e) {super.setFocus(t,e); this._updateAttributes(true); this.updateMarkers();}setAttribute(t,e) {if (this._setAttribute(t,e)) {const e=[t]; this.fire("change:attribute",{attributeKeys: e,directChange: true});}}removeAttribute(t) {if (this._removeAttribute(t)) {const e=[t]; this.fire("change:attribute",{attributeKeys: e,directChange: true});}}overrideGravity() {const t=T(); this._overriddenGravityRegister.add(t); if (this._overriddenGravityRegister.size===1) {this._updateAttributes(true);} return t;}restoreGravity(t) {if (!this._overriddenGravityRegister.has(t)) {throw new V("document-selection-gravity-wrong-restore",this,{uid: t});} this._overriddenGravityRegister.delete(t); if (!this.isGravityOverridden) {this._updateAttributes(true);}}observeMarkers(t) {this._observedMarkers.add(t); this.updateMarkers();}_replaceAllRanges(t) {this._validateSelectionRanges(t); super._replaceAllRanges(t);}_popRange() {this._ranges.pop().detach();}_pushRange(t) {const e=this._prepareRange(t); if (e) {this._ranges.push(e);}}_validateSelectionRanges(t) {for (const e of t) {if (!this._document._validateSelectionRange(e)) {throw new V("document-selection-wrong-position",this,{range: e});}}}_prepareRange(t) {this._checkRange(t); if (t.root==this._document.graveyard) {return;} const e=lp.fromRange(t); e.on("change:range",((t,n,o) => {this._hasChangedRange=true; if (e.root==this._document.graveyard) {this._selectionRestorePosition=o.deletionPosition; const t=this._ranges.indexOf(e); this._ranges.splice(t,1); e.detach();}})); return e;}updateMarkers() {if (!this._observedMarkers.size) {return;} const t=[]; let e=false; for (const e of this._model.markers) {const n=e.name.split(":",1)[0]; if (!this._observedMarkers.has(n)) {continue;} const o=e.getRange(); for (const n of this.getRanges()) {if (o.containsRange(n,!n.isCollapsed)) {t.push(e);}}} const n=Array.from(this.markers); for (const n of t) {if (!this.markers.has(n)) {this.markers.add(n); e=true;}} for (const n of Array.from(this.markers)) {if (!t.includes(n)) {this.markers.remove(n); e=true;}} if (e) {this.fire("change:marker",{oldMarkers: n,directChange: false});}}_updateMarker(t,e) {const n=t.name.split(":",1)[0]; if (!this._observedMarkers.has(n)) {return;} let o=false; const i=Array.from(this.markers); const r=this.markers.has(t); if (!e) {if (r) {this.markers.remove(t); o=true;}} else {let n=false; for (const t of this.getRanges()) {if (e.containsRange(t,!t.isCollapsed)) {n=true; break;}} if (n&&!r) {this.markers.add(t); o=true;} else if (!n&&r) {this.markers.remove(t); o=true;}} if (o) {this.fire("change:marker",{oldMarkers: i,directChange: false});}}_updateAttributes(t) {const e=ld(this._getSurroundingAttributes()); const n=ld(this.getAttributes()); if (t) {this._attributePriority=new Map; this._attrs=new Map;} else {for (const [t,e] of this._attributePriority) {if (e=="low") {this._attrs.delete(t); this._attributePriority.delete(t);}}} this._setAttributesTo(e); const o=[]; for (const [t,e] of this.getAttributes()) {if (!n.has(t)||n.get(t)!==e) {o.push(t);}} for (const [t] of n) {if (!this.hasAttribute(t)) {o.push(t);}} if (o.length>0) {this.fire("change:attribute",{attributeKeys: o,directChange: false});}}_setAttribute(t,e,n=true) {const o=n?"normal":"low"; if (o=="low"&&this._attributePriority.get(t)=="normal") {return false;} const i=super.getAttribute(t); if (i===e) {return false;} this._attrs.set(t,e); this._attributePriority.set(t,o); return true;}_removeAttribute(t,e=true) {const n=e?"normal":"low"; if (n=="low"&&this._attributePriority.get(t)=="normal") {return false;} this._attributePriority.set(t,n); if (!super.hasAttribute(t)) {return false;} this._attrs.delete(t); return true;}_setAttributesTo(t) {const e=new Set; for (const [e,n] of this.getAttributes()) {if (t.get(e)===n) {continue;} this._removeAttribute(e,false);} for (const [n,o] of t) {const t=this._setAttribute(n,o,false); if (t) {e.add(n);}} return e;}*getStoredAttributes() {const t=this.getFirstPosition().parent; if (this.isCollapsed&&t.isEmpty) {for (const e of t.getAttributeKeys()) {if (e.startsWith(gp)) {const n=e.substr(gp.length); yield [n,t.getAttribute(e)];}}}}_getSurroundingAttributes() {const t=this.getFirstPosition(); const e=this._model.schema; if (t.root.rootName=="$graveyard") {return null;} let n=null; if (!this.isCollapsed) {const t=this.getFirstRange(); for (const o of t) {if (o.item.is("element")&&e.isObject(o.item)) {n=pp(o.item,e); break;} if (o.type=="text") {n=o.item.getAttributes(); break;}}} else {const o=t.textNode?t.textNode:t.nodeBefore; const i=t.textNode?t.textNode:t.nodeAfter; if (!this.isGravityOverridden) {n=pp(o,e);} if (!n) {n=pp(i,e);} if (!this.isGravityOverridden&&!n) {let t=o; while (t&&!n) {t=t.previousSibling; n=pp(t,e);}} if (!n) {let t=i; while (t&&!n) {t=t.nextSibling; n=pp(t,e);}} if (!n) {n=this.getStoredAttributes();}} return n;}_fixGraveyardSelection(t) {const e=this._model.schema.getNearestSelectionRange(t); if (e) {this._pushRange(e);}}} function pp(t,e) {if (!t) {return null;} if (t instanceof Mm||t instanceof Vm) {return t.getAttributes();} if (!e.isInline(t)) {return null;} if (!e.isObject(t)) {return [];} const n=[]; for (const [o,i] of t.getAttributes()) {if (e.checkAttribute("$text",o)&&e.getAttributeProperties(o).copyFromObject!==false) {n.push([o,i]);}} return n;} function kp(t,e) {const n=t.document.differ; for (const o of n.getChanges()) {if (o.type!="insert") {continue;} const n=o.position.parent; const i=o.length===n.maxOffset; if (i) {t.enqueueChange(e,(t => {const e=Array.from(n.getAttributeKeys()).filter((t => t.startsWith(gp))); for (const o of e) {t.removeAttribute(o,n);}}));}}} class bp {constructor(t) {this._dispatchers=t;}add(t) {for (const e of this._dispatchers) {t(e);} return this;}} class wp extends bp {elementToElement(t) {return this.add(Hp(t));}elementToStructure(t) {return this.add(jp(t));}attributeToElement(t) {return this.add(Wp(t));}attributeToAttribute(t) {return this.add(qp(t));}markerToElement(t) {return this.add(Up(t));}markerToHighlight(t) {return this.add(Gp(t));}markerToData(t) {return this.add($p(t));}} function _p() {return (t,e,n) => {if (!n.consumable.consume(e.item,t.name)) {return;} const o=n.writer; const i=n.mapper.toViewPosition(e.range.start); const r=o.createText(e.item.data); o.insert(i,r);};} function Cp() {return (t,e,n) => {n.convertAttributes(e.item); if (!e.reconversion&&e.item.is("element")&&!e.item.isEmpty) {n.convertChildren(e.item);}};} function Ap() {return (t,e,n) => {const o=n.mapper.toViewPosition(e.position); const i=e.position.getShiftedBy(e.length); const r=n.mapper.toViewPosition(i,{isPhantom: true}); const s=n.writer.createRange(o,r); const a=n.writer.remove(s.getTrimmed()); for (const t of n.writer.createRangeIn(a).getItems()) {n.mapper.unbindViewElement(t,{defer: true});}};} function vp(t,e) {const n=t.createAttributeElement("span",e.attributes); if (e.classes) {n._addClass(e.classes);} if (typeof e.priority==="number") {n._priority=e.priority;}n._id=e.id; return n;} function yp() {return (t,e,n) => {const o=e.selection; if (o.isCollapsed) {return;} if (!n.consumable.consume(o,"selection")) {return;} const i=[]; for (const t of o.getRanges()) {i.push(n.mapper.toViewRange(t));}n.writer.setSelection(i,{backward: o.isBackward});};} function xp() {return (t,e,n) => {const o=e.selection; if (!o.isCollapsed) {return;} if (!n.consumable.consume(o,"selection")) {return;} const i=n.writer; const r=o.getFirstPosition(); const s=n.mapper.toViewPosition(r); const a=i.breakAttributes(s); i.setSelection(a);};} function Ep() {return (t,e,n) => {const o=n.writer; const i=o.document.selection; for (const t of i.getRanges()) {if (t.isCollapsed) {if (t.end.parent.isAttached()) {n.writer.mergeAttributes(t.start);}}}o.setSelection(null);};} function Dp(t) {return (e,n,o) => {if (!o.consumable.test(n.item,e.name)) {return;} const i=t(n.attributeOldValue,o,n); const r=t(n.attributeNewValue,o,n); if (!i&&!r) {return;}o.consumable.consume(n.item,e.name); const s=o.writer; const a=s.document.selection; if (n.item instanceof ep||n.item instanceof fp) {s.wrap(a.getFirstRange(),r);} else {let t=o.mapper.toViewRange(n.range); if (n.attributeOldValue!==null&&i) {t=s.unwrap(t,i);} if (n.attributeNewValue!==null&&r) {s.wrap(t,r);}}};} function Bp(t,e=ck) {return (n,o,i) => {if (!e(o.item,i.consumable,{preflight: true})) {return;} const r=t(o.item,i,o); if (!r) {return;}e(o.item,i.consumable); const s=i.mapper.toViewPosition(o.range.start); i.mapper.bindElements(o.item,r); i.writer.insert(s,r); i.convertAttributes(o.item); sk(r,o.item.getChildren(),i,{reconversion: o.reconversion});};} function Tp(t,e) {return (n,o,i) => {if (!e(o.item,i.consumable,{preflight: true})) {return;} const r=new Map; i.writer._registerSlotFactory(ok(o.item,r,i)); const s=t(o.item,i,o); i.writer._clearSlotFactory(); if (!s) {return;}ik(o.item,r,i); e(o.item,i.consumable); const a=i.mapper.toViewPosition(o.range.start); i.mapper.bindElements(o.item,s); i.writer.insert(a,s); i.convertAttributes(o.item); rk(s,r,i,{reconversion: o.reconversion});};} function Sp(t) {return (e,n,o) => {n.isOpening=true; const i=t(n,o); n.isOpening=false; const r=t(n,o); if (!i||!r) {return;} const s=n.markerRange; if (s.isCollapsed&&!o.consumable.consume(s,e.name)) {return;} for (const t of s) {if (!o.consumable.consume(t.item,e.name)) {return;}} const a=o.mapper; const c=o.writer; c.insert(a.toViewPosition(s.start),i); o.mapper.bindElementToMarker(i,n.markerName); if (!s.isCollapsed) {c.insert(a.toViewPosition(s.end),r); o.mapper.bindElementToMarker(r,n.markerName);}e.stop();};} function Ip() {return (t,e,n) => {const o=n.mapper.markerNameToElements(e.markerName); if (!o) {return;} for (const t of o) {n.mapper.unbindElementFromMarkerName(t,e.markerName); n.writer.clear(n.writer.createRangeOn(t),t);}n.writer.clearClonedElementsGroup(e.markerName); t.stop();};} function Pp(t) {return (e,n,o) => {const i=t(n.markerName,o); if (!i) {return;} const r=n.markerRange; if (!o.consumable.consume(r,e.name)) {return;}Rp(r,false,o,n,i); Rp(r,true,o,n,i); e.stop();};} function Rp(t,e,n,o,i) {const r=e?t.start:t.end; const s=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null; const a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null; if (s||a) {let t; let r; if (e&&s||!e&&!a) {t=s; r=true;} else {t=a; r=false;} const c=n.mapper.toViewElement(t); if (c) {Vp(c,e,r,n,o,i); return;}} const c=n.mapper.toViewPosition(r); Mp(c,e,n,o,i);} function Vp(t,e,n,o,i,r) {const s=`data-${r.group}-${e?"start":"end"}-${n?"before":"after"}`; const a=t.hasAttribute(s)?t.getAttribute(s).split(","):[]; a.unshift(r.name); o.writer.setAttribute(s,a.join(","),t); o.mapper.bindElementToMarker(t,i.markerName);} function Mp(t,e,n,o,i) {const r=`${i.group}-${e?"start":"end"}`; const s=i.name?{name: i.name}:null; const a=n.writer.createUIElement(r,s); n.writer.insert(t,a); n.mapper.bindElementToMarker(a,o.markerName);} function Fp(t) {return (e,n,o) => {const i=t(n.markerName,o); if (!i) {return;} const r=o.mapper.markerNameToElements(n.markerName); if (!r) {return;} for (const t of r) {o.mapper.unbindElementFromMarkerName(t,n.markerName); if (t.is("containerElement")) {s(`data-${i.group}-start-before`,t); s(`data-${i.group}-start-after`,t); s(`data-${i.group}-end-before`,t); s(`data-${i.group}-end-after`,t);} else {o.writer.clear(o.writer.createRangeOn(t),t);}}o.writer.clearClonedElementsGroup(n.markerName); e.stop(); function s(t,e) {if (e.hasAttribute(t)) {const n=new Set(e.getAttribute(t).split(",")); n.delete(i.name); if (n.size==0) {o.writer.removeAttribute(t,e);} else {o.writer.setAttribute(t,Array.from(n).join(","),e);}}}};} function Op(t) {return (e,n,o) => {if (!o.consumable.test(n.item,e.name)) {return;} const i=t(n.attributeOldValue,o,n); const r=t(n.attributeNewValue,o,n); if (!i&&!r) {return;}o.consumable.consume(n.item,e.name); const s=o.mapper.toViewElement(n.item); const a=o.writer; if (!s) {throw new V("conversion-attribute-to-attribute-on-text",o.dispatcher,n);} if (n.attributeOldValue!==null&&i) {if (i.key=="class") {const t=typeof i.value==="string"?i.value.split(/\s+/):i.value; for (const e of t) {a.removeClass(e,s);}} else if (i.key=="style") {if (typeof i.value==="string") {const t=new rh(a.document.stylesProcessor); t.setTo(i.value); for (const [e] of t.getStylesEntries()) {a.removeStyle(e,s);}} else {const t=Object.keys(i.value); for (const e of t) {a.removeStyle(e,s);}}} else {a.removeAttribute(i.key,s);}} if (n.attributeNewValue!==null&&r) {if (r.key=="class") {const t=typeof r.value==="string"?r.value.split(/\s+/):r.value; for (const e of t) {a.addClass(e,s);}} else if (r.key=="style") {if (typeof r.value==="string") {const t=new rh(a.document.stylesProcessor); t.setTo(r.value); for (const [e,n] of t.getStylesEntries()) {a.setStyle(e,n,s);}} else {const t=Object.keys(r.value); for (const e of t) {a.setStyle(e,r.value[e],s);}}} else {a.setAttribute(r.key,r.value,s);}}};} function zp(t) {return (e,n,o) => {if (!n.item) {return;} if (!(n.item instanceof ep||n.item instanceof fp)&&!n.item.is("$textProxy")) {return;} const i=Xp(t,n,o); if (!i) {return;} if (!o.consumable.consume(n.item,e.name)) {return;} const r=o.writer; const s=vp(r,i); const a=r.document.selection; if (n.item instanceof ep||n.item instanceof fp) {r.wrap(a.getFirstRange(),s);} else {const t=o.mapper.toViewRange(n.range); const e=r.wrap(t,s); for (const t of e.getItems()) {if (t.is("attributeElement")&&t.isSimilar(s)) {o.mapper.bindElementToMarker(t,n.markerName); break;}}}};} function Np(t) {return (e,n,o) => {if (!n.item) {return;} if (!(n.item instanceof Fm)) {return;} const i=Xp(t,n,o); if (!i) {return;} if (!o.consumable.test(n.item,e.name)) {return;} const r=o.mapper.toViewElement(n.item); if (r&&r.getCustomProperty("addHighlight")) {o.consumable.consume(n.item,e.name); for (const t of Gm._createIn(n.item)) {o.consumable.consume(t.item,e.name);} const t=r.getCustomProperty("addHighlight"); t(r,i,o.writer); o.mapper.bindElementToMarker(r,n.markerName);}};} function Lp(t) {return (e,n,o) => {if (n.markerRange.isCollapsed) {return;} const i=Xp(t,n,o); if (!i) {return;} const r=vp(o.writer,i); const s=o.mapper.markerNameToElements(n.markerName); if (!s) {return;} for (const t of s) {o.mapper.unbindElementFromMarkerName(t,n.markerName); if (t.is("attributeElement")) {o.writer.unwrap(o.writer.createRangeOn(t),r);} else {const e=t.getCustomProperty("removeHighlight"); e(t,i.id,o.writer);}}o.writer.clearClonedElementsGroup(n.markerName); e.stop();};} function Hp(t) {const e=Kp(t.model); const n=Zp(t.view,"container"); if (e.attributes.length) {e.children=true;} return o => {o.on(`insert:${e.name}`,Bp(n,nk(e)),{priority: t.converterPriority||"normal"}); if (e.children||e.attributes.length) {o.on("reduceChanges",ek(e),{priority: "low"});}};} function jp(t) {const e=Kp(t.model); const n=Zp(t.view,"container"); e.children=true; return o => {if (o._conversionApi.schema.checkChild(e.name,"$text")) {throw new V("conversion-element-to-structure-disallowed-text",o,{elementName: e.name});}o.on(`insert:${e.name}`,Tp(n,nk(e)),{priority: t.converterPriority||"normal"}); o.on("reduceChanges",ek(e),{priority: "low"});};} function Wp(t) {t=Tm(t); let e=t.model; if (typeof e==="string") {e={key: e};} let n=`attribute:${e.key}`; if (e.name) {n+=`:${e.name}`;} if (e.values) {for (const n of e.values) {t.view[n]=Zp(t.view[n],"attribute");}} else {t.view=Zp(t.view,"attribute");} const o=Yp(t); return e => {e.on(n,Dp(o),{priority: t.converterPriority||"normal"});};} function qp(t) {t=Tm(t); let e=t.model; if (typeof e==="string") {e={key: e};} let n=`attribute:${e.key}`; if (e.name) {n+=`:${e.name}`;} if (e.values) {for (const n of e.values) {t.view[n]=Qp(t.view[n]);}} else {t.view=Qp(t.view);} const o=Yp(t); return e => {e.on(n,Op(o),{priority: t.converterPriority||"normal"});};} function Up(t) {const e=Zp(t.view,"ui"); return n => {n.on(`addMarker:${t.model}`,Sp(e),{priority: t.converterPriority||"normal"}); n.on(`removeMarker:${t.model}`,Ip(),{priority: t.converterPriority||"normal"});};} function $p(t) {t=Tm(t); const e=t.model; let n=t.view; if (!n) {n=n => ({group: e,name: n.substr(t.model.length+1)});} return o => {o.on(`addMarker:${e}`,Pp(n),{priority: t.converterPriority||"normal"}); o.on(`removeMarker:${e}`,Fp(n),{priority: t.converterPriority||"normal"});};} function Gp(t) {return e => {e.on(`addMarker:${t.model}`,zp(t.view),{priority: t.converterPriority||"normal"}); e.on(`addMarker:${t.model}`,Np(t.view),{priority: t.converterPriority||"normal"}); e.on(`removeMarker:${t.model}`,Lp(t.view),{priority: t.converterPriority||"normal"});};} function Kp(t) {if (typeof t==="string") {t={name: t};} return {name: t.name,attributes: t.attributes?rl(t.attributes):[],children: !!t.children};} function Zp(t,e) {if (typeof t==="function") {return t;} return (n,o) => Jp(t,o,e);} function Jp(t,e,n) {if (typeof t==="string") {t={name: t};} let o; const i=e.writer; const r=Object.assign({},t.attributes); if (n=="container") {o=i.createContainerElement(t.name,r);} else if (n=="attribute") {const e={priority: t.priority||Fh.DEFAULT_PRIORITY}; o=i.createAttributeElement(t.name,r,e);} else {o=i.createUIElement(t.name,r);} if (t.styles) {const e=Object.keys(t.styles); for (const n of e) {i.setStyle(n,t.styles[n],o);}} if (t.classes) {const e=t.classes; if (typeof e==="string") {i.addClass(e,o);} else {for (const t of e) {i.addClass(t,o);}}} return o;} function Yp(t) {if (t.model.values) {return (e,n,o) => {const i=t.view[e]; if (i) {return i(e,n,o);} return null;};} return t.view;} function Qp(t) {if (typeof t==="string") {return e => ({key: t,value: e});} else if (typeof t==="object") {if (t.value) {return () => t;} return e => ({key: t.key,value: e});} return t;} function Xp(t,e,n) {const o=typeof t==="function"?t(e,n):t; if (!o) {return null;} if (!o.priority) {o.priority=10;} if (!o.id) {o.id=e.markerName;} return o;} function tk(t) {return (e,n) => {if (!e.is("element",t.name)) {return false;} if (n.type=="attribute") {if (t.attributes.includes(n.attributeKey)) {return true;}} else if (t.children) {return true;} return false;};} function ek(t) {const e=tk(t); return (t,n) => {const o=[]; if (!n.reconvertedElements) {n.reconvertedElements=new Set;} for (const t of n.changes) {const i=t.type=="attribute"?t.range.start.nodeAfter:t.position.parent; if (!i||!e(i,t)) {o.push(t); continue;} if (!n.reconvertedElements.has(i)) {n.reconvertedElements.add(i); const t=Lm._createBefore(i); let e=o.length; for (let n=o.length-1; n>=0; n--) {const i=o[n]; const r=i.type=="attribute"?i.range.start:i.position; const s=r.compareWith(t); if (s=="before"||i.type=="remove"&&s=="same") {break;}e=n;}o.splice(e,0,{type: "remove",name: i.name,position: t,length: 1},{type: "reinsert",name: i.name,position: t,length: 1});}}n.changes=o;};} function nk(t) {return (e,n,o={}) => {const i=["insert"]; for (const n of t.attributes) {if (e.hasAttribute(n)) {i.push(`attribute:${n}`);}} if (!i.every((t => n.test(e,t)))) {return false;} if (!o.preflight) {i.forEach((t => n.consume(e,t)));} return true;};} function ok(t,e,n) {return (o,i) => {const r=o.createContainerElement("$slot"); let s=null; if (i==="children") {s=Array.from(t.getChildren());} else if (typeof i==="function") {s=Array.from(t.getChildren()).filter((t => i(t)));} else {throw new V("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter: i});}e.set(r,s); return r;};} function ik(t,e,n) {const o=Array.from(e.values()).flat(); const i=new Set(o); if (i.size!=o.length) {throw new V("conversion-slot-filter-overlap",n.dispatcher,{element: t});} if (i.size!=t.childCount) {throw new V("conversion-slot-filter-incomplete",n.dispatcher,{element: t});}} function rk(t,e,n,o) {n.mapper.on("modelToViewPosition",s,{priority: "highest"}); let i=null; let r=null; for ([i,r] of e) {sk(t,r,n,o); n.writer.move(n.writer.createRangeIn(i),n.writer.createPositionBefore(i)); n.writer.remove(i);}n.mapper.off("modelToViewPosition",s); function s(t,e) {const n=e.modelPosition.nodeAfter; const o=r.indexOf(n); if (o<0) {return;}e.viewPosition=e.mapper.findPositionIn(i,o);}} function sk(t,e,n,o) {for (const i of e) {if (!ak(t.root,i,n,o)) {n.convertItem(i);}}} function ak(t,e,n,o) {const {writer: i,mapper: r}=n; if (!o.reconversion) {return false;} const s=r.toViewElement(e); if (!s||s.root==t) {return false;} if (!n.canReuseView(s)) {return false;}i.move(i.createRangeOn(s),r.toViewPosition(Lm._createBefore(e))); return true;} function ck(t,e,{preflight: n}={}) {if (n) {return e.test(t,"insert");} return e.consume(t,"insert");} function lk(t) {const {schema: e,document: n}=t.model; for (const o of n.getRoots()) {if (o.isEmpty&&!e.checkChild(o,"$text")) {if (e.checkChild(o,"paragraph")) {t.insertElement("paragraph",o); return true;}}} return false;} function dk(t,e,n) {const o=n.createContext(t); if (!n.checkChild(o,"paragraph")) {return false;} if (!n.checkChild(o.push("paragraph"),e)) {return false;} return true;} function uk(t,e) {const n=e.createElement("paragraph"); e.insert(n,t); return e.createPositionAt(n,0);} class hk extends bp {elementToElement(t) {return this.add(pk(t));}elementToAttribute(t) {return this.add(kk(t));}attributeToAttribute(t) {return this.add(bk(t));}elementToMarker(t) {return this.add(wk(t));}dataToMarker(t) {return this.add(_k(t));}} function gk() {return (t,e,n) => {if (!e.modelRange&&n.consumable.consume(e.viewItem,{name: true})) {const {modelRange: t,modelCursor: o}=n.convertChildren(e.viewItem,e.modelCursor); e.modelRange=t; e.modelCursor=o;}};} function fk() {return (t,e,{schema: n,consumable: o,writer: i}) => {let r=e.modelCursor; if (!o.test(e.viewItem)) {return;} if (!n.checkChild(r,"$text")) {if (!dk(r,"$text",n)) {return;} if (e.viewItem.data.trim().length==0) {return;} const t=r.nodeBefore; r=uk(r,i); if (t&&t.is("element","$marker")) {i.move(i.createRangeOn(t),r); r=i.createPositionAfter(t);}}o.consume(e.viewItem); const s=i.createText(e.viewItem.data); i.insert(s,r); e.modelRange=i.createRange(r,r.getShiftedBy(s.offsetSize)); e.modelCursor=e.modelRange.end;};} function mk(t,e) {return (n,o) => {const i=o.newSelection; const r=[]; for (const t of i.getRanges()) {r.push(e.toModelRange(t));} const s=t.createSelection(r,{backward: i.isBackward}); if (!s.isEqual(t.document.selection)) {t.change((t => {t.setSelection(s);}));}};} function pk(t) {t=Tm(t); const e=vk(t); const n=Ak(t.view); const o=n?`element:${n}`:"element"; return n => {n.on(o,e,{priority: t.converterPriority||"normal"});};} function kk(t) {t=Tm(t); Ek(t); const e=Dk(t,false); const n=Ak(t.view); const o=n?`element:${n}`:"element"; return n => {n.on(o,e,{priority: t.converterPriority||"low"});};} function bk(t) {t=Tm(t); let e=null; if (typeof t.view==="string"||t.view.key) {e=xk(t);}Ek(t,e); const n=Dk(t,true); return e => {e.on("element",n,{priority: t.converterPriority||"low"});};} function wk(t) {const e=Sk(t.model); return pk({...t,model: e});} function _k(t) {t=Tm(t); if (!t.model) {t.model=e => e?`${t.view}:${e}`:t.view;} const e={view: t.view,model: t.model}; const n=vk(Ik(e,"start")); const o=vk(Ik(e,"end")); return i => {i.on(`element:${t.view}-start`,n,{priority: t.converterPriority||"normal"}); i.on(`element:${t.view}-end`,o,{priority: t.converterPriority||"normal"}); const r=I.low; const s=I.highest; const a=I.get(t.converterPriority)/s; i.on("element",Ck(e),{priority: r+a});};} function Ck(t) {return (e,n,o) => {const i=`data-${t.view}`; if (!o.consumable.test(n.viewItem,{attributes: `${i}-end-after`})&&!o.consumable.test(n.viewItem,{attributes: `${i}-start-after`})&&!o.consumable.test(n.viewItem,{attributes: `${i}-end-before`})&&!o.consumable.test(n.viewItem,{attributes: `${i}-start-before`})) {return;} if (!n.modelRange) {Object.assign(n,o.convertChildren(n.viewItem,n.modelCursor));} if (o.consumable.consume(n.viewItem,{attributes: `${i}-end-after`})) {r(n.modelRange.end,n.viewItem.getAttribute(`${i}-end-after`).split(","));} if (o.consumable.consume(n.viewItem,{attributes: `${i}-start-after`})) {r(n.modelRange.end,n.viewItem.getAttribute(`${i}-start-after`).split(","));} if (o.consumable.consume(n.viewItem,{attributes: `${i}-end-before`})) {r(n.modelRange.start,n.viewItem.getAttribute(`${i}-end-before`).split(","));} if (o.consumable.consume(n.viewItem,{attributes: `${i}-start-before`})) {r(n.modelRange.start,n.viewItem.getAttribute(`${i}-start-before`).split(","));} function r(e,i) {for (const r of i) {const i=t.model(r,o); const s=o.writer.createElement("$marker",{"data-name": i}); o.writer.insert(s,e); if (n.modelCursor.isEqual(e)) {n.modelCursor=n.modelCursor.getShiftedBy(1);} else {n.modelCursor=n.modelCursor._getTransformedByInsertion(e,1);}n.modelRange=n.modelRange._getTransformedByInsertion(e,1)[0];}}};} function Ak(t) {if (typeof t==="string") {return t;} if (typeof t==="object"&&typeof t.name==="string") {return t.name;} return null;} function vk(t) {const e=new tu(t.view); return (n,o,i) => {const r=e.match(o.viewItem); if (!r) {return;} const s=r.match; s.name=true; if (!i.consumable.test(o.viewItem,s)) {return;} const a=yk(t.model,o.viewItem,i); if (!a) {return;} if (!i.safeInsert(a,o.modelCursor)) {return;}i.consumable.consume(o.viewItem,s); i.convertChildren(o.viewItem,a); i.updateConversionResult(a,o);};} function yk(t,e,n) {if (t instanceof Function) {return t(e,n);} return n.writer.createElement(t);} function xk(t) {if (typeof t.view==="string") {t.view={key: t.view};} const e=t.view.key; const n=typeof t.view.value==="undefined"?/[\s\S]*/:t.view.value; let o; if (e=="class"||e=="style") {const t=e=="class"?"classes":"styles"; o={[t]: n};} else {o={attributes: {[e]: n}};} if (t.view.name) {o.name=t.view.name;}t.view=o; return e;} function Ek(t,e=null) {const n=e===null?true:t => t.getAttribute(e); const o=typeof t.model!=="object"?t.model:t.model.key; const i=typeof t.model!=="object"||typeof t.model.value==="undefined"?n:t.model.value; t.model={key: o,value: i};} function Dk(t,e) {const n=new tu(t.view); return (o,i,r) => {if (!i.modelRange&&e) {return;} const s=n.match(i.viewItem); if (!s) {return;} if (Bk(t.view,i.viewItem)) {s.match.name=true;} else {delete s.match.name;} if (!r.consumable.test(i.viewItem,s.match)) {return;} const a=t.model.key; const c=typeof t.model.value==="function"?t.model.value(i.viewItem,r):t.model.value; if (c===null) {return;} if (!i.modelRange) {Object.assign(i,r.convertChildren(i.viewItem,i.modelCursor));} const l=Tk(i.modelRange,{key: a,value: c},e,r); if (l) {if (r.consumable.test(i.viewItem,{name: true})) {s.match.name=true;}r.consumable.consume(i.viewItem,s.match);}};} function Bk(t,e) {const n=typeof t==="function"?t(e):t; if (typeof n==="object"&&!Ak(n)) {return false;} return !n.classes&&!n.attributes&&!n.styles;} function Tk(t,e,n,o) {let i=false; for (const r of Array.from(t.getItems({shallow: n}))) {if (!o.schema.checkAttribute(r,e.key)) {continue;}i=true; if (r.hasAttribute(e.key)) {continue;}o.writer.setAttribute(e.key,e.value,r);} return i;} function Sk(t) {return (e,n) => {const o=typeof t==="string"?t:t(e,n); return n.writer.createElement("$marker",{"data-name": o});};} function Ik(t,e) {const n=(e,n) => {const o=e.getAttribute("name"); const i=t.model(o,n); return n.writer.createElement("$marker",{"data-name": i});}; return {view: `${t.view}-${e}`,model: n};} function Pk(t) {t.document.registerPostFixer((e => Rk(e,t)));} function Rk(t,e) {const n=e.document.selection; const o=e.schema; const i=[]; let r=false; for (const t of n.getRanges()) {const e=Vk(t,o); if (e&&!e.isEqual(t)) {i.push(e); r=true;} else {i.push(t);}} if (r) {t.setSelection(Nk(i),{backward: n.isBackward});} return false;} function Vk(t,e) {if (t.isCollapsed) {return Mk(t,e);} return Fk(t,e);} function Mk(t,e) {const n=t.start; const o=e.getNearestSelectionRange(n); if (!o) {const t=n.getAncestors().reverse().find((t => e.isObject(t))); if (t) {return Gm._createOn(t);} return null;} if (!o.isCollapsed) {return o;} const i=o.start; if (n.isEqual(i)) {return null;} return new Gm(i);} function Fk(t,e) {const {start: n,end: o}=t; const i=e.checkChild(n,"$text"); const r=e.checkChild(o,"$text"); const s=e.getLimitElement(n); const a=e.getLimitElement(o); if (s===a) {if (i&&r) {return null;} if (zk(n,o,e)) {const t=n.nodeAfter&&e.isSelectable(n.nodeAfter); const i=t?null:e.getNearestSelectionRange(n,"forward"); const r=o.nodeBefore&&e.isSelectable(o.nodeBefore); const s=r?null:e.getNearestSelectionRange(o,"backward"); const a=i?i.start:n; const c=s?s.end:o; return new Gm(a,c);}} const c=s&&!s.is("rootElement"); const l=a&&!a.is("rootElement"); if (c||l) {const t=n.nodeAfter&&o.nodeBefore&&n.nodeAfter.parent===o.nodeBefore.parent; const i=c&&(!t||!Lk(n.nodeAfter,e)); const r=l&&(!t||!Lk(o.nodeBefore,e)); let d=n; let u=o; if (i) {d=Lm._createBefore(Ok(s,e));} if (r) {u=Lm._createAfter(Ok(a,e));} return new Gm(d,u);} return null;} function Ok(t,e) {let n=t; let o=n; while (e.isLimit(o)&&o.parent) {n=o; o=o.parent;} return n;} function zk(t,e,n) {const o=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"); const i=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text"); return o||i;} function Nk(t) {const e=[...t]; const n=new Set; let o=1; while (o<e.length) {const t=e[o]; const i=e.slice(0,o); for (const [r,s] of i.entries()) {if (n.has(r)) {continue;} if (t.isEqual(s)) {n.add(r);} else if (t.isIntersecting(s)) {n.add(r); n.add(o); const i=t.getJoined(s); e.push(i);}}o++;} const i=e.filter(((t,e) => !n.has(e))); return i;} function Lk(t,e) {return t&&e.isSelectable(t);} class Hk extends (gt()) {constructor(t,e) {super(); this.model=t; this.view=new Sm(e); this.mapper=new Km; this.downcastDispatcher=new Ym({mapper: this.mapper,schema: t.schema}); const n=this.model.document; const o=n.selection; const i=this.model.markers; this.listenTo(this.model,"_beforeChanges",(() => {this.view._disableRendering(true);}),{priority: "highest"}); this.listenTo(this.model,"_afterChanges",(() => {this.view._disableRendering(false);}),{priority: "lowest"}); this.listenTo(n,"change",(() => {this.view.change((t => {this.downcastDispatcher.convertChanges(n.differ,i,t); this.downcastDispatcher.convertSelection(o,i,t);}));}),{priority: "low"}); this.listenTo(this.view.document,"selectionChange",mk(this.model,this.mapper)); this.listenTo(this.view.document,"beforeinput",jk(this.mapper,this.model.schema,this.view),{priority: "high"}); this.downcastDispatcher.on("insert:$text",_p(),{priority: "lowest"}); this.downcastDispatcher.on("insert",Cp(),{priority: "lowest"}); this.downcastDispatcher.on("remove",Ap(),{priority: "low"}); this.downcastDispatcher.on("cleanSelection",Ep()); this.downcastDispatcher.on("selection",yp(),{priority: "low"}); this.downcastDispatcher.on("selection",xp(),{priority: "low"}); this.view.document.roots.bindTo(this.model.document.roots).using((t => {if (t.rootName=="$graveyard") {return null;} const e=new bh(this.view.document,t.name); e.rootName=t.rootName; this.mapper.bindElements(t,e); return e;}));}destroy() {this.view.destroy(); this.stopListening();}reconvertMarker(t) {const e=typeof t==="string"?t:t.name; const n=this.model.markers.get(e); if (!n) {throw new V("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName: e});} this.model.change((() => {this.model.markers._refresh(n);}));}reconvertItem(t) {this.model.change((() => {this.model.document.differ._refreshItem(t);}));}} function jk(t,e,n) {return (o,i) => {if (n.document.isComposing&&!l.isAndroid) {return;} for (let n=0; n<i.targetRanges.length; n++) {const o=i.targetRanges[n]; const r=t.toModelRange(o); const s=Vk(r,e); if (!s||s.isEqual(r)) {continue;}i.targetRanges[n]=t.toViewRange(s);}};} class Wk {constructor() {this._consumables=new Map;}add(t,e) {let n; if (t.is("$text")||t.is("documentFragment")) {this._consumables.set(t,true); return;} if (!this._consumables.has(t)) {n=new Uk(t); this._consumables.set(t,n);} else {n=this._consumables.get(t);}n.add(e);}test(t,e) {const n=this._consumables.get(t); if (n===undefined) {return null;} if (t.is("$text")||t.is("documentFragment")) {return n;} return n.test(e);}consume(t,e) {if (this.test(t,e)) {if (t.is("$text")||t.is("documentFragment")) {this._consumables.set(t,false);} else {this._consumables.get(t).consume(e);} return true;} return false;}revert(t,e) {const n=this._consumables.get(t); if (n!==undefined) {if (t.is("$text")||t.is("documentFragment")) {this._consumables.set(t,true);} else {n.revert(e);}}} static consumablesFromElement(t) {const e={element: t,name: true,attributes: [],classes: [],styles: []}; const n=t.getAttributeKeys(); for (const t of n) {if (t=="style"||t=="class") {continue;}e.attributes.push(t);} const o=t.getClassNames(); for (const t of o) {e.classes.push(t);} const i=t.getStyleNames(); for (const t of i) {e.styles.push(t);} return e;} static createFrom(t,e) {if (!e) {e=new Wk;} if (t.is("$text")) {e.add(t); return e;} if (t.is("element")) {e.add(t,Wk.consumablesFromElement(t));} if (t.is("documentFragment")) {e.add(t);} for (const n of t.getChildren()) {e=Wk.createFrom(n,e);} return e;}} const qk=["attributes","classes","styles"]; class Uk {constructor(t) {this.element=t; this._canConsumeName=null; this._consumables={attributes: new Map,styles: new Map,classes: new Map};}add(t) {if (t.name) {this._canConsumeName=true;} for (const e of qk) {if (e in t) {this._add(e,t[e]);}}}test(t) {if (t.name&&!this._canConsumeName) {return this._canConsumeName;} for (const e of qk) {if (e in t) {const n=this._test(e,t[e]); if (n!==true) {return n;}}} return true;}consume(t) {if (t.name) {this._canConsumeName=false;} for (const e of qk) {if (e in t) {this._consume(e,t[e]);}}}revert(t) {if (t.name) {this._canConsumeName=true;} for (const e of qk) {if (e in t) {this._revert(e,t[e]);}}}_add(t,e) {const n=rl(e); const o=this._consumables[t]; for (const e of n) {if (t==="attributes"&&(e==="class"||e==="style")) {throw new V("viewconsumable-invalid-attribute",this);}o.set(e,true); if (t==="styles") {for (const t of this.element.document.stylesProcessor.getRelatedStyles(e)) {o.set(t,true);}}}}_test(t,e) {const n=rl(e); const o=this._consumables[t]; for (const e of n) {if (t==="attributes"&&(e==="class"||e==="style")) {const t=e=="class"?"classes":"styles"; const n=this._test(t,[...this._consumables[t].keys()]); if (n!==true) {return n;}} else {const t=o.get(e); if (t===undefined) {return null;} if (!t) {return false;}}} return true;}_consume(t,e) {const n=rl(e); const o=this._consumables[t]; for (const e of n) {if (t==="attributes"&&(e==="class"||e==="style")) {const t=e=="class"?"classes":"styles"; this._consume(t,[...this._consumables[t].keys()]);} else {o.set(e,false); if (t=="styles") {for (const t of this.element.document.stylesProcessor.getRelatedStyles(e)) {o.set(t,false);}}}}}_revert(t,e) {const n=rl(e); const o=this._consumables[t]; for (const e of n) {if (t==="attributes"&&(e==="class"||e==="style")) {const t=e=="class"?"classes":"styles"; this._revert(t,[...this._consumables[t].keys()]);} else {const t=o.get(e); if (t===false) {o.set(e,true);}}}}} class $k extends (gt()) {constructor() {super(); this._sourceDefinitions={}; this._attributeProperties={}; this.decorate("checkChild"); this.decorate("checkAttribute"); this.on("checkAttribute",((t,e) => {e[0]=new Gk(e[0]);}),{priority: "highest"}); this.on("checkChild",((t,e) => {e[0]=new Gk(e[0]); e[1]=this.getDefinition(e[1]);}),{priority: "highest"});}register(t,e) {if (this._sourceDefinitions[t]) {throw new V("schema-cannot-register-item-twice",this,{itemName: t});} this._sourceDefinitions[t]=[Object.assign({},e)]; this._clearCache();}extend(t,e) {if (!this._sourceDefinitions[t]) {throw new V("schema-cannot-extend-missing-item",this,{itemName: t});} this._sourceDefinitions[t].push(Object.assign({},e)); this._clearCache();}getDefinitions() {if (!this._compiledDefinitions) {this._compile();} return this._compiledDefinitions;}getDefinition(t) {let e; if (typeof t==="string") {e=t;} else if ("is"in t&&(t.is("$text")||t.is("$textProxy"))) {e="$text";} else {e=t.name;} return this.getDefinitions()[e];}isRegistered(t) {return !!this.getDefinition(t);}isBlock(t) {const e=this.getDefinition(t); return !!(e&&e.isBlock);}isLimit(t) {const e=this.getDefinition(t); if (!e) {return false;} return !!(e.isLimit||e.isObject);}isObject(t) {const e=this.getDefinition(t); if (!e) {return false;} return !!(e.isObject||e.isLimit&&e.isSelectable&&e.isContent);}isInline(t) {const e=this.getDefinition(t); return !!(e&&e.isInline);}isSelectable(t) {const e=this.getDefinition(t); if (!e) {return false;} return !!(e.isSelectable||e.isObject);}isContent(t) {const e=this.getDefinition(t); if (!e) {return false;} return !!(e.isContent||e.isObject);}checkChild(t,e) {if (!e) {return false;} return this._checkContextMatch(e,t);}checkAttribute(t,e) {const n=this.getDefinition(t.last); if (!n) {return false;} return n.allowAttributes.includes(e);}checkMerge(t,e) {if (t instanceof Lm) {const e=t.nodeBefore; const n=t.nodeAfter; if (!(e instanceof Fm)) {throw new V("schema-check-merge-no-element-before",this);} if (!(n instanceof Fm)) {throw new V("schema-check-merge-no-element-after",this);} return this.checkMerge(e,n);} for (const n of e.getChildren()) {if (!this.checkChild(t,n)) {return false;}} return true;}addChildCheck(t) {this.on("checkChild",((e,[n,o]) => {if (!o) {return;} const i=t(n,o); if (typeof i==="boolean") {e.stop(); e.return=i;}}),{priority: "high"});}addAttributeCheck(t) {this.on("checkAttribute",((e,[n,o]) => {const i=t(n,o); if (typeof i==="boolean") {e.stop(); e.return=i;}}),{priority: "high"});}setAttributeProperties(t,e) {this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e);}getAttributeProperties(t) {return this._attributeProperties[t]||{};}getLimitElement(t) {let e; if (t instanceof Lm) {e=t.parent;} else {const n=t instanceof Gm?[t]:Array.from(t.getRanges()); e=n.reduce(((t,e) => {const n=e.getCommonAncestor(); if (!t) {return n;} return t.getCommonAncestor(n,{includeSelf: true});}),null);} while (!this.isLimit(e)) {if (e.parent) {e=e.parent;} else {break;}} return e;}checkAttributeInSelection(t,e) {if (t.isCollapsed) {const n=t.getFirstPosition(); const o=[...n.getAncestors(),new Vm("",t.getAttributes())]; return this.checkAttribute(o,e);} else {const n=t.getRanges(); for (const t of n) {for (const n of t) {if (this.checkAttribute(n.item,e)) {return true;}}}} return false;}*getValidRanges(t,e) {t=db(t); for (const n of t) {yield*this._getValidRangesForRange(n,e);}}getNearestSelectionRange(t,e="both") {if (t.root.rootName=="$graveyard") {return null;} if (this.checkChild(t,"$text")) {return new Gm(t);} let n,o; const i=t.getAncestors().reverse().find((t => this.isLimit(t)))||t.root; if (e=="both"||e=="backward") {n=new zm({boundaries: Gm._createIn(i),startPosition: t,direction: "backward"});} if (e=="both"||e=="forward") {o=new zm({boundaries: Gm._createIn(i),startPosition: t});} for (const t of lb(n,o)) {const e=t.walker==n?"elementEnd":"elementStart"; const o=t.value; if (o.type==e&&this.isObject(o.item)) {return Gm._createOn(o.item);} if (this.checkChild(o.nextPosition,"$text")) {return new Gm(o.nextPosition);}} return null;}findAllowedParent(t,e) {let n=t.parent; while (n) {if (this.checkChild(n,e)) {return n;} if (this.isLimit(n)) {return null;}n=n.parent;} return null;}setAllowedAttributes(t,e,n) {const o=n.model; for (const [i,r] of Object.entries(e)) {if (o.schema.checkAttribute(t,i)) {n.setAttribute(i,r,t);}}}removeDisallowedAttributes(t,e) {for (const n of t) {if (n.is("$text")) {ub(this,n,e);} else {const t=Gm._createIn(n); const o=t.getPositions(); for (const t of o) {const n=t.nodeBefore||t.parent; ub(this,n,e);}}}}getAttributesWithProperty(t,e,n) {const o={}; for (const [i,r] of t.getAttributes()) {const t=this.getAttributeProperties(i); if (t[e]===undefined) {continue;} if (n===undefined||n===t[e]) {o[i]=r;}} return o;}createContext(t) {return new Gk(t);}_clearCache() {this._compiledDefinitions=null;}_compile() {const t={}; const e=this._sourceDefinitions; const n=Object.keys(e); for (const o of n) {t[o]=Kk(e[o],o);} for (const e of n) {Zk(t,e);} for (const e of n) {Jk(t,e);} for (const e of n) {Yk(t,e);} for (const e of n) {Qk(t,e); Xk(t,e);} for (const e of n) {tb(t,e); eb(t,e); nb(t,e);} this._compiledDefinitions=t;}_checkContextMatch(t,e,n=e.length-1) {const o=e.getItem(n); if (t.allowIn.includes(o.name)) {if (n==0) {return true;} const t=this.getDefinition(o); return this._checkContextMatch(t,e,n-1);} return false;}*_getValidRangesForRange(t,e) {let n=t.start; let o=t.start; for (const i of t.getItems({shallow: true})) {if (i.is("element")) {yield*this._getValidRangesForRange(Gm._createIn(i),e);} if (!this.checkAttribute(i,e)) {if (!n.isEqual(o)) {yield new Gm(n,o);}n=Lm._createAfter(i);}o=Lm._createAfter(i);} if (!n.isEqual(o)) {yield new Gm(n,o);}}findOptimalInsertionRange(t,e) {const n=t.getSelectedElement(); if (n&&this.isObject(n)&&!this.isInline(n)) {if (e=="before"||e=="after") {return new Gm(Lm._createAt(n,e));} return Gm._createOn(n);} const o=rd(t.getSelectedBlocks()); if (!o) {return new Gm(t.focus);} if (o.isEmpty) {return new Gm(Lm._createAt(o,0));} const i=Lm._createAfter(o); if (t.focus.isTouching(i)) {return new Gm(i);} return new Gm(Lm._createBefore(o));}} class Gk {constructor(t) {if (t instanceof Gk) {return t;} let e; if (typeof t==="string") {e=[t];} else if (!Array.isArray(t)) {e=t.getAncestors({includeSelf: true});} else {e=t;} this._items=e.map(cb);} get length() {return this._items.length;} get last() {return this._items[this._items.length-1];}[Symbol.iterator]() {return this._items[Symbol.iterator]();}push(t) {const e=new Gk([t]); e._items=[...this._items,...e._items]; return e;}getItem(t) {return this._items[t];}*getNames() {yield*this._items.map((t => t.name));}endsWith(t) {return Array.from(this.getNames()).join(" ").endsWith(t);}startsWith(t) {return Array.from(this.getNames()).join(" ").startsWith(t);}} function Kk(t,e) {const n={name: e,allowIn: [],allowContentOf: [],allowWhere: [],allowAttributes: [],allowAttributesOf: [],allowChildren: [],inheritTypesFrom: []}; ob(t,n); ib(t,n,"allowIn"); ib(t,n,"allowContentOf"); ib(t,n,"allowWhere"); ib(t,n,"allowAttributes"); ib(t,n,"allowAttributesOf"); ib(t,n,"allowChildren"); ib(t,n,"inheritTypesFrom"); rb(t,n); return n;} function Zk(t,e) {const n=t[e]; for (const o of n.allowChildren) {const n=t[o]; if (!n) {continue;}n.allowIn.push(e);}n.allowChildren.length=0;} function Jk(t,e) {for (const n of t[e].allowContentOf) {if (t[n]) {const o=sb(t,n); o.forEach((t => {t.allowIn.push(e);}));}} delete t[e].allowContentOf;} function Yk(t,e) {for (const n of t[e].allowWhere) {const o=t[n]; if (o) {const n=o.allowIn; t[e].allowIn.push(...n);}} delete t[e].allowWhere;} function Qk(t,e) {for (const n of t[e].allowAttributesOf) {const o=t[n]; if (o) {const n=o.allowAttributes; t[e].allowAttributes.push(...n);}} delete t[e].allowAttributesOf;} function Xk(t,e) {const n=t[e]; for (const e of n.inheritTypesFrom) {const o=t[e]; if (o) {const t=Object.keys(o).filter((t => t.startsWith("is"))); for (const e of t) {if (!(e in n)) {n[e]=o[e];}}}} delete n.inheritTypesFrom;} function tb(t,e) {const n=t[e]; const o=n.allowIn.filter((e => t[e])); n.allowIn=Array.from(new Set(o));} function eb(t,e) {const n=t[e]; for (const o of n.allowIn) {const n=t[o]; n.allowChildren.push(e);}} function nb(t,e) {const n=t[e]; n.allowAttributes=Array.from(new Set(n.allowAttributes));} function ob(t,e) {for (const n of t) {const t=Object.keys(n).filter((t => t.startsWith("is"))); for (const o of t) {e[o]=!!n[o];}}} function ib(t,e,n) {for (const o of t) {const t=o[n]; if (typeof t==="string") {e[n].push(t);} else if (Array.isArray(t)) {e[n].push(...t);}}} function rb(t,e) {for (const n of t) {const t=n.inheritAllFrom; if (t) {e.allowContentOf.push(t); e.allowWhere.push(t); e.allowAttributesOf.push(t); e.inheritTypesFrom.push(t);}}} function sb(t,e) {const n=t[e]; return ab(t).filter((t => t.allowIn.includes(n.name)));} function ab(t) {return Object.keys(t).map((e => t[e]));} function cb(t) {if (typeof t==="string"||t.is("documentFragment")) {return {name: typeof t==="string"?t:"$documentFragment",*getAttributeKeys() {},getAttribute() {}};} return {name: t.is("element")?t.name:"$text",*getAttributeKeys() {yield*t.getAttributeKeys();},getAttribute(e) {return t.getAttribute(e);}};} function*lb(t,e) {let n=false; while (!n) {n=true; if (t) {const e=t.next(); if (!e.done) {n=false; yield {walker: t,value: e.value};}} if (e) {const t=e.next(); if (!t.done) {n=false; yield {walker: e,value: t.value};}}}} function*db(t) {for (const e of t) {yield*e.getMinimalFlatRanges();}} function ub(t,e,n) {for (const o of e.getAttributeKeys()) {if (!t.checkAttribute(e,o)) {n.removeAttribute(o,e);}}} class hb extends (G()) {constructor(t) {super(); this._splitParts=new Map; this._cursorParents=new Map; this._modelCursor=null; this._emptyElementsToKeep=new Set; this.conversionApi={...t,consumable: null,writer: null,store: null,convertItem: (t,e) => this._convertItem(t,e),convertChildren: (t,e) => this._convertChildren(t,e),safeInsert: (t,e) => this._safeInsert(t,e),updateConversionResult: (t,e) => this._updateConversionResult(t,e),splitToAllowedParent: (t,e) => this._splitToAllowedParent(t,e),getSplitParts: t => this._getSplitParts(t),keepEmptyElement: t => this._keepEmptyElement(t)};}convert(t,e,n=["$root"]) {this.fire("viewCleanup",t); this._modelCursor=fb(n,e); this.conversionApi.writer=e; this.conversionApi.consumable=Wk.createFrom(t); this.conversionApi.store={}; const {modelRange: o}=this._convertItem(t,this._modelCursor); const i=e.createDocumentFragment(); if (o) {this._removeEmptyElements(); for (const t of Array.from(this._modelCursor.parent.getChildren())) {e.append(t,i);}i.markers=gb(i,e);} this._modelCursor=null; this._splitParts.clear(); this._cursorParents.clear(); this._emptyElementsToKeep.clear(); this.conversionApi.writer=null; this.conversionApi.store=null; return i;}_convertItem(t,e) {const n={viewItem: t,modelCursor: e,modelRange: null}; if (t.is("element")) {this.fire(`element:${t.name}`,n,this.conversionApi);} else if (t.is("$text")) {this.fire("text",n,this.conversionApi);} else {this.fire("documentFragment",n,this.conversionApi);} if (n.modelRange&&!(n.modelRange instanceof Gm)) {throw new V("view-conversion-dispatcher-incorrect-result",this);} return {modelRange: n.modelRange,modelCursor: n.modelCursor};}_convertChildren(t,e) {let n=e.is("position")?e:Lm._createAt(e,0); const o=new Gm(n); for (const e of Array.from(t.getChildren())) {const t=this._convertItem(e,n); if (t.modelRange instanceof Gm) {o.end=t.modelRange.end; n=t.modelCursor;}} return {modelRange: o,modelCursor: n};}_safeInsert(t,e) {const n=this._splitToAllowedParent(t,e); if (!n) {return false;} this.conversionApi.writer.insert(t,n.position); return true;}_updateConversionResult(t,e) {const n=this._getSplitParts(t); const o=this.conversionApi.writer; if (!e.modelRange) {e.modelRange=o.createRange(o.createPositionBefore(t),o.createPositionAfter(n[n.length-1]));} const i=this._cursorParents.get(t); if (i) {e.modelCursor=o.createPositionAt(i,0);} else {e.modelCursor=e.modelRange.end;}}_splitToAllowedParent(t,e) {const {schema: n,writer: o}=this.conversionApi; let i=n.findAllowedParent(e,t); if (i) {if (i===e.parent) {return {position: e};} if (this._modelCursor.parent.getAncestors().includes(i)) {i=null;}} if (!i) {if (!dk(e,t,n)) {return null;} return {position: uk(e,o)};} const r=this.conversionApi.writer.split(e,i); const s=[]; for (const t of r.range.getWalker()) {if (t.type=="elementEnd") {s.push(t.item);} else {const e=s.pop(); const n=t.item; this._registerSplitPair(e,n);}} const a=r.range.end.parent; this._cursorParents.set(t,a); return {position: r.position,cursorParent: a};}_registerSplitPair(t,e) {if (!this._splitParts.has(t)) {this._splitParts.set(t,[t]);} const n=this._splitParts.get(t); this._splitParts.set(e,n); n.push(e);}_getSplitParts(t) {let e; if (!this._splitParts.has(t)) {e=[t];} else {e=this._splitParts.get(t);} return e;}_keepEmptyElement(t) {this._emptyElementsToKeep.add(t);}_removeEmptyElements() {let t=false; for (const e of this._splitParts.keys()) {if (e.isEmpty&&!this._emptyElementsToKeep.has(e)) {this.conversionApi.writer.remove(e); this._splitParts.delete(e); t=true;}} if (t) {this._removeEmptyElements();}}} function gb(t,e) {const n=new Set; const o=new Map; const i=Gm._createIn(t).getItems(); for (const t of i) {if (t.is("element","$marker")) {n.add(t);}} for (const t of n) {const n=t.getAttribute("data-name"); const i=e.createPositionBefore(t); if (!o.has(n)) {o.set(n,new Gm(i.clone()));} else {o.get(n).end=i.clone();}e.remove(t);} return o;} function fb(t,e) {let n; for (const o of new Gk(t)) {const t={}; for (const e of o.getAttributeKeys()) {t[e]=o.getAttribute(e);} const i=e.createElement(o.name,t); if (n) {e.insert(i,n);}n=Lm._createAt(i,0);} return n;} class mb {getHtml(t) {const e=nc.document.implementation.createHTMLDocument(""); const n=e.createElement("div"); n.appendChild(t); return n.innerHTML;}} class pb {constructor(t) {this.skipComments=true; this.domParser=new DOMParser; this.domConverter=new Fg(t,{renderingMode: "data"}); this.htmlWriter=new mb;}toData(t) {const e=this.domConverter.viewToDom(t); return this.htmlWriter.getHtml(e);}toView(t) {const e=this._toDom(t); return this.domConverter.domToView(e,{skipComments: this.skipComments});}registerRawContentMatcher(t) {this.domConverter.registerRawContentMatcher(t);}useFillerType(t) {this.domConverter.blockFillerMode=t=="marked"?"markedNbsp":"nbsp";}_toDom(t) {if (!t.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)) {t=`<body>${t}</body>`;} const e=this.domParser.parseFromString(t,"text/html"); const n=e.createDocumentFragment(); const o=e.body.childNodes; while (o.length>0) {n.appendChild(o[0]);} return n;}} class kb extends (G()) {constructor(t,e) {super(); this.model=t; this.mapper=new Km; this.downcastDispatcher=new Ym({mapper: this.mapper,schema: t.schema}); this.downcastDispatcher.on("insert:$text",_p(),{priority: "lowest"}); this.downcastDispatcher.on("insert",Cp(),{priority: "lowest"}); this.upcastDispatcher=new hb({schema: t.schema}); this.viewDocument=new Rh(e); this.stylesProcessor=e; this.htmlProcessor=new pb(this.viewDocument); this.processor=this.htmlProcessor; this._viewWriter=new Zh(this.viewDocument); this.upcastDispatcher.on("text",fk(),{priority: "lowest"}); this.upcastDispatcher.on("element",gk(),{priority: "lowest"}); this.upcastDispatcher.on("documentFragment",gk(),{priority: "lowest"}); gt().prototype.decorate.call(this,"init"); gt().prototype.decorate.call(this,"set"); gt().prototype.decorate.call(this,"get"); gt().prototype.decorate.call(this,"toView"); gt().prototype.decorate.call(this,"toModel"); this.on("init",(() => {this.fire("ready");}),{priority: "lowest"}); this.on("ready",(() => {this.model.enqueueChange({isUndoable: false},lk);}),{priority: "lowest"});}get(t={}) {const {rootName: e="main",trim: n="empty"}=t; if (!this._checkIfRootsExists([e])) {throw new V("datacontroller-get-non-existent-root",this);} const o=this.model.document.getRoot(e); if (!o.isAttached()) {M("datacontroller-get-detached-root",this);} if (n==="empty"&&!this.model.hasContent(o,{ignoreWhitespaces: true})) {return "";} return this.stringify(o,t);}stringify(t,e={}) {const n=this.toView(t,e); return this.processor.toData(n);}toView(t,e={}) {const n=this.viewDocument; const o=this._viewWriter; this.mapper.clearBindings(); const i=Gm._createIn(t); const r=new Gh(n); this.mapper.bindElements(t,r); const s=t.is("documentFragment")?t.markers:bb(t); this.downcastDispatcher.convert(i,s,o,e); return r;}init(t) {if (this.model.document.version) {throw new V("datacontroller-init-document-not-empty",this);} let e={}; if (typeof t==="string") {e.main=t;} else {e=t;} if (!this._checkIfRootsExists(Object.keys(e))) {throw new V("datacontroller-init-non-existent-root",this);} this.model.enqueueChange({isUndoable: false},(t => {for (const n of Object.keys(e)) {const o=this.model.document.getRoot(n); t.insert(this.parse(e[n],o),o,0);}})); return Promise.resolve();}set(t,e={}) {let n={}; if (typeof t==="string") {n.main=t;} else {n=t;} if (!this._checkIfRootsExists(Object.keys(n))) {throw new V("datacontroller-set-non-existent-root",this);} this.model.enqueueChange(e.batchType||{},(t => {t.setSelection(null); t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys()); for (const e of Object.keys(n)) {const o=this.model.document.getRoot(e); t.remove(t.createRangeIn(o)); t.insert(this.parse(n[e],o),o,0);}}));}parse(t,e="$root") {const n=this.processor.toView(t); return this.toModel(n,e);}toModel(t,e="$root") {return this.model.change((n => this.upcastDispatcher.convert(t,n,e)));}addStyleProcessorRules(t) {t(this.stylesProcessor);}registerRawContentMatcher(t) {if (this.processor&&this.processor!==this.htmlProcessor) {this.processor.registerRawContentMatcher(t);} this.htmlProcessor.registerRawContentMatcher(t);}destroy() {this.stopListening();}_checkIfRootsExists(t) {for (const e of t) {if (!this.model.document.getRoot(e)) {return false;}} return true;}} function bb(t) {const e=[]; const n=t.root.document; if (!n) {return new Map;} const o=Gm._createIn(t); for (const t of n.model.markers) {const n=t.getRange(); const i=n.isCollapsed; const r=n.start.isEqual(o.start)||n.end.isEqual(o.end); if (i&&r) {e.push([t.name,n]);} else {const i=o.getIntersection(n); if (i) {e.push([t.name,i]);}}}e.sort((([t,e],[n,o]) => {if (e.end.compareWith(o.start)!=="after") {return 1;} else if (e.start.compareWith(o.end)!=="before") {return -1;} switch (e.start.compareWith(o.start)) {case "before":return 1; case "after":return -1; default:switch (e.end.compareWith(o.end)) {case "before":return 1; case "after":return -1; default:return n.localeCompare(t);}}})); return new Map(e);} class wb {constructor(t,e) {this._helpers=new Map; this._downcast=rl(t); this._createConversionHelpers({name: "downcast",dispatchers: this._downcast,isDowncast: true}); this._upcast=rl(e); this._createConversionHelpers({name: "upcast",dispatchers: this._upcast,isDowncast: false});}addAlias(t,e) {const n=this._downcast.includes(e); const o=this._upcast.includes(e); if (!o&&!n) {throw new V("conversion-add-alias-dispatcher-not-registered",this);} this._createConversionHelpers({name: t,dispatchers: [e],isDowncast: n});}for(t) {if (!this._helpers.has(t)) {throw new V("conversion-for-unknown-group",this);} return this._helpers.get(t);}elementToElement(t) {this.for("downcast").elementToElement(t); for (const {model: e,view: n} of _b(t)) {this.for("upcast").elementToElement({model: e,view: n,converterPriority: t.converterPriority});}}attributeToElement(t) {this.for("downcast").attributeToElement(t); for (const {model: e,view: n} of _b(t)) {this.for("upcast").elementToAttribute({view: n,model: e,converterPriority: t.converterPriority});}}attributeToAttribute(t) {this.for("downcast").attributeToAttribute(t); for (const {model: e,view: n} of _b(t)) {this.for("upcast").attributeToAttribute({view: n,model: e});}}_createConversionHelpers({name: t,dispatchers: e,isDowncast: n}) {if (this._helpers.has(t)) {throw new V("conversion-group-exists",this);} const o=n?new wp(e):new hk(e); this._helpers.set(t,o);}} function*_b(t) {if (t.model.values) {for (const e of t.model.values) {const n={key: t.model.key,value: e}; const o=t.view[e]; const i=t.upcastAlso?t.upcastAlso[e]:undefined; yield*Cb(n,o,i);}} else {yield*Cb(t.model,t.view,t.upcastAlso);}} function*Cb(t,e,n) {yield {model: t,view: e}; if (n) {for (const e of rl(n)) {yield {model: t,view: e};}}} class Ab {constructor(t) {this.baseVersion=t; this.isDocumentOperation=this.baseVersion!==null; this.batch=null;}_validate() {}toJSON() {const t=Object.assign({},this); t.__className=this.constructor.className; delete t.batch; delete t.isDocumentOperation; return t;} static get className() {return "Operation";} static fromJSON(t,e) {return new this(t.baseVersion);}} function vb(t,e) {const n=Db(e); const o=n.reduce(((t,e) => t+e.offsetSize),0); const i=t.parent; Tb(t); const r=t.index; i._insertChild(r,n); Bb(i,r+n.length); Bb(i,r); return new Gm(t,t.getShiftedBy(o));} function yb(t) {if (!t.isFlat) {throw new V("operation-utils-remove-range-not-flat",this);} const e=t.start.parent; Tb(t.start); Tb(t.end); const n=e._removeChildren(t.start.index,t.end.index-t.start.index); Bb(e,t.start.index); return n;} function xb(t,e) {if (!t.isFlat) {throw new V("operation-utils-move-range-not-flat",this);} const n=yb(t); e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset); return vb(e,n);} function Eb(t,e,n) {Tb(t.start); Tb(t.end); for (const o of t.getItems({shallow: true})) {const t=o.is("$textProxy")?o.textNode:o; if (n!==null) {t._setAttribute(e,n);} else {t._removeAttribute(e);}Bb(t.parent,t.index);}Bb(t.end.parent,t.end.index);} function Db(t) {const e=[]; function n(t) {if (typeof t==="string") {e.push(new Vm(t));} else if (t instanceof Mm) {e.push(new Vm(t.data,t.getAttributes()));} else if (t instanceof Pm) {e.push(t);} else if (Dt(t)) {for (const e of t) {n(e);}} else {const e=t;}}n(t); for (let t=1; t<e.length; t++) {const n=e[t]; const o=e[t-1]; if (n instanceof Vm&&o instanceof Vm&&Sb(n,o)) {e.splice(t-1,2,new Vm(o.data+n.data,o.getAttributes())); t--;}} return e;} function Bb(t,e) {const n=t.getChild(e-1); const o=t.getChild(e); if (n&&o&&n.is("$text")&&o.is("$text")&&Sb(n,o)) {const i=new Vm(n.data+o.data,n.getAttributes()); t._removeChildren(e-1,2); t._insertChild(e-1,i);}} function Tb(t) {const e=t.textNode; const n=t.parent; if (e) {const o=t.offset-e.startOffset; const i=e.index; n._removeChildren(i,1); const r=new Vm(e.data.substr(0,o),e.getAttributes()); const s=new Vm(e.data.substr(o),e.getAttributes()); n._insertChild(i,[r,s]);}} function Sb(t,e) {const n=t.getAttributes(); const o=e.getAttributes(); for (const t of n) {if (t[1]!==e.getAttribute(t[0])) {return false;}o.next();} return o.next().done;} class Ib extends Ab {constructor(t,e,n,o) {super(o); this.sourcePosition=t.clone(); this.sourcePosition.stickiness="toNext"; this.howMany=e; this.targetPosition=n.clone(); this.targetPosition.stickiness="toNone";} get type() {if (this.targetPosition.root.rootName=="$graveyard") {return "remove";} else if (this.sourcePosition.root.rootName=="$graveyard") {return "reinsert";} return "move";} get affectedSelectable() {return [Gm._createFromPositionAndShift(this.sourcePosition,this.howMany),Gm._createFromPositionAndShift(this.targetPosition,0)];}clone() {return new Ib(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion);}getMovedRangeStart() {return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany);}getReversed() {const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany); return new Ib(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1);}_validate() {const t=this.sourcePosition.parent; const e=this.targetPosition.parent; const n=this.sourcePosition.offset; const o=this.targetPosition.offset; if (n+this.howMany>t.maxOffset) {throw new V("move-operation-nodes-do-not-exist",this);} else if (t===e&&n<o&&o<n+this.howMany) {throw new V("move-operation-range-into-itself",this);} else if (this.sourcePosition.root==this.targetPosition.root) {if (Et(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix") {const t=this.sourcePosition.path.length-1; if (this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany) {throw new V("move-operation-node-into-itself",this);}}}}_execute() {xb(Gm._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition);}toJSON() {const t=super.toJSON(); t.sourcePosition=this.sourcePosition.toJSON(); t.targetPosition=this.targetPosition.toJSON(); return t;} static get className() {return "MoveOperation";} static fromJSON(t,e) {const n=Lm.fromJSON(t.sourcePosition,e); const o=Lm.fromJSON(t.targetPosition,e); return new this(n,t.howMany,o,t.baseVersion);}} class Pb extends Ab {constructor(t,e,n) {super(n); this.position=t.clone(); this.position.stickiness="toNone"; this.nodes=new Rm(Db(e)); this.shouldReceiveAttributes=false;} get type() {return "insert";} get howMany() {return this.nodes.maxOffset;} get affectedSelectable() {return this.position.clone();}clone() {const t=new Rm([...this.nodes].map((t => t._clone(true)))); const e=new Pb(this.position,t,this.baseVersion); e.shouldReceiveAttributes=this.shouldReceiveAttributes; return e;}getReversed() {const t=this.position.root.document.graveyard; const e=new Lm(t,[0]); return new Ib(this.position,this.nodes.maxOffset,e,this.baseVersion+1);}_validate() {const t=this.position.parent; if (!t||t.maxOffset<this.position.offset) {throw new V("insert-operation-position-invalid",this);}}_execute() {const t=this.nodes; this.nodes=new Rm([...t].map((t => t._clone(true)))); vb(this.position,t);}toJSON() {const t=super.toJSON(); t.position=this.position.toJSON(); t.nodes=this.nodes.toJSON(); return t;} static get className() {return "InsertOperation";} static fromJSON(t,e) {const n=[]; for (const e of t.nodes) {if (e.name) {n.push(Fm.fromJSON(e));} else {n.push(Vm.fromJSON(e));}} const o=new Pb(Lm.fromJSON(t.position,e),n,t.baseVersion); o.shouldReceiveAttributes=t.shouldReceiveAttributes; return o;}} class Rb extends Ab {constructor(t,e,n,o,i) {super(i); this.splitPosition=t.clone(); this.splitPosition.stickiness="toNext"; this.howMany=e; this.insertionPosition=n; this.graveyardPosition=o?o.clone():null; if (this.graveyardPosition) {this.graveyardPosition.stickiness="toNext";}} get type() {return "split";} get moveTargetPosition() {const t=this.insertionPosition.path.slice(); t.push(0); return new Lm(this.insertionPosition.root,t);} get movedRange() {const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY); return new Gm(this.splitPosition,t);} get affectedSelectable() {const t=[Gm._createFromPositionAndShift(this.splitPosition,0),Gm._createFromPositionAndShift(this.insertionPosition,0)]; if (this.graveyardPosition) {t.push(Gm._createFromPositionAndShift(this.graveyardPosition,0));} return t;}clone() {return new Rb(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion);}getReversed() {const t=this.splitPosition.root.document.graveyard; const e=new Lm(t,[0]); return new Vb(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1);}_validate() {const t=this.splitPosition.parent; const e=this.splitPosition.offset; if (!t||t.maxOffset<e) {throw new V("split-operation-position-invalid",this);} else if (!t.parent) {throw new V("split-operation-split-in-root",this);} else if (this.howMany!=t.maxOffset-this.splitPosition.offset) {throw new V("split-operation-how-many-invalid",this);} else if (this.graveyardPosition&&!this.graveyardPosition.nodeAfter) {throw new V("split-operation-graveyard-position-invalid",this);}}_execute() {const t=this.splitPosition.parent; if (this.graveyardPosition) {xb(Gm._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);} else {const e=t._clone(); vb(this.insertionPosition,e);} const e=new Gm(Lm._createAt(t,this.splitPosition.offset),Lm._createAt(t,t.maxOffset)); xb(e,this.moveTargetPosition);}toJSON() {const t=super.toJSON(); t.splitPosition=this.splitPosition.toJSON(); t.insertionPosition=this.insertionPosition.toJSON(); if (this.graveyardPosition) {t.graveyardPosition=this.graveyardPosition.toJSON();} return t;} static get className() {return "SplitOperation";} static getInsertionPosition(t) {const e=t.path.slice(0,-1); e[e.length-1]++; return new Lm(t.root,e,"toPrevious");} static fromJSON(t,e) {const n=Lm.fromJSON(t.splitPosition,e); const o=Lm.fromJSON(t.insertionPosition,e); const i=t.graveyardPosition?Lm.fromJSON(t.graveyardPosition,e):null; return new this(n,t.howMany,o,i,t.baseVersion);}} class Vb extends Ab {constructor(t,e,n,o,i) {super(i); this.sourcePosition=t.clone(); this.sourcePosition.stickiness="toPrevious"; this.howMany=e; this.targetPosition=n.clone(); this.targetPosition.stickiness="toNext"; this.graveyardPosition=o.clone();} get type() {return "merge";} get deletionPosition() {return new Lm(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1));} get movedRange() {const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY); return new Gm(this.sourcePosition,t);} get affectedSelectable() {const t=this.sourcePosition.parent; return [Gm._createOn(t),Gm._createFromPositionAndShift(this.targetPosition,0),Gm._createFromPositionAndShift(this.graveyardPosition,0)];}clone() {return new Vb(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion);}getReversed() {const t=this.targetPosition._getTransformedByMergeOperation(this); const e=this.sourcePosition.path.slice(0,-1); const n=new Lm(this.sourcePosition.root,e)._getTransformedByMergeOperation(this); return new Rb(t,this.howMany,n,this.graveyardPosition,this.baseVersion+1);}_validate() {const t=this.sourcePosition.parent; const e=this.targetPosition.parent; if (!t.parent) {throw new V("merge-operation-source-position-invalid",this);} else if (!e.parent) {throw new V("merge-operation-target-position-invalid",this);} else if (this.howMany!=t.maxOffset) {throw new V("merge-operation-how-many-invalid",this);}}_execute() {const t=this.sourcePosition.parent; const e=Gm._createIn(t); xb(e,this.targetPosition); xb(Gm._createOn(t),this.graveyardPosition);}toJSON() {const t=super.toJSON(); t.sourcePosition=t.sourcePosition.toJSON(); t.targetPosition=t.targetPosition.toJSON(); t.graveyardPosition=t.graveyardPosition.toJSON(); return t;} static get className() {return "MergeOperation";} static fromJSON(t,e) {const n=Lm.fromJSON(t.sourcePosition,e); const o=Lm.fromJSON(t.targetPosition,e); const i=Lm.fromJSON(t.graveyardPosition,e); return new this(n,t.howMany,o,i,t.baseVersion);}} class Mb extends Ab {constructor(t,e,n,o,i,r) {super(r); this.name=t; this.oldRange=e?e.clone():null; this.newRange=n?n.clone():null; this.affectsData=i; this._markers=o;} get type() {return "marker";} get affectedSelectable() {const t=[]; if (this.oldRange) {t.push(this.oldRange.clone());} if (this.newRange) {if (this.oldRange) {t.push(...this.newRange.getDifference(this.oldRange));} else {t.push(this.newRange.clone());}} return t;}clone() {return new Mb(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion);}getReversed() {return new Mb(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1);}_execute() {if (this.newRange) {this._markers._set(this.name,this.newRange,true,this.affectsData);} else {this._markers._remove(this.name);}}toJSON() {const t=super.toJSON(); if (this.oldRange) {t.oldRange=this.oldRange.toJSON();} if (this.newRange) {t.newRange=this.newRange.toJSON();} delete t._markers; return t;} static get className() {return "MarkerOperation";} static fromJSON(t,e) {return new Mb(t.name,t.oldRange?Gm.fromJSON(t.oldRange,e):null,t.newRange?Gm.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion);}} function Fb(t,e) {return gm(t,e);} const Ob=Fb; class zb extends Ab {constructor(t,e,n,o,i) {super(i); this.range=t.clone(); this.key=e; this.oldValue=n===undefined?null:n; this.newValue=o===undefined?null:o;} get type() {if (this.oldValue===null) {return "addAttribute";} else if (this.newValue===null) {return "removeAttribute";} return "changeAttribute";} get affectedSelectable() {return this.range.clone();}clone() {return new zb(this.range,this.key,this.oldValue,this.newValue,this.baseVersion);}getReversed() {return new zb(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1);}toJSON() {const t=super.toJSON(); t.range=this.range.toJSON(); return t;}_validate() {if (!this.range.isFlat) {throw new V("attribute-operation-range-not-flat",this);} for (const t of this.range.getItems({shallow: true})) {if (this.oldValue!==null&&!Ob(t.getAttribute(this.key),this.oldValue)) {throw new V("attribute-operation-wrong-old-value",this,{item: t,key: this.key,value: this.oldValue});} if (this.oldValue===null&&this.newValue!==null&&t.hasAttribute(this.key)) {throw new V("attribute-operation-attribute-exists",this,{node: t,key: this.key});}}}_execute() {if (!Ob(this.oldValue,this.newValue)) {Eb(this.range,this.key,this.newValue);}} static get className() {return "AttributeOperation";} static fromJSON(t,e) {return new zb(Gm.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion);}} class Nb extends Ab {get type() {return "noop";} get affectedSelectable() {return null;}clone() {return new Nb(this.baseVersion);}getReversed() {return new Nb(this.baseVersion+1);}_execute() {} static get className() {return "NoOperation";}} class Lb extends Ab {constructor(t,e,n,o) {super(o); this.position=t; this.position.stickiness="toNext"; this.oldName=e; this.newName=n;} get type() {return "rename";} get affectedSelectable() {return this.position.nodeAfter;}clone() {return new Lb(this.position.clone(),this.oldName,this.newName,this.baseVersion);}getReversed() {return new Lb(this.position.clone(),this.newName,this.oldName,this.baseVersion+1);}_validate() {const t=this.position.nodeAfter; if (!(t instanceof Fm)) {throw new V("rename-operation-wrong-position",this);} else if (t.name!==this.oldName) {throw new V("rename-operation-wrong-name",this);}}_execute() {const t=this.position.nodeAfter; t.name=this.newName;}toJSON() {const t=super.toJSON(); t.position=this.position.toJSON(); return t;} static get className() {return "RenameOperation";} static fromJSON(t,e) {return new Lb(Lm.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion);}} class Hb extends Ab {constructor(t,e,n,o,i) {super(i); this.root=t; this.key=e; this.oldValue=n===undefined?null:n; this.newValue=o===undefined?null:o;} get type() {if (this.oldValue===null) {return "addRootAttribute";} else if (this.newValue===null) {return "removeRootAttribute";} return "changeRootAttribute";} get affectedSelectable() {return this.root;}clone() {return new Hb(this.root,this.key,this.oldValue,this.newValue,this.baseVersion);}getReversed() {return new Hb(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1);}_validate() {if (this.root!=this.root.root||this.root.is("documentFragment")) {throw new V("rootattribute-operation-not-a-root",this,{root: this.root,key: this.key});} if (this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue) {throw new V("rootattribute-operation-wrong-old-value",this,{root: this.root,key: this.key});} if (this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key)) {throw new V("rootattribute-operation-attribute-exists",this,{root: this.root,key: this.key});}}_execute() {if (this.newValue!==null) {this.root._setAttribute(this.key,this.newValue);} else {this.root._removeAttribute(this.key);}}toJSON() {const t=super.toJSON(); t.root=this.root.toJSON(); return t;} static get className() {return "RootAttributeOperation";} static fromJSON(t,e) {if (!e.getRoot(t.root)) {throw new V("rootattribute-operation-fromjson-no-root",this,{rootName: t.root});} return new Hb(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion);}} class jb extends Ab {constructor(t,e,n,o,i) {super(i); this.rootName=t; this.elementName=e; this.isAdd=n; this._document=o; if (!this._document.getRoot(this.rootName)) {const t=this._document.createRoot(this.elementName,this.rootName); t._isAttached=false;}} get type() {return this.isAdd?"addRoot":"detachRoot";} get affectedSelectable() {return this._document.getRoot(this.rootName);}clone() {return new jb(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion);}getReversed() {return new jb(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1);}_execute() {this._document.getRoot(this.rootName)._isAttached=this.isAdd;}toJSON() {const t=super.toJSON(); delete t._document; return t;} static get className() {return "RootOperation";} static fromJSON(t,e) {return new jb(t.rootName,t.elementName,t.isAdd,e,t.baseVersion);}} const Wb={}; Wb[zb.className]=zb; Wb[Pb.className]=Pb; Wb[Mb.className]=Mb; Wb[Ib.className]=Ib; Wb[Nb.className]=Nb; Wb[Ab.className]=Ab; Wb[Lb.className]=Lb; Wb[Hb.className]=Hb; Wb[jb.className]=jb; Wb[Rb.className]=Rb; Wb[Vb.className]=Vb; class qb {static fromJSON(t,e) {return Wb[t.__className].fromJSON(t,e);}} const Ub=new Map; function $b(t,e,n) {let o=Ub.get(t); if (!o) {o=new Map; Ub.set(t,o);}o.set(e,n);} function Gb(t,e) {const n=Ub.get(t); if (n&&n.has(e)) {return n.get(e);} return Kb;} function Kb(t) {return [t];} function Zb(t,e,n={}) {const o=Gb(t.constructor,e.constructor); try {t=t.clone(); return o(t,e,n);} catch (t) {throw t;}} function Jb(t,e,n) {t=t.slice(); e=e.slice(); const o=new Yb(n.document,n.useRelations,n.forceWeakRemove); o.setOriginalOperations(t); o.setOriginalOperations(e); const i=o.originalOperations; if (t.length==0||e.length==0) {return {operationsA: t,operationsB: e,originalOperations: i};} const r=new WeakMap; for (const e of t) {r.set(e,0);} const s={nextBaseVersionA: t[t.length-1].baseVersion+1,nextBaseVersionB: e[e.length-1].baseVersion+1,originalOperationsACount: t.length,originalOperationsBCount: e.length}; let a=0; while (a<t.length) {const n=t[a]; const i=r.get(n); if (i==e.length) {a++; continue;} const s=e[i]; const c=Zb(n,s,o.getContext(n,s,true)); const l=Zb(s,n,o.getContext(s,n,false)); o.updateRelation(n,s); o.setOriginalOperations(c,n); o.setOriginalOperations(l,s); for (const t of c) {r.set(t,i+l.length);}t.splice(a,1,...c); e.splice(i,1,...l);} if (n.padWithNoOps) {const n=t.length-s.originalOperationsACount; const o=e.length-s.originalOperationsBCount; Xb(t,o-n); Xb(e,n-o);}Qb(t,s.nextBaseVersionB); Qb(e,s.nextBaseVersionA); return {operationsA: t,operationsB: e,originalOperations: i};} class Yb {constructor(t,e,n=false) {this.originalOperations=new Map; this._history=t.history; this._useRelations=e; this._forceWeakRemove=!!n; this._relations=new Map;}setOriginalOperations(t,e=null) {const n=e?this.originalOperations.get(e):null; for (const e of t) {this.originalOperations.set(e,n||e);}}updateRelation(t,e) {if (t instanceof Ib) {if (e instanceof Vb) {if (t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)) {this._setRelation(t,e,"insertAtSource");} else if (t.targetPosition.isEqual(e.deletionPosition)) {this._setRelation(t,e,"insertBetween");} else if (t.targetPosition.isAfter(e.sourcePosition)) {this._setRelation(t,e,"moveTargetAfter");}} else if (e instanceof Ib) {if (t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)) {this._setRelation(t,e,"insertBefore");} else {this._setRelation(t,e,"insertAfter");}}} else if (t instanceof Rb) {if (e instanceof Vb) {if (t.splitPosition.isBefore(e.sourcePosition)) {this._setRelation(t,e,"splitBefore");}} else if (e instanceof Ib) {if (t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition)) {this._setRelation(t,e,"splitBefore");} else {const n=Gm._createFromPositionAndShift(e.sourcePosition,e.howMany); if (t.splitPosition.hasSameParentAs(e.sourcePosition)&&n.containsPosition(t.splitPosition)) {const o=n.end.offset-t.splitPosition.offset; const i=t.splitPosition.offset-n.start.offset; this._setRelation(t,e,{howMany: o,offset: i});}}}} else if (t instanceof Vb) {if (e instanceof Vb) {if (!t.targetPosition.isEqual(e.sourcePosition)) {this._setRelation(t,e,"mergeTargetNotMoved");} if (t.sourcePosition.isEqual(e.targetPosition)) {this._setRelation(t,e,"mergeSourceNotMoved");} if (t.sourcePosition.isEqual(e.sourcePosition)) {this._setRelation(t,e,"mergeSameElement");}} else if (e instanceof Rb) {if (t.sourcePosition.isEqual(e.splitPosition)) {this._setRelation(t,e,"splitAtSource");}} else if (e instanceof Ib&&e.howMany>0) {if (t.sourcePosition.isEqual(e.sourcePosition.getShiftedBy(e.howMany))) {this._setRelation(t,e,"mergeSourceAffected");} if (t.targetPosition.isEqual(e.sourcePosition)) {this._setRelation(t,e,"mergeTargetWasBefore");}}} else if (t instanceof Mb) {const n=t.newRange; if (!n) {return;} if (e instanceof Ib) {const o=Gm._createFromPositionAndShift(e.sourcePosition,e.howMany); const i=o.containsPosition(n.start)||o.start.isEqual(n.start); const r=o.containsPosition(n.end)||o.end.isEqual(n.end); if ((i||r)&&!o.containsRange(n)) {this._setRelation(t,e,{side: i?"left":"right",path: i?n.start.path.slice():n.end.path.slice()});}} else if (e instanceof Vb) {const o=n.start.isEqual(e.targetPosition); const i=n.start.isEqual(e.deletionPosition); const r=n.end.isEqual(e.deletionPosition); const s=n.end.isEqual(e.sourcePosition); if (o||i||r||s) {this._setRelation(t,e,{wasInLeftElement: o,wasStartBeforeMergedElement: i,wasEndBeforeMergedElement: r,wasInRightElement: s});}}}}getContext(t,e,n) {return {aIsStrong: n,aWasUndone: this._wasUndone(t),bWasUndone: this._wasUndone(e),abRelation: this._useRelations?this._getRelation(t,e):null,baRelation: this._useRelations?this._getRelation(e,t):null,forceWeakRemove: this._forceWeakRemove};}_wasUndone(t) {const e=this.originalOperations.get(t); return e.wasUndone||this._history.isUndoneOperation(e);}_getRelation(t,e) {const n=this.originalOperations.get(e); const o=this._history.getUndoneOperation(n); if (!o) {return null;} const i=this.originalOperations.get(t); const r=this._relations.get(i); if (r) {return r.get(o)||null;} return null;}_setRelation(t,e,n) {const o=this.originalOperations.get(t); const i=this.originalOperations.get(e); let r=this._relations.get(o); if (!r) {r=new Map; this._relations.set(o,r);}r.set(i,n);}} function Qb(t,e) {for (const n of t) {n.baseVersion=e++;}} function Xb(t,e) {for (let n=0; n<e; n++) {t.push(new Nb(0));}}$b(zb,zb,((t,e,n) => {if (t.key===e.key&&t.range.start.hasSameParentAs(e.range.start)) {const o=t.range.getDifference(e.range).map((e => new zb(e,t.key,t.oldValue,t.newValue,0))); const i=t.range.getIntersection(e.range); if (i) {if (n.aIsStrong) {o.push(new zb(i,e.key,e.newValue,t.newValue,0));}} if (o.length==0) {return [new Nb(0)];} return o;} return [t];})); $b(zb,Pb,((t,e) => {if (t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)) {const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes); const o=n.map((e => new zb(e,t.key,t.oldValue,t.newValue,t.baseVersion))); if (e.shouldReceiveAttributes) {const n=tw(e,t.key,t.oldValue); if (n) {o.unshift(n);}} return o;}t.range=t.range._getTransformedByInsertion(e.position,e.howMany,false)[0]; return [t];})); function tw(t,e,n) {const o=t.nodes; const i=o.getNode(0).getAttribute(e); if (i==n) {return null;} const r=new Gm(t.position,t.position.getShiftedBy(t.howMany)); return new zb(r,e,i,n,0);}$b(zb,Vb,((t,e) => {const n=[]; if (t.range.start.hasSameParentAs(e.deletionPosition)) {if (t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition)) {n.push(Gm._createFromPositionAndShift(e.graveyardPosition,1));}} const o=t.range._getTransformedByMergeOperation(e); if (!o.isCollapsed) {n.push(o);} return n.map((e => new zb(e,t.key,t.oldValue,t.newValue,t.baseVersion)));})); $b(zb,Ib,((t,e) => {const n=ew(t.range,e); return n.map((e => new zb(e,t.key,t.oldValue,t.newValue,t.baseVersion)));})); function ew(t,e) {const n=Gm._createFromPositionAndShift(e.sourcePosition,e.howMany); let o=null; let i=[]; if (n.containsRange(t,true)) {o=t;} else if (t.start.hasSameParentAs(n.start)) {i=t.getDifference(n); o=t.getIntersection(n);} else {i=[t];} const r=[]; for (let t of i) {t=t._getTransformedByDeletion(e.sourcePosition,e.howMany); const n=e.getMovedRangeStart(); const o=t.start.hasSameParentAs(n); const i=t._getTransformedByInsertion(n,e.howMany,o); r.push(...i);} if (o) {r.push(o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,false)[0]);} return r;}$b(zb,Rb,((t,e) => {if (t.range.end.isEqual(e.insertionPosition)) {if (!e.graveyardPosition) {t.range.end.offset++;} return [t];} if (t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)) {const n=t.clone(); n.range=new Gm(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)); t.range.end=e.splitPosition.clone(); t.range.end.stickiness="toPrevious"; return [t,n];}t.range=t.range._getTransformedBySplitOperation(e); return [t];})); $b(Pb,zb,((t,e) => {const n=[t]; if (t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)) {const o=tw(t,e.key,e.newValue); if (o) {n.push(o);}} return n;})); $b(Pb,Pb,((t,e,n) => {if (t.position.isEqual(e.position)&&n.aIsStrong) {return [t];}t.position=t.position._getTransformedByInsertOperation(e); return [t];})); $b(Pb,Ib,((t,e) => {t.position=t.position._getTransformedByMoveOperation(e); return [t];})); $b(Pb,Rb,((t,e) => {t.position=t.position._getTransformedBySplitOperation(e); return [t];})); $b(Pb,Vb,((t,e) => {t.position=t.position._getTransformedByMergeOperation(e); return [t];})); $b(Mb,Pb,((t,e) => {if (t.oldRange) {t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0];} if (t.newRange) {t.newRange=t.newRange._getTransformedByInsertOperation(e)[0];} return [t];})); $b(Mb,Mb,((t,e,n) => {if (t.name==e.name) {if (n.aIsStrong) {t.oldRange=e.newRange?e.newRange.clone():null;} else {return [new Nb(0)];}} return [t];})); $b(Mb,Vb,((t,e) => {if (t.oldRange) {t.oldRange=t.oldRange._getTransformedByMergeOperation(e);} if (t.newRange) {t.newRange=t.newRange._getTransformedByMergeOperation(e);} return [t];})); $b(Mb,Ib,((t,e,n) => {if (t.oldRange) {t.oldRange=Gm._createFromRanges(t.oldRange._getTransformedByMoveOperation(e));} if (t.newRange) {if (n.abRelation) {const o=Gm._createFromRanges(t.newRange._getTransformedByMoveOperation(e)); if (n.abRelation.side=="left"&&e.targetPosition.isEqual(t.newRange.start)) {t.newRange.end=o.end; t.newRange.start.path=n.abRelation.path; return [t];} else if (n.abRelation.side=="right"&&e.targetPosition.isEqual(t.newRange.end)) {t.newRange.start=o.start; t.newRange.end.path=n.abRelation.path; return [t];}}t.newRange=Gm._createFromRanges(t.newRange._getTransformedByMoveOperation(e));} return [t];})); $b(Mb,Rb,((t,e,n) => {if (t.oldRange) {t.oldRange=t.oldRange._getTransformedBySplitOperation(e);} if (t.newRange) {if (n.abRelation) {const o=t.newRange._getTransformedBySplitOperation(e); if (t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement) {t.newRange.start=Lm._createAt(e.insertionPosition);} else if (t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement) {t.newRange.start=Lm._createAt(e.moveTargetPosition);} if (t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement) {t.newRange.end=Lm._createAt(e.moveTargetPosition);} else if (t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement) {t.newRange.end=Lm._createAt(e.insertionPosition);} else {t.newRange.end=o.end;} return [t];}t.newRange=t.newRange._getTransformedBySplitOperation(e);} return [t];})); $b(Vb,Pb,((t,e) => {if (t.sourcePosition.hasSameParentAs(e.position)) {t.howMany+=e.howMany;}t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e); t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e); return [t];})); $b(Vb,Vb,((t,e,n) => {if (t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)) {if (!n.bWasUndone) {return [new Nb(0)];} else {const n=e.graveyardPosition.path.slice(); n.push(0); t.sourcePosition=new Lm(e.graveyardPosition.root,n); t.howMany=0; return [t];}} if (t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&n.abRelation!="splitAtSource") {const o=t.targetPosition.root.rootName=="$graveyard"; const i=e.targetPosition.root.rootName=="$graveyard"; const r=o&&!i; const s=i&&!o; const a=s||!r&&n.aIsStrong; if (a) {const n=e.targetPosition._getTransformedByMergeOperation(e); const o=t.targetPosition._getTransformedByMergeOperation(e); return [new Ib(n,t.howMany,o,0)];} return [new Nb(0)];} if (t.sourcePosition.hasSameParentAs(e.targetPosition)) {t.howMany+=e.howMany;}t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e); t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e); if (!t.graveyardPosition.isEqual(e.graveyardPosition)||!n.aIsStrong) {t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e);} return [t];})); $b(Vb,Ib,((t,e,n) => {const o=Gm._createFromPositionAndShift(e.sourcePosition,e.howMany); if (e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove) {if (t.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(t.sourcePosition)) {return [new Nb(0)];}} if (e.sourcePosition.getShiftedBy(e.howMany).isEqual(t.sourcePosition)) {t.sourcePosition.stickiness="toNone";} else if (e.targetPosition.isEqual(t.sourcePosition)&&n.abRelation=="mergeSourceAffected") {t.sourcePosition.stickiness="toNext";} else if (e.sourcePosition.isEqual(t.targetPosition)) {t.targetPosition.stickiness="toNone"; t.howMany-=e.howMany;} else if (e.targetPosition.isEqual(t.targetPosition)&&n.abRelation=="mergeTargetWasBefore") {t.targetPosition.stickiness="toPrevious"; t.howMany+=e.howMany;} else {if (t.sourcePosition.hasSameParentAs(e.targetPosition)) {t.howMany+=e.howMany;} if (t.sourcePosition.hasSameParentAs(e.sourcePosition)) {t.howMany-=e.howMany;}}t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e); t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e); t.sourcePosition.stickiness="toPrevious"; t.targetPosition.stickiness="toNext"; if (!t.graveyardPosition.isEqual(e.targetPosition)) {t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e);} return [t];})); $b(Vb,Rb,((t,e,n) => {if (e.graveyardPosition) {t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1); if (t.deletionPosition.isEqual(e.graveyardPosition)) {t.howMany=e.howMany;}} if (t.targetPosition.isEqual(e.splitPosition)) {const o=e.howMany!=0; const i=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition); if (o||i||n.abRelation=="mergeTargetNotMoved") {t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e); return [t];}} if (t.sourcePosition.isEqual(e.splitPosition)) {if (n.abRelation=="mergeSourceNotMoved") {t.howMany=0; t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e); return [t];} if (n.abRelation=="mergeSameElement"||t.sourcePosition.offset>0) {t.sourcePosition=e.moveTargetPosition.clone(); t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e); return [t];}} if (t.sourcePosition.hasSameParentAs(e.splitPosition)) {t.howMany=e.splitPosition.offset;}t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e); t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e); return [t];})); $b(Ib,Pb,((t,e) => {const n=Gm._createFromPositionAndShift(t.sourcePosition,t.howMany); const o=n._getTransformedByInsertOperation(e,false)[0]; t.sourcePosition=o.start; t.howMany=o.end.offset-o.start.offset; if (!t.targetPosition.isEqual(e.position)) {t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e);} return [t];})); $b(Ib,Ib,((t,e,n) => {const o=Gm._createFromPositionAndShift(t.sourcePosition,t.howMany); const i=Gm._createFromPositionAndShift(e.sourcePosition,e.howMany); let r=n.aIsStrong; let s=!n.aIsStrong; if (n.abRelation=="insertBefore"||n.baRelation=="insertAfter") {s=true;} else if (n.abRelation=="insertAfter"||n.baRelation=="insertBefore") {s=false;} let a; if (t.targetPosition.isEqual(e.targetPosition)&&s) {a=t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany);} else {a=t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany);} if (nw(t,e)&&nw(e,t)) {return [e.getReversed()];} const c=o.containsPosition(e.targetPosition); if (c&&o.containsRange(i,true)) {o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany); o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany); return ow([o],a);} const l=i.containsPosition(t.targetPosition); if (l&&i.containsRange(o,true)) {o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()); o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()); return ow([o],a);} const d=Et(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath()); if (d=="prefix"||d=="extension") {o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany); o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany); return ow([o],a);} if (t.type=="remove"&&e.type!="remove"&&!n.aWasUndone&&!n.forceWeakRemove) {r=true;} else if (t.type!="remove"&&e.type=="remove"&&!n.bWasUndone&&!n.forceWeakRemove) {r=false;} const u=[]; const h=o.getDifference(i); for (const t of h) {t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany); t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany); const n=Et(t.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same"; const o=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,n); u.push(...o);} const g=o.getIntersection(i); if (g!==null&&r) {g.start=g.start._getCombined(e.sourcePosition,e.getMovedRangeStart()); g.end=g.end._getCombined(e.sourcePosition,e.getMovedRangeStart()); if (u.length===0) {u.push(g);} else if (u.length==1) {if (i.start.isBefore(o.start)||i.start.isEqual(o.start)) {u.unshift(g);} else {u.push(g);}} else {u.splice(1,0,g);}} if (u.length===0) {return [new Nb(t.baseVersion)];} return ow(u,a);})); $b(Ib,Rb,((t,e,n) => {let o=t.targetPosition.clone(); if (!t.targetPosition.isEqual(e.insertionPosition)||!e.graveyardPosition||n.abRelation=="moveTargetAfter") {o=t.targetPosition._getTransformedBySplitOperation(e);} const i=Gm._createFromPositionAndShift(t.sourcePosition,t.howMany); if (i.end.isEqual(e.insertionPosition)) {if (!e.graveyardPosition) {t.howMany++;}t.targetPosition=o; return [t];} if (i.start.hasSameParentAs(e.splitPosition)&&i.containsPosition(e.splitPosition)) {let t=new Gm(e.splitPosition,i.end); t=t._getTransformedBySplitOperation(e); const n=[new Gm(i.start,e.splitPosition),t]; return ow(n,o);} if (t.targetPosition.isEqual(e.splitPosition)&&n.abRelation=="insertAtSource") {o=e.moveTargetPosition;} if (t.targetPosition.isEqual(e.insertionPosition)&&n.abRelation=="insertBetween") {o=t.targetPosition;} const r=i._getTransformedBySplitOperation(e); const s=[r]; if (e.graveyardPosition) {const o=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition); if (t.howMany>1&&o&&!n.aWasUndone) {s.push(Gm._createFromPositionAndShift(e.insertionPosition,1));}} return ow(s,o);})); $b(Ib,Vb,((t,e,n) => {const o=Gm._createFromPositionAndShift(t.sourcePosition,t.howMany); if (e.deletionPosition.hasSameParentAs(t.sourcePosition)&&o.containsPosition(e.sourcePosition)) {if (t.type=="remove"&&!n.forceWeakRemove) {if (!n.aWasUndone) {const n=[]; let o=e.graveyardPosition.clone(); let i=e.targetPosition._getTransformedByMergeOperation(e); if (t.howMany>1) {n.push(new Ib(t.sourcePosition,t.howMany-1,t.targetPosition,0)); o=o._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1); i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1);} const r=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition); const s=new Ib(o,1,r,0); const a=s.getMovedRangeStart().path.slice(); a.push(0); const c=new Lm(s.targetPosition.root,a); i=i._getTransformedByMove(o,r,1); const l=new Ib(i,e.howMany,c,0); n.push(s); n.push(l); return n;}} else if (t.howMany==1) {if (!n.bWasUndone) {return [new Nb(0)];}t.sourcePosition=e.graveyardPosition.clone(); t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e); return [t];}} const i=Gm._createFromPositionAndShift(t.sourcePosition,t.howMany); const r=i._getTransformedByMergeOperation(e); t.sourcePosition=r.start; t.howMany=r.end.offset-r.start.offset; t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e); return [t];})); $b(Lb,Pb,((t,e) => {t.position=t.position._getTransformedByInsertOperation(e); return [t];})); $b(Lb,Vb,((t,e) => {if (t.position.isEqual(e.deletionPosition)) {t.position=e.graveyardPosition.clone(); t.position.stickiness="toNext"; return [t];}t.position=t.position._getTransformedByMergeOperation(e); return [t];})); $b(Lb,Ib,((t,e) => {t.position=t.position._getTransformedByMoveOperation(e); return [t];})); $b(Lb,Lb,((t,e,n) => {if (t.position.isEqual(e.position)) {if (n.aIsStrong) {t.oldName=e.newName;} else {return [new Nb(0)];}} return [t];})); $b(Lb,Rb,((t,e) => {const n=t.position.path; const o=e.splitPosition.getParentPath(); if (Et(n,o)=="same"&&!e.graveyardPosition) {const e=new Lb(t.position.getShiftedBy(1),t.oldName,t.newName,0); return [t,e];}t.position=t.position._getTransformedBySplitOperation(e); return [t];})); $b(Hb,Hb,((t,e,n) => {if (t.root===e.root&&t.key===e.key) {if (!n.aIsStrong||t.newValue===e.newValue) {return [new Nb(0)];}t.oldValue=e.newValue;} return [t];})); $b(jb,jb,((t,e) => {if (t.rootName===e.rootName&&t.isAdd===e.isAdd) {return [new Nb(0)];} return [t];})); $b(Rb,Pb,((t,e) => {if (t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset) {t.howMany+=e.howMany;}t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e); t.insertionPosition=t.insertionPosition._getTransformedByInsertOperation(e); return [t];})); $b(Rb,Vb,((t,e,n) => {if (!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)) {const n=e.graveyardPosition.path.slice(); n.push(0); const o=new Lm(e.graveyardPosition.root,n); const i=Rb.getInsertionPosition(new Lm(e.graveyardPosition.root,n)); const r=new Rb(o,0,i,null,0); t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e); t.insertionPosition=Rb.getInsertionPosition(t.splitPosition); t.graveyardPosition=r.insertionPosition.clone(); t.graveyardPosition.stickiness="toNext"; return [r,t];} if (t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)) {t.howMany--;} if (t.splitPosition.hasSameParentAs(e.targetPosition)) {t.howMany+=e.howMany;}t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e); t.insertionPosition=Rb.getInsertionPosition(t.splitPosition); if (t.graveyardPosition) {t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e);} return [t];})); $b(Rb,Ib,((t,e,n) => {const o=Gm._createFromPositionAndShift(e.sourcePosition,e.howMany); if (t.graveyardPosition) {const i=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition); if (!n.bWasUndone&&i) {const n=t.splitPosition._getTransformedByMoveOperation(e); const o=t.graveyardPosition._getTransformedByMoveOperation(e); const i=o.path.slice(); i.push(0); const r=new Lm(o.root,i); const s=new Ib(n,t.howMany,r,0); return [s];}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e);} const i=t.splitPosition.isEqual(e.targetPosition); if (i&&(n.baRelation=="insertAtSource"||n.abRelation=="splitBefore")) {t.howMany+=e.howMany; t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany); t.insertionPosition=Rb.getInsertionPosition(t.splitPosition); return [t];} if (i&&n.abRelation&&n.abRelation.howMany) {const {howMany: e,offset: o}=n.abRelation; t.howMany+=e; t.splitPosition=t.splitPosition.getShiftedBy(o); return [t];} if (t.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(t.splitPosition)) {const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset); t.howMany-=n; if (t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset) {t.howMany+=e.howMany;}t.splitPosition=e.sourcePosition.clone(); t.insertionPosition=Rb.getInsertionPosition(t.splitPosition); return [t];} if (!e.sourcePosition.isEqual(e.targetPosition)) {if (t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset) {t.howMany-=e.howMany;} if (t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset) {t.howMany+=e.howMany;}}t.splitPosition.stickiness="toNone"; t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e); t.splitPosition.stickiness="toNext"; if (t.graveyardPosition) {t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e);} else {t.insertionPosition=Rb.getInsertionPosition(t.splitPosition);} return [t];})); $b(Rb,Rb,((t,e,n) => {if (t.splitPosition.isEqual(e.splitPosition)) {if (!t.graveyardPosition&&!e.graveyardPosition) {return [new Nb(0)];} if (t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)) {return [new Nb(0)];} if (n.abRelation=="splitBefore") {t.howMany=0; t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e); return [t];}} if (t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)) {const o=t.splitPosition.root.rootName=="$graveyard"; const i=e.splitPosition.root.rootName=="$graveyard"; const r=o&&!i; const s=i&&!o; const a=s||!r&&n.aIsStrong; if (a) {const n=[]; if (e.howMany) {n.push(new Ib(e.moveTargetPosition,e.howMany,e.splitPosition,0));} if (t.howMany) {n.push(new Ib(t.splitPosition,t.howMany,t.moveTargetPosition,0));} return n;} return [new Nb(0)];} if (t.graveyardPosition) {t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e);} if (t.splitPosition.isEqual(e.insertionPosition)&&n.abRelation=="splitBefore") {t.howMany++; return [t];} if (e.splitPosition.isEqual(t.insertionPosition)&&n.baRelation=="splitBefore") {const n=e.insertionPosition.path.slice(); n.push(0); const o=new Lm(e.insertionPosition.root,n); const i=new Ib(t.insertionPosition,1,o,0); return [t,i];} if (t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset) {t.howMany-=e.howMany;}t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e); t.insertionPosition=Rb.getInsertionPosition(t.splitPosition); return [t];})); function nw(t,e) {return t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null;} function ow(t,e) {const n=[]; for (let o=0; o<t.length; o++) {const i=t[o]; const r=new Ib(i.start,i.end.offset-i.start.offset,e,0); n.push(r); for (let e=o+1; e<t.length; e++) {t[e]=t[e]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];}e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany);} return n;} class iw extends (G(Lm)) {constructor(t,e,n="toNone") {super(t,e,n); if (!this.root.is("rootElement")) {throw new V("model-liveposition-root-not-rootelement",t);}rw.call(this);}detach() {this.stopListening();}toPosition() {return new Lm(this.root,this.path.slice(),this.stickiness);} static fromPosition(t,e) {return new this(t.root,t.path.slice(),e?e:t.stickiness);}}iw.prototype.is=function(t) {return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position";}; function rw() {this.listenTo(this.root.document.model,"applyOperation",((t,e) => {const n=e[0]; if (!n.isDocumentOperation) {return;}sw.call(this,n);}),{priority: "low"});} function sw(t) {const e=this.getTransformedByOperation(t); if (!this.isEqual(e)) {const t=this.toPosition(); this.path=e.path; this.root=e.root; this.fire("change",t);}} class aw {constructor(t={}) {if (typeof t==="string") {t=t==="transparent"?{isUndoable: false}:{}; M("batch-constructor-deprecated-string-type");} const {isUndoable: e=true,isLocal: n=true,isUndo: o=false,isTyping: i=false}=t; this.operations=[]; this.isUndoable=e; this.isLocal=n; this.isUndo=o; this.isTyping=i;} get type() {M("batch-type-deprecated"); return "default";} get baseVersion() {for (const t of this.operations) {if (t.baseVersion!==null) {return t.baseVersion;}} return null;}addOperation(t) {t.batch=this; this.operations.push(t); return t;}} class cw {constructor(t) {this._changesInElement=new Map; this._elementSnapshots=new Map; this._changedMarkers=new Map; this._changedRoots=new Map; this._changeCount=0; this._cachedChanges=null; this._cachedChangesWithGraveyard=null; this._refreshedItems=new Set; this._markerCollection=t;} get isEmpty() {return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0;}bufferOperation(t) {const e=t; switch (e.type) {case "insert":{if (this._isInInsertedElement(e.position.parent)) {return;} this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset); break;} case "addAttribute":case "removeAttribute":case "changeAttribute":{for (const t of e.range.getItems({shallow: true})) {if (this._isInInsertedElement(t.parent)) {continue;} this._markAttribute(t);} break;} case "remove":case "move":case "reinsert":{if (e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition)) {return;} const t=this._isInInsertedElement(e.sourcePosition.parent); const n=this._isInInsertedElement(e.targetPosition.parent); if (!t) {this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany);} if (!n) {this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);} break;} case "rename":{if (this._isInInsertedElement(e.position.parent)) {return;} this._markRemove(e.position.parent,e.position.offset,1); this._markInsert(e.position.parent,e.position.offset,1); const t=Gm._createFromPositionAndShift(e.position,1); for (const e of this._markerCollection.getMarkersIntersectingRange(t)) {const t=e.getData(); this.bufferMarkerChange(e.name,t,t);} break;} case "split":{const t=e.splitPosition.parent; if (!this._isInInsertedElement(t)) {this._markRemove(t,e.splitPosition.offset,e.howMany);} if (!this._isInInsertedElement(e.insertionPosition.parent)) {this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1);} if (e.graveyardPosition) {this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);} break;} case "merge":{const t=e.sourcePosition.parent; if (!this._isInInsertedElement(t.parent)) {this._markRemove(t.parent,t.startOffset,1);} const n=e.graveyardPosition.parent; this._markInsert(n,e.graveyardPosition.offset,1); const o=e.targetPosition.parent; if (!this._isInInsertedElement(o)) {this._markInsert(o,e.targetPosition.offset,t.maxOffset);} break;} case "detachRoot":case "addRoot":{const t=e.affectedSelectable; if (!t._isLoaded) {return;} if (t.isAttached()==e.isAdd) {return;} this._bufferRootStateChange(e.rootName,e.isAdd); break;} case "addRootAttribute":case "removeRootAttribute":case "changeRootAttribute":{if (!e.root._isLoaded) {return;} const t=e.root.rootName; this._bufferRootAttributeChange(t,e.key,e.oldValue,e.newValue); break;}} this._cachedChanges=null;}bufferMarkerChange(t,e,n) {if (e.range&&e.range.root.is("rootElement")&&!e.range.root._isLoaded) {e.range=null;} if (n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded) {n.range=null;} let o=this._changedMarkers.get(t); if (!o) {o={newMarkerData: n,oldMarkerData: e}; this._changedMarkers.set(t,o);} else {o.newMarkerData=n;} if (o.oldMarkerData.range==null&&n.range==null) {this._changedMarkers.delete(t);}}getMarkersToRemove() {const t=[]; for (const [e,n] of this._changedMarkers) {if (n.oldMarkerData.range!=null) {t.push({name: e,range: n.oldMarkerData.range});}} return t;}getMarkersToAdd() {const t=[]; for (const [e,n] of this._changedMarkers) {if (n.newMarkerData.range!=null) {t.push({name: e,range: n.newMarkerData.range});}} return t;}getChangedMarkers() {return Array.from(this._changedMarkers).map((([t,e]) => ({name: t,data: {oldRange: e.oldMarkerData.range,newRange: e.newMarkerData.range}})));}hasDataChanges() {if (this.getChanges().length) {return true;} if (this._changedRoots.size>0) {return true;} for (const {newMarkerData: t,oldMarkerData: e} of this._changedMarkers.values()) {if (t.affectsData!==e.affectsData) {return true;} if (t.affectsData) {const n=t.range&&!e.range; const o=!t.range&&e.range; const i=t.range&&e.range&&!t.range.isEqual(e.range); if (n||o||i) {return true;}}} return false;}getChanges(t={}) {if (this._cachedChanges) {if (t.includeChangesInGraveyard) {return this._cachedChangesWithGraveyard.slice();} return this._cachedChanges.slice();} let e=[]; for (const t of this._changesInElement.keys()) {const n=this._changesInElement.get(t).sort(((t,e) => {if (t.offset===e.offset) {if (t.type!=e.type) {return t.type=="remove"?-1:1;} return 0;} return t.offset<e.offset?-1:1;})); const o=this._elementSnapshots.get(t); const i=lw(t.getChildren()); const r=dw(o.length,n); let s=0; let a=0; for (const n of r) {if (n==="i") {e.push(this._getInsertDiff(t,s,i[s])); s++;} else if (n==="r") {e.push(this._getRemoveDiff(t,s,o[a])); a++;} else if (n==="a") {const n=i[s].attributes; const r=o[a].attributes; let c; if (i[s].name=="$text") {c=new Gm(Lm._createAt(t,s),Lm._createAt(t,s+1));} else {const e=t.offsetToIndex(s); c=new Gm(Lm._createAt(t,s),Lm._createAt(t.getChild(e),0));}e.push(...this._getAttributesDiff(c,r,n)); s++; a++;} else {s++; a++;}}}e.sort(((t,e) => {if (t.position.root!=e.position.root) {return t.position.root.rootName<e.position.root.rootName?-1:1;} if (t.position.isEqual(e.position)) {return t.changeCount-e.changeCount;} return t.position.isBefore(e.position)?-1:1;})); for (let t=1,n=0; t<e.length; t++) {const o=e[n]; const i=e[t]; const r=o.type=="remove"&&i.type=="remove"&&o.name=="$text"&&i.name=="$text"&&o.position.isEqual(i.position); const s=o.type=="insert"&&i.type=="insert"&&o.name=="$text"&&i.name=="$text"&&o.position.parent==i.position.parent&&o.position.offset+o.length==i.position.offset; const a=o.type=="attribute"&&i.type=="attribute"&&o.position.parent==i.position.parent&&o.range.isFlat&&i.range.isFlat&&o.position.offset+o.length==i.position.offset&&o.attributeKey==i.attributeKey&&o.attributeOldValue==i.attributeOldValue&&o.attributeNewValue==i.attributeNewValue; if (r||s||a) {o.length++; if (a) {o.range.end=o.range.end.getShiftedBy(1);}e[t]=null;} else {n=t;}}e=e.filter((t => t)); for (const t of e) {delete t.changeCount; if (t.type=="attribute") {delete t.position; delete t.length;}} this._changeCount=0; this._cachedChangesWithGraveyard=e; this._cachedChanges=e.filter(uw); if (t.includeChangesInGraveyard) {return this._cachedChangesWithGraveyard.slice();} return this._cachedChanges.slice();}getChangedRoots() {return Array.from(this._changedRoots.values()).map((t => {const e={...t}; if (e.state!==undefined) {delete e.attributes;} return e;}));}getRefreshedItems() {return new Set(this._refreshedItems);}reset() {this._changesInElement.clear(); this._elementSnapshots.clear(); this._changedMarkers.clear(); this._changedRoots.clear(); this._refreshedItems=new Set; this._cachedChanges=null;}_bufferRootStateChange(t,e) {if (!this._changedRoots.has(t)) {this._changedRoots.set(t,{name: t,state: e?"attached":"detached"}); return;} const n=this._changedRoots.get(t); if (n.state!==undefined) {delete n.state; if (n.attributes===undefined) {this._changedRoots.delete(t);}} else {n.state=e?"attached":"detached";}}_bufferRootAttributeChange(t,e,n,o) {const i=this._changedRoots.get(t)||{name: t}; const r=i.attributes||{}; if (r[e]) {const t=r[e]; if (o===t.oldValue) {delete r[e];} else {t.newValue=o;}} else {r[e]={oldValue: n,newValue: o};} if (Object.entries(r).length===0) {delete i.attributes; if (i.state===undefined) {this._changedRoots.delete(t);}} else {i.attributes=r; this._changedRoots.set(t,i);}}_refreshItem(t) {if (this._isInInsertedElement(t.parent)) {return;} this._markRemove(t.parent,t.startOffset,t.offsetSize); this._markInsert(t.parent,t.startOffset,t.offsetSize); this._refreshedItems.add(t); const e=Gm._createOn(t); for (const t of this._markerCollection.getMarkersIntersectingRange(e)) {const e=t.getData(); this.bufferMarkerChange(t.name,e,e);} this._cachedChanges=null;}_bufferRootLoad(t) {if (!t.isAttached()) {return;} this._bufferRootStateChange(t.rootName,true); this._markInsert(t,0,t.maxOffset); for (const e of t.getAttributeKeys()) {this._bufferRootAttributeChange(t.rootName,e,null,t.getAttribute(e));} for (const e of this._markerCollection) {if (e.getRange().root==t) {const t=e.getData(); this.bufferMarkerChange(e.name,{...t,range: null},t);}}}_markInsert(t,e,n) {if (t.root.is("rootElement")&&!t.root._isLoaded) {return;} const o={type: "insert",offset: e,howMany: n,count: this._changeCount++}; this._markChange(t,o);}_markRemove(t,e,n) {if (t.root.is("rootElement")&&!t.root._isLoaded) {return;} const o={type: "remove",offset: e,howMany: n,count: this._changeCount++}; this._markChange(t,o); this._removeAllNestedChanges(t,e,n);}_markAttribute(t) {if (t.root.is("rootElement")&&!t.root._isLoaded) {return;} const e={type: "attribute",offset: t.startOffset,howMany: t.offsetSize,count: this._changeCount++}; this._markChange(t.parent,e);}_markChange(t,e) {this._makeSnapshot(t); const n=this._getChangesForElement(t); this._handleChange(e,n); n.push(e); for (let t=0; t<n.length; t++) {if (n[t].howMany<1) {n.splice(t,1); t--;}}}_getChangesForElement(t) {let e; if (this._changesInElement.has(t)) {e=this._changesInElement.get(t);} else {e=[]; this._changesInElement.set(t,e);} return e;}_makeSnapshot(t) {if (!this._elementSnapshots.has(t)) {this._elementSnapshots.set(t,lw(t.getChildren()));}}_handleChange(t,e) {t.nodesToHandle=t.howMany; for (const n of e) {const o=t.offset+t.howMany; const i=n.offset+n.howMany; if (t.type=="insert") {if (n.type=="insert") {if (t.offset<=n.offset) {n.offset+=t.howMany;} else if (t.offset<i) {n.howMany+=t.nodesToHandle; t.nodesToHandle=0;}} if (n.type=="remove") {if (t.offset<n.offset) {n.offset+=t.howMany;}} if (n.type=="attribute") {if (t.offset<=n.offset) {n.offset+=t.howMany;} else if (t.offset<i) {const i=n.howMany; n.howMany=t.offset-n.offset; e.unshift({type: "attribute",offset: o,howMany: i-n.howMany,count: this._changeCount++});}}} if (t.type=="remove") {if (n.type=="insert") {if (o<=n.offset) {n.offset-=t.howMany;} else if (o<=i) {if (t.offset<n.offset) {const e=o-n.offset; n.offset=t.offset; n.howMany-=e; t.nodesToHandle-=e;} else {n.howMany-=t.nodesToHandle; t.nodesToHandle=0;}} else if (t.offset<=n.offset) {t.nodesToHandle-=n.howMany; n.howMany=0;} else if (t.offset<i) {const e=i-t.offset; n.howMany-=e; t.nodesToHandle-=e;}} if (n.type=="remove") {if (o<=n.offset) {n.offset-=t.howMany;} else if (t.offset<n.offset) {t.nodesToHandle+=n.howMany; n.howMany=0;}} if (n.type=="attribute") {if (o<=n.offset) {n.offset-=t.howMany;} else if (t.offset<n.offset) {const e=o-n.offset; n.offset=t.offset; n.howMany-=e;} else if (t.offset<i) {if (o<=i) {const o=n.howMany; n.howMany=t.offset-n.offset; const i=o-n.howMany-t.nodesToHandle; e.unshift({type: "attribute",offset: t.offset,howMany: i,count: this._changeCount++});} else {n.howMany-=i-t.offset;}}}} if (t.type=="attribute") {if (n.type=="insert") {if (t.offset<n.offset&&o>n.offset) {if (o>i) {const t={type: "attribute",offset: i,howMany: o-i,count: this._changeCount++}; this._handleChange(t,e); e.push(t);}t.nodesToHandle=n.offset-t.offset; t.howMany=t.nodesToHandle;} else if (t.offset>=n.offset&&t.offset<i) {if (o>i) {t.nodesToHandle=o-i; t.offset=i;} else {t.nodesToHandle=0;}}} if (n.type=="remove") {if (t.offset<n.offset&&o>n.offset) {const i={type: "attribute",offset: n.offset,howMany: o-n.offset,count: this._changeCount++}; this._handleChange(i,e); e.push(i); t.nodesToHandle=n.offset-t.offset; t.howMany=t.nodesToHandle;}} if (n.type=="attribute") {if (t.offset>=n.offset&&o<=i) {t.nodesToHandle=0; t.howMany=0; t.offset=0;} else if (t.offset<=n.offset&&o>=i) {n.howMany=0;}}}}t.howMany=t.nodesToHandle; delete t.nodesToHandle;}_getInsertDiff(t,e,n) {return {type: "insert",position: Lm._createAt(t,e),name: n.name,attributes: new Map(n.attributes),length: 1,changeCount: this._changeCount++,_element: n.element};}_getRemoveDiff(t,e,n) {return {type: "remove",position: Lm._createAt(t,e),name: n.name,attributes: new Map(n.attributes),length: 1,changeCount: this._changeCount++,_element: n.element};}_getAttributesDiff(t,e,n) {const o=[]; n=new Map(n); for (const [i,r] of e) {const e=n.has(i)?n.get(i):null; if (e!==r) {o.push({type: "attribute",position: t.start,range: t.clone(),length: 1,attributeKey: i,attributeOldValue: r,attributeNewValue: e,changeCount: this._changeCount++});}n.delete(i);} for (const [e,i] of n) {o.push({type: "attribute",position: t.start,range: t.clone(),length: 1,attributeKey: e,attributeOldValue: null,attributeNewValue: i,changeCount: this._changeCount++});} return o;}_isInInsertedElement(t) {const e=t.parent; if (!e) {return false;} const n=this._changesInElement.get(e); const o=t.startOffset; if (n) {for (const t of n) {if (t.type=="insert"&&o>=t.offset&&o<t.offset+t.howMany) {return true;}}} return this._isInInsertedElement(e);}_removeAllNestedChanges(t,e,n) {const o=new Gm(Lm._createAt(t,e),Lm._createAt(t,e+n)); for (const t of o.getItems({shallow: true})) {if (t.is("element")) {this._elementSnapshots.delete(t); this._changesInElement.delete(t); this._removeAllNestedChanges(t,0,t.maxOffset);}}}} function lw(t) {const e=[]; for (const n of t) {if (n.is("$text")) {for (let t=0; t<n.data.length; t++) {e.push({name: "$text",attributes: new Map(n.getAttributes())});}} else {e.push({name: n.name,attributes: new Map(n.getAttributes()),element: n});}} return e;} function dw(t,e) {const n=[]; let o=0; let i=0; for (const t of e) {if (t.offset>o) {for (let e=0; e<t.offset-o; e++) {n.push("e");}i+=t.offset-o;} if (t.type=="insert") {for (let e=0; e<t.howMany; e++) {n.push("i");}o=t.offset+t.howMany;} else if (t.type=="remove") {for (let e=0; e<t.howMany; e++) {n.push("r");}o=t.offset; i+=t.howMany;} else {n.push(..."a".repeat(t.howMany).split("")); o=t.offset+t.howMany; i+=t.howMany;}} if (i<t) {for (let e=0; e<t-i-o; e++) {n.push("e");}} return n;} function uw(t) {const e="position"in t&&t.position.root.rootName=="$graveyard"; const n="range"in t&&t.range.root.rootName=="$graveyard"; return !e&&!n;} class hw {constructor() {this._operations=[]; this._undoPairs=new Map; this._undoneOperations=new Set; this._baseVersionToOperationIndex=new Map; this._version=0; this._gaps=new Map;} get version() {return this._version;} set version(t) {if (this._operations.length&&t>this._version+1) {this._gaps.set(this._version,t);} this._version=t;} get lastOperation() {return this._operations[this._operations.length-1];}addOperation(t) {if (t.baseVersion!==this.version) {throw new V("model-document-history-addoperation-incorrect-version",this,{operation: t,historyVersion: this.version});} this._operations.push(t); this._version++; this._baseVersionToOperationIndex.set(t.baseVersion,this._operations.length-1);}getOperations(t,e=this.version) {if (!this._operations.length) {return [];} const n=this._operations[0]; if (t===undefined) {t=n.baseVersion;} let o=e-1; for (const [e,n] of this._gaps) {if (t>e&&t<n) {t=n;} if (o>e&&o<n) {o=e-1;}} if (o<n.baseVersion||t>this.lastOperation.baseVersion) {return [];} let i=this._baseVersionToOperationIndex.get(t); if (i===undefined) {i=0;} let r=this._baseVersionToOperationIndex.get(o); if (r===undefined) {r=this._operations.length-1;} return this._operations.slice(i,r+1);}getOperation(t) {const e=this._baseVersionToOperationIndex.get(t); if (e===undefined) {return;} return this._operations[e];}setOperationAsUndone(t,e) {this._undoPairs.set(e,t); this._undoneOperations.add(t);}isUndoingOperation(t) {return this._undoPairs.has(t);}isUndoneOperation(t) {return this._undoneOperations.has(t);}getUndoneOperation(t) {return this._undoPairs.get(t);}reset() {this._version=0; this._undoPairs=new Map; this._operations=[]; this._undoneOperations=new Set; this._gaps=new Map; this._baseVersionToOperationIndex=new Map;}} class gw extends Fm {constructor(t,e,n="main") {super(e); this._isAttached=true; this._isLoaded=true; this._document=t; this.rootName=n;} get document() {return this._document;}isAttached() {return this._isAttached;}toJSON() {return this.rootName;}}gw.prototype.is=function(t,e) {if (!e) {return t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t==="node"||t==="model:node";} return e===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element");}; const fw="$graveyard"; class mw extends (G()) {constructor(t) {super(); this.model=t; this.history=new hw; this.selection=new fp(this); this.roots=new id({idProperty: "rootName"}); this.differ=new cw(t.markers); this.isReadOnly=false; this._postFixers=new Set; this._hasSelectionChangedFromTheLastChangeBlock=false; this.createRoot("$root",fw); this.listenTo(t,"applyOperation",((t,e) => {const n=e[0]; if (n.isDocumentOperation) {this.differ.bufferOperation(n);}}),{priority: "high"}); this.listenTo(t,"applyOperation",((t,e) => {const n=e[0]; if (n.isDocumentOperation) {this.history.addOperation(n);}}),{priority: "low"}); this.listenTo(this.selection,"change",(() => {this._hasSelectionChangedFromTheLastChangeBlock=true;})); this.listenTo(t.markers,"update",((t,e,n,o,i) => {const r={...e.getData(),range: o}; this.differ.bufferMarkerChange(e.name,i,r); if (n===null) {e.on("change",((t,n) => {const o=e.getData(); this.differ.bufferMarkerChange(e.name,{...o,range: n},o);}));}})); this.registerPostFixer((t => {let e=false; for (const n of this.roots) {if (!n.isAttached()&&!n.isEmpty) {t.remove(t.createRangeIn(n)); e=true;}} for (const n of this.model.markers) {if (!n.getRange().root.isAttached()) {t.removeMarker(n); e=true;}} return e;}));} get version() {return this.history.version;} set version(t) {this.history.version=t;} get graveyard() {return this.getRoot(fw);}createRoot(t="$root",e="main") {if (this.roots.get(e)) {throw new V("model-document-createroot-name-exists",this,{name: e});} const n=new gw(this,t,e); this.roots.add(n); return n;}destroy() {this.selection.destroy(); this.stopListening();}getRoot(t="main") {return this.roots.get(t);}getRootNames(t=false) {return this.getRoots(t).map((t => t.rootName));}getRoots(t=false) {return this.roots.filter((e => e!=this.graveyard&&(t||e.isAttached())&&e._isLoaded));}registerPostFixer(t) {this._postFixers.add(t);}toJSON() {const t=Jd(this); t.selection="[engine.model.DocumentSelection]"; t.model="[engine.model.Model]"; return t;}_handleChangeBlock(t) {if (this._hasDocumentChangedFromTheLastChangeBlock()) {this._callPostFixers(t); this.selection.refresh(); if (this.differ.hasDataChanges()) {this.fire("change:data",t.batch);} else {this.fire("change",t.batch);} this.selection.refresh(); this.differ.reset();} this._hasSelectionChangedFromTheLastChangeBlock=false;}_hasDocumentChangedFromTheLastChangeBlock() {return !this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock;}_getDefaultRoot() {const t=this.getRoots(); return t.length?t[0]:this.graveyard;}_getDefaultRange() {const t=this._getDefaultRoot(); const e=this.model; const n=e.schema; const o=e.createPositionFromPath(t,[0]); const i=n.getNearestSelectionRange(o); return i||e.createRange(o);}_validateSelectionRange(t) {return pw(t.start)&&pw(t.end);}_callPostFixers(t) {let e=false; do {for (const n of this._postFixers) {this.selection.refresh(); e=n(t); if (e) {break;}}} while (e);}} function pw(t) {const e=t.textNode; if (e) {const n=e.data; const o=t.offset-e.startOffset; return !kd(n,o)&&!bd(n,o);} return true;} class kw extends (G()) {constructor() {super(...arguments); this._markers=new Map;}[Symbol.iterator]() {return this._markers.values();}has(t) {const e=t instanceof bw?t.name:t; return this._markers.has(e);}get(t) {return this._markers.get(t)||null;}_set(t,e,n=false,o=false) {const i=t instanceof bw?t.name:t; if (i.includes(",")) {throw new V("markercollection-incorrect-marker-name",this);} const r=this._markers.get(i); if (r) {const t=r.getData(); const s=r.getRange(); let a=false; if (!s.isEqual(e)) {r._attachLiveRange(lp.fromRange(e)); a=true;} if (n!=r.managedUsingOperations) {r._managedUsingOperations=n; a=true;} if (typeof o==="boolean"&&o!=r.affectsData) {r._affectsData=o; a=true;} if (a) {this.fire(`update:${i}`,r,s,e,t);} return r;} const s=lp.fromRange(e); const a=new bw(i,s,n,o); this._markers.set(i,a); this.fire(`update:${i}`,a,null,e,{...a.getData(),range: null}); return a;}_remove(t) {const e=t instanceof bw?t.name:t; const n=this._markers.get(e); if (n) {this._markers.delete(e); this.fire(`update:${e}`,n,n.getRange(),null,n.getData()); this._destroyMarker(n); return true;} return false;}_refresh(t) {const e=t instanceof bw?t.name:t; const n=this._markers.get(e); if (!n) {throw new V("markercollection-refresh-marker-not-exists",this);} const o=n.getRange(); this.fire(`update:${e}`,n,o,o,n.getData());}*getMarkersAtPosition(t) {for (const e of this) {if (e.getRange().containsPosition(t)) {yield e;}}}*getMarkersIntersectingRange(t) {for (const e of this) {if (e.getRange().getIntersection(t)!==null) {yield e;}}}destroy() {for (const t of this._markers.values()) {this._destroyMarker(t);} this._markers=null; this.stopListening();}*getMarkersGroup(t) {for (const e of this._markers.values()) {if (e.name.startsWith(`${t}:`)) {yield e;}}}_destroyMarker(t) {t.stopListening(); t._detachLiveRange();}} class bw extends (G(Im)) {constructor(t,e,n,o) {super(); this.name=t; this._liveRange=this._attachLiveRange(e); this._managedUsingOperations=n; this._affectsData=o;} get managedUsingOperations() {if (!this._liveRange) {throw new V("marker-destroyed",this);} return this._managedUsingOperations;} get affectsData() {if (!this._liveRange) {throw new V("marker-destroyed",this);} return this._affectsData;}getData() {return {range: this.getRange(),affectsData: this.affectsData,managedUsingOperations: this.managedUsingOperations};}getStart() {if (!this._liveRange) {throw new V("marker-destroyed",this);} return this._liveRange.start.clone();}getEnd() {if (!this._liveRange) {throw new V("marker-destroyed",this);} return this._liveRange.end.clone();}getRange() {if (!this._liveRange) {throw new V("marker-destroyed",this);} return this._liveRange.toRange();}_attachLiveRange(t) {if (this._liveRange) {this._detachLiveRange();}t.delegate("change:range").to(this); t.delegate("change:content").to(this); this._liveRange=t; return t;}_detachLiveRange() {this._liveRange.stopDelegating("change:range",this); this._liveRange.stopDelegating("change:content",this); this._liveRange.detach(); this._liveRange=null;}}bw.prototype.is=function(t) {return t==="marker"||t==="model:marker";}; class ww extends Ab {constructor(t,e) {super(null); this.sourcePosition=t.clone(); this.howMany=e;} get type() {return "detach";} get affectedSelectable() {return null;}toJSON() {const t=super.toJSON(); t.sourcePosition=this.sourcePosition.toJSON(); return t;}_validate() {if (this.sourcePosition.root.document) {throw new V("detach-operation-on-document-node",this);}}_execute() {yb(Gm._createFromPositionAndShift(this.sourcePosition,this.howMany));} static get className() {return "DetachOperation";}} class _w extends Im {constructor(t) {super(); this.markers=new Map; this._children=new Rm; if (t) {this._insertChild(0,t);}}[Symbol.iterator]() {return this.getChildren();} get childCount() {return this._children.length;} get maxOffset() {return this._children.maxOffset;} get isEmpty() {return this.childCount===0;} get nextSibling() {return null;} get previousSibling() {return null;} get root() {return this;} get parent() {return null;} get document() {return null;}isAttached() {return false;}getAncestors() {return [];}getChild(t) {return this._children.getNode(t);}getChildren() {return this._children[Symbol.iterator]();}getChildIndex(t) {return this._children.getNodeIndex(t);}getChildStartOffset(t) {return this._children.getNodeStartOffset(t);}getPath() {return [];}getNodeByPath(t) {let e=this; for (const n of t) {e=e.getChild(e.offsetToIndex(n));} return e;}offsetToIndex(t) {return this._children.offsetToIndex(t);}toJSON() {const t=[]; for (const e of this._children) {t.push(e.toJSON());} return t;} static fromJSON(t) {const e=[]; for (const n of t) {if (n.name) {e.push(Fm.fromJSON(n));} else {e.push(Vm.fromJSON(n));}} return new _w(e);}_appendChild(t) {this._insertChild(this.childCount,t);}_insertChild(t,e) {const n=Cw(e); for (const t of n) {if (t.parent!==null) {t._remove();}t.parent=this;} this._children._insertNodes(t,n);}_removeChildren(t,e=1) {const n=this._children._removeNodes(t,e); for (const t of n) {t.parent=null;} return n;}}_w.prototype.is=function(t) {return t==="documentFragment"||t==="model:documentFragment";}; function Cw(t) {if (typeof t==="string") {return [new Vm(t)];} if (!Dt(t)) {t=[t];} return Array.from(t).map((t => {if (typeof t==="string") {return new Vm(t);} if (t instanceof Mm) {return new Vm(t.data,t.getAttributes());} return t;}));} class Aw {constructor(t,e) {this.model=t; this.batch=e;}createText(t,e) {return new Vm(t,e);}createElement(t,e) {return new Fm(t,e);}createDocumentFragment() {return new _w;}cloneElement(t,e=true) {return t._clone(e);}insert(t,e,n=0) {this._assertWriterUsedCorrectly(); if (t instanceof Vm&&t.data=="") {return;} const o=Lm._createAt(e,n); if (t.parent) {if (Dw(t.root,o.root)) {this.move(Gm._createOn(t),o); return;} if (t.root.document) {throw new V("model-writer-insert-forbidden-move",this);} else {this.remove(t);}} const i=o.root.document?o.root.document.version:null; const r=new Pb(o,t,i); if (t instanceof Vm) {r.shouldReceiveAttributes=true;} this.batch.addOperation(r); this.model.applyOperation(r); if (t instanceof _w) {for (const [e,n] of t.markers) {const t=Lm._createAt(n.root,0); const i=new Gm(n.start._getCombined(t,o),n.end._getCombined(t,o)); const r={range: i,usingOperation: true,affectsData: true}; if (this.model.markers.has(e)) {this.updateMarker(e,r);} else {this.addMarker(e,r);}}}}insertText(t,e,n,o) {if (e instanceof _w||e instanceof Fm||e instanceof Lm) {this.insert(this.createText(t),e,n);} else {this.insert(this.createText(t,e),n,o);}}insertElement(t,e,n,o) {if (e instanceof _w||e instanceof Fm||e instanceof Lm) {this.insert(this.createElement(t),e,n);} else {this.insert(this.createElement(t,e),n,o);}}append(t,e) {this.insert(t,e,"end");}appendText(t,e,n) {if (e instanceof _w||e instanceof Fm) {this.insert(this.createText(t),e,"end");} else {this.insert(this.createText(t,e),n,"end");}}appendElement(t,e,n) {if (e instanceof _w||e instanceof Fm) {this.insert(this.createElement(t),e,"end");} else {this.insert(this.createElement(t,e),n,"end");}}setAttribute(t,e,n) {this._assertWriterUsedCorrectly(); if (n instanceof Gm) {const o=n.getMinimalFlatRanges(); for (const n of o) {vw(this,t,e,n);}} else {yw(this,t,e,n);}}setAttributes(t,e) {for (const [n,o] of ld(t)) {this.setAttribute(n,o,e);}}removeAttribute(t,e) {this._assertWriterUsedCorrectly(); if (e instanceof Gm) {const n=e.getMinimalFlatRanges(); for (const e of n) {vw(this,t,null,e);}} else {yw(this,t,null,e);}}clearAttributes(t) {this._assertWriterUsedCorrectly(); const e=t => {for (const e of t.getAttributeKeys()) {this.removeAttribute(e,t);}}; if (!(t instanceof Gm)) {e(t);} else {for (const n of t.getItems()) {e(n);}}}move(t,e,n) {this._assertWriterUsedCorrectly(); if (!(t instanceof Gm)) {throw new V("writer-move-invalid-range",this);} if (!t.isFlat) {throw new V("writer-move-range-not-flat",this);} const o=Lm._createAt(e,n); if (o.isEqual(t.start)) {return;} this._addOperationForAffectedMarkers("move",t); if (!Dw(t.root,o.root)) {throw new V("writer-move-different-document",this);} const i=t.root.document?t.root.document.version:null; const r=new Ib(t.start,t.end.offset-t.start.offset,o,i); this.batch.addOperation(r); this.model.applyOperation(r);}remove(t) {this._assertWriterUsedCorrectly(); const e=t instanceof Gm?t:Gm._createOn(t); const n=e.getMinimalFlatRanges().reverse(); for (const t of n) {this._addOperationForAffectedMarkers("move",t); Ew(t.start,t.end.offset-t.start.offset,this.batch,this.model);}}merge(t) {this._assertWriterUsedCorrectly(); const e=t.nodeBefore; const n=t.nodeAfter; this._addOperationForAffectedMarkers("merge",t); if (!(e instanceof Fm)) {throw new V("writer-merge-no-element-before",this);} if (!(n instanceof Fm)) {throw new V("writer-merge-no-element-after",this);} if (!t.root.document) {this._mergeDetached(t);} else {this._merge(t);}}createPositionFromPath(t,e,n) {return this.model.createPositionFromPath(t,e,n);}createPositionAt(t,e) {return this.model.createPositionAt(t,e);}createPositionAfter(t) {return this.model.createPositionAfter(t);}createPositionBefore(t) {return this.model.createPositionBefore(t);}createRange(t,e) {return this.model.createRange(t,e);}createRangeIn(t) {return this.model.createRangeIn(t);}createRangeOn(t) {return this.model.createRangeOn(t);}createSelection(...t) {return this.model.createSelection(...t);}_mergeDetached(t) {const e=t.nodeBefore; const n=t.nodeAfter; this.move(Gm._createIn(n),Lm._createAt(e,"end")); this.remove(n);}_merge(t) {const e=Lm._createAt(t.nodeBefore,"end"); const n=Lm._createAt(t.nodeAfter,0); const o=t.root.document.graveyard; const i=new Lm(o,[0]); const r=t.root.document.version; const s=new Vb(n,t.nodeAfter.maxOffset,e,i,r); this.batch.addOperation(s); this.model.applyOperation(s);}rename(t,e) {this._assertWriterUsedCorrectly(); if (!(t instanceof Fm)) {throw new V("writer-rename-not-element-instance",this);} const n=t.root.document?t.root.document.version:null; const o=new Lb(Lm._createBefore(t),t.name,e,n); this.batch.addOperation(o); this.model.applyOperation(o);}split(t,e) {this._assertWriterUsedCorrectly(); let n=t.parent; if (!n.parent) {throw new V("writer-split-element-no-parent",this);} if (!e) {e=n.parent;} if (!t.parent.getAncestors({includeSelf: true}).includes(e)) {throw new V("writer-split-invalid-limit-element",this);} let o; let i; do {const e=n.root.document?n.root.document.version:null; const r=n.maxOffset-t.offset; const s=Rb.getInsertionPosition(t); const a=new Rb(t,r,s,null,e); this.batch.addOperation(a); this.model.applyOperation(a); if (!o&&!i) {o=n; i=t.parent.nextSibling;}t=this.createPositionAfter(t.parent); n=t.parent;} while (n!==e); return {position: t,range: new Gm(Lm._createAt(o,"end"),Lm._createAt(i,0))};}wrap(t,e) {this._assertWriterUsedCorrectly(); if (!t.isFlat) {throw new V("writer-wrap-range-not-flat",this);} const n=e instanceof Fm?e:new Fm(e); if (n.childCount>0) {throw new V("writer-wrap-element-not-empty",this);} if (n.parent!==null) {throw new V("writer-wrap-element-attached",this);} this.insert(n,t.start); const o=new Gm(t.start.getShiftedBy(1),t.end.getShiftedBy(1)); this.move(o,Lm._createAt(n,0));}unwrap(t) {this._assertWriterUsedCorrectly(); if (t.parent===null) {throw new V("writer-unwrap-element-no-parent",this);} this.move(Gm._createIn(t),this.createPositionAfter(t)); this.remove(t);}addMarker(t,e) {this._assertWriterUsedCorrectly(); if (!e||typeof e.usingOperation!=="boolean") {throw new V("writer-addmarker-no-usingoperation",this);} const n=e.usingOperation; const o=e.range; const i=e.affectsData===undefined?false:e.affectsData; if (this.model.markers.has(t)) {throw new V("writer-addmarker-marker-exists",this);} if (!o) {throw new V("writer-addmarker-no-range",this);} if (!n) {return this.model.markers._set(t,o,n,i);}xw(this,t,null,o,i); return this.model.markers.get(t);}updateMarker(t,e) {this._assertWriterUsedCorrectly(); const n=typeof t==="string"?t:t.name; const o=this.model.markers.get(n); if (!o) {throw new V("writer-updatemarker-marker-not-exists",this);} if (!e) {M("writer-updatemarker-reconvert-using-editingcontroller",{markerName: n}); this.model.markers._refresh(o); return;} const i=typeof e.usingOperation==="boolean"; const r=typeof e.affectsData==="boolean"; const s=r?e.affectsData:o.affectsData; if (!i&&!e.range&&!r) {throw new V("writer-updatemarker-wrong-options",this);} const a=o.getRange(); const c=e.range?e.range:a; if (i&&e.usingOperation!==o.managedUsingOperations) {if (e.usingOperation) {xw(this,n,null,c,s);} else {xw(this,n,a,null,s); this.model.markers._set(n,c,undefined,s);} return;} if (o.managedUsingOperations) {xw(this,n,a,c,s);} else {this.model.markers._set(n,c,undefined,s);}}removeMarker(t) {this._assertWriterUsedCorrectly(); const e=typeof t==="string"?t:t.name; if (!this.model.markers.has(e)) {throw new V("writer-removemarker-no-marker",this);} const n=this.model.markers.get(e); if (!n.managedUsingOperations) {this.model.markers._remove(e); return;} const o=n.getRange(); xw(this,e,o,null,n.affectsData);}addRoot(t,e="$root") {this._assertWriterUsedCorrectly(); const n=this.model.document.getRoot(t); if (n&&n.isAttached()) {throw new V("writer-addroot-root-exists",this);} const o=this.model.document; const i=new jb(t,e,true,o,o.version); this.batch.addOperation(i); this.model.applyOperation(i); return this.model.document.getRoot(t);}detachRoot(t) {this._assertWriterUsedCorrectly(); const e=typeof t==="string"?this.model.document.getRoot(t):t; if (!e||!e.isAttached()) {throw new V("writer-detachroot-no-root",this);} for (const t of this.model.markers) {if (t.getRange().root===e) {this.removeMarker(t);}} for (const t of e.getAttributeKeys()) {this.removeAttribute(t,e);} this.remove(this.createRangeIn(e)); const n=this.model.document; const o=new jb(e.rootName,e.name,false,n,n.version); this.batch.addOperation(o); this.model.applyOperation(o);}setSelection(...t) {this._assertWriterUsedCorrectly(); this.model.document.selection._setTo(...t);}setSelectionFocus(t,e) {this._assertWriterUsedCorrectly(); this.model.document.selection._setFocus(t,e);}setSelectionAttribute(t,e) {this._assertWriterUsedCorrectly(); if (typeof t==="string") {this._setSelectionAttribute(t,e);} else {for (const [e,n] of ld(t)) {this._setSelectionAttribute(e,n);}}}removeSelectionAttribute(t) {this._assertWriterUsedCorrectly(); if (typeof t==="string") {this._removeSelectionAttribute(t);} else {for (const e of t) {this._removeSelectionAttribute(e);}}}overrideSelectionGravity() {return this.model.document.selection._overrideGravity();}restoreSelectionGravity(t) {this.model.document.selection._restoreGravity(t);}_setSelectionAttribute(t,e) {const n=this.model.document.selection; if (n.isCollapsed&&n.anchor.parent.isEmpty) {const o=fp._getStoreAttributeKey(t); this.setAttribute(o,e,n.anchor.parent);}n._setAttribute(t,e);}_removeSelectionAttribute(t) {const e=this.model.document.selection; if (e.isCollapsed&&e.anchor.parent.isEmpty) {const n=fp._getStoreAttributeKey(t); this.removeAttribute(n,e.anchor.parent);}e._removeAttribute(t);}_assertWriterUsedCorrectly() {if (this.model._currentWriter!==this) {throw new V("writer-incorrect-use",this);}}_addOperationForAffectedMarkers(t,e) {for (const n of this.model.markers) {if (!n.managedUsingOperations) {continue;} const o=n.getRange(); let i=false; if (t==="move") {const t=e; i=t.containsPosition(o.start)||t.start.isEqual(o.start)||t.containsPosition(o.end)||t.end.isEqual(o.end);} else {const t=e; const n=t.nodeBefore; const r=t.nodeAfter; const s=o.start.parent==n&&o.start.isAtEnd; const a=o.end.parent==r&&o.end.offset==0; const c=o.end.nodeAfter==r; const l=o.start.nodeAfter==r; i=s||a||c||l;} if (i) {this.updateMarker(n.name,{range: o});}}}} function vw(t,e,n,o) {const i=t.model; const r=i.document; let s=o.start; let a; let c; let l; for (const t of o.getWalker({shallow: true})) {l=t.item.getAttribute(e); if (a&&c!=l) {if (c!=n) {d();}s=a;}a=t.nextPosition; c=l;} if (a instanceof Lm&&a!=s&&c!=n) {d();} function d() {const o=new Gm(s,a); const l=o.root.document?r.version:null; const d=new zb(o,e,c,n,l); t.batch.addOperation(d); i.applyOperation(d);}} function yw(t,e,n,o) {const i=t.model; const r=i.document; const s=o.getAttribute(e); let a,c; if (s!=n) {const l=o.root===o; if (l) {const t=o.document?r.version:null; c=new Hb(o,e,s,n,t);} else {a=new Gm(Lm._createBefore(o),t.createPositionAfter(o)); const i=a.root.document?r.version:null; c=new zb(a,e,s,n,i);}t.batch.addOperation(c); i.applyOperation(c);}} function xw(t,e,n,o,i) {const r=t.model; const s=r.document; const a=new Mb(e,n,o,r.markers,!!i,s.version); t.batch.addOperation(a); r.applyOperation(a);} function Ew(t,e,n,o) {let i; if (t.root.document) {const n=o.document; const r=new Lm(n.graveyard,[0]); i=new Ib(t,e,r,n.version);} else {i=new ww(t,e);}n.addOperation(i); o.applyOperation(i);} function Dw(t,e) {if (t===e) {return true;} if (t instanceof gw&&e instanceof gw) {return true;} return false;} function Bw(t,e,n={}) {if (e.isCollapsed) {return;} const o=e.getFirstRange(); if (o.root.rootName=="$graveyard") {return;} const i=t.schema; t.change((t => {if (!n.doNotResetEntireContent&&Hw(i,e)) {Lw(t,e); return;} const r={}; if (!n.doNotAutoparagraph) {const t=e.getSelectedElement(); if (t) {Object.assign(r,i.getAttributesWithProperty(t,"copyOnReplace",true));}} const [s,a]=Tw(o); if (!s.isTouching(a)) {t.remove(t.createRange(s,a));} if (!n.leaveUnmerged) {Iw(t,s,a); i.removeDisallowedAttributes(s.parent.getChildren(),t);}jw(t,e,s); if (!n.doNotAutoparagraph&&Ow(i,s)) {Nw(t,s,e,r);}s.detach(); a.detach();}));} function Tw(t) {const e=t.root.document.model; const n=t.start; let o=t.end; if (e.hasContent(t,{ignoreMarkers: true})) {const n=Sw(o); if (n&&o.isTouching(e.createPositionAt(n,0))) {const n=e.createSelection(t); e.modifySelection(n,{direction: "backward"}); const i=n.getLastPosition(); const r=e.createRange(i,o); if (!e.hasContent(r,{ignoreMarkers: true})) {o=i;}}} return [iw.fromPosition(n,"toPrevious"),iw.fromPosition(o,"toNext")];} function Sw(t) {const e=t.parent; const n=e.root.document.model.schema; const o=e.getAncestors({parentFirst: true,includeSelf: true}); for (const t of o) {if (n.isLimit(t)) {return null;} if (n.isBlock(t)) {return t;}}} function Iw(t,e,n) {const o=t.model; if (!Mw(t.model.schema,e,n)) {return;} const [i,r]=Fw(e,n); if (!i||!r) {return;} if (!o.hasContent(i,{ignoreMarkers: true})&&o.hasContent(r,{ignoreMarkers: true})) {Rw(t,e,n,i.parent);} else {Pw(t,e,n,i.parent);}} function Pw(t,e,n,o) {const i=e.parent; const r=n.parent; if (i==o||r==o) {return;}e=t.createPositionAfter(i); n=t.createPositionBefore(r); if (!n.isEqual(e)) {t.insert(r,e);}t.merge(e); while (n.parent.isEmpty) {const e=n.parent; n=t.createPositionBefore(e); t.remove(e);} if (!Mw(t.model.schema,e,n)) {return;}Pw(t,e,n,o);} function Rw(t,e,n,o) {const i=e.parent; const r=n.parent; if (i==o||r==o) {return;}e=t.createPositionAfter(i); n=t.createPositionBefore(r); if (!n.isEqual(e)) {t.insert(i,n);} while (e.parent.isEmpty) {const n=e.parent; e=t.createPositionBefore(n); t.remove(n);}n=t.createPositionBefore(r); Vw(t,n); if (!Mw(t.model.schema,e,n)) {return;}Rw(t,e,n,o);} function Vw(t,e) {const n=e.nodeBefore; const o=e.nodeAfter; if (n.name!=o.name) {t.rename(n,o.name);}t.clearAttributes(n); t.setAttributes(Object.fromEntries(o.getAttributes()),n); t.merge(e);} function Mw(t,e,n) {const o=e.parent; const i=n.parent; if (o==i) {return false;} if (t.isLimit(o)||t.isLimit(i)) {return false;} return zw(e,n,t);} function Fw(t,e) {const n=t.getAncestors(); const o=e.getAncestors(); let i=0; while (n[i]&&n[i]==o[i]) {i++;} return [n[i],o[i]];} function Ow(t,e) {const n=t.checkChild(e,"$text"); const o=t.checkChild(e,"paragraph"); return !n&&o;} function zw(t,e,n) {const o=new Gm(t,e); for (const t of o.getWalker()) {if (n.isLimit(t.item)) {return false;}} return true;} function Nw(t,e,n,o={}) {const i=t.createElement("paragraph"); t.model.schema.setAllowedAttributes(i,o,t); t.insert(i,e); jw(t,n,t.createPositionAt(i,0));} function Lw(t,e) {const n=t.model.schema.getLimitElement(e); t.remove(t.createRangeIn(n)); Nw(t,t.createPositionAt(n,0),e);} function Hw(t,e) {const n=t.getLimitElement(e); if (!e.containsEntireContent(n)) {return false;} const o=e.getFirstRange(); if (o.start.parent==o.end.parent) {return false;} return t.checkChild(n,"paragraph");} function jw(t,e,n) {if (e instanceof fp) {t.setSelection(n);} else {e.setTo(n);}} function Ww(t,e) {return t.change((t => {const n=t.createDocumentFragment(); const o=e.getFirstRange(); if (!o||o.isCollapsed) {return n;} const i=o.start.root; const r=o.start.getCommonPath(o.end); const s=i.getNodeByPath(r); let a; if (o.start.parent==o.end.parent) {a=o;} else {a=t.createRange(t.createPositionAt(s,o.start.path[r.length]),t.createPositionAt(s,o.end.path[r.length]+1));} const c=a.end.offset-a.start.offset; for (const e of a.getItems({shallow: true})) {if (e.is("$textProxy")) {t.appendText(e.data,e.getAttributes(),n);} else {t.append(t.cloneElement(e,true),n);}} if (a!=o) {const e=o._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0]; const i=t.createRange(t.createPositionAt(n,0),e.start); const r=t.createRange(e.end,t.createPositionAt(n,"end")); qw(r,t); qw(i,t);} return n;}));} function qw(t,e) {const n=[]; Array.from(t.getItems({direction: "backward"})).map((t => e.createRangeOn(t))).filter((e => {const n=(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end)); return n;})).forEach((t => {n.push(t.start.parent); e.remove(t);})); n.forEach((t => {let n=t; while (n.parent&&n.isEmpty) {const t=e.createRangeOn(n); n=n.parent; e.remove(t);}}));} function Uw(t,e,n) {return t.change((o => {const i=n?n:t.document.selection; if (!i.isCollapsed) {t.deleteContent(i,{doNotAutoparagraph: true});} const r=new $w(t,o,i.anchor); const s=[]; let a; if (e.is("documentFragment")) {if (e.markers.size) {const t=[]; for (const [n,o] of e.markers) {const {start: e,end: i}=o; const r=e.isEqual(i); t.push({position: e,name: n,isCollapsed: r},{position: i,name: n,isCollapsed: r});}t.sort((({position: t},{position: e}) => t.isBefore(e)?1:-1)); for (const {position: n,name: i,isCollapsed: r} of t) {let t=null; let a=null; const c=n.parent===e&&n.isAtStart; const l=n.parent===e&&n.isAtEnd; if (!c&&!l) {t=o.createElement("$marker"); o.insert(t,n);} else if (r) {a=c?"start":"end";}s.push({name: i,element: t,collapsed: a});}}a=e.getChildren();} else {a=[e];}r.handleNodes(a); let c=r.getSelectionRange(); if (e.is("documentFragment")&&s.length) {const t=c?lp.fromRange(c):null; const e={}; for (let t=s.length-1; t>=0; t--) {const {name: n,element: i,collapsed: a}=s[t]; const c=!e[n]; if (c) {e[n]=[];} if (i) {const t=o.createPositionAt(i,"before"); e[n].push(t); o.remove(i);} else {const t=r.getAffectedRange(); if (!t) {if (a) {e[n].push(r.position);} continue;} if (a) {e[n].push(t[a]);} else {e[n].push(c?t.start:t.end);}}} for (const [t,[n,i]] of Object.entries(e)) {if (n&&i&&n.root===i.root&&n.root.document&&!o.model.markers.has(t)) {o.addMarker(t,{usingOperation: true,affectsData: true,range: new Gm(n,i)});}} if (t) {c=t.toRange(); t.detach();}} if (c) {if (i instanceof fp) {o.setSelection(c);} else {i.setTo(c);}} else {} const l=r.getAffectedRange()||t.createRange(i.anchor); r.destroy(); return l;}));} class $w {constructor(t,e,n) {this._firstNode=null; this._lastNode=null; this._lastAutoParagraph=null; this._filterAttributesOf=[]; this._affectedStart=null; this._affectedEnd=null; this._nodeToSelect=null; this.model=t; this.writer=e; this.position=n; this.canMergeWith=new Set([this.position.parent]); this.schema=t.schema; this._documentFragment=e.createDocumentFragment(); this._documentFragmentPosition=e.createPositionAt(this._documentFragment,0);}handleNodes(t) {for (const e of Array.from(t)) {this._handleNode(e);} this._insertPartialFragment(); if (this._lastAutoParagraph) {this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph);} this._mergeOnRight(); this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer); this._filterAttributesOf=[];}_updateLastNodeFromAutoParagraph(t) {const e=this.writer.createPositionAfter(this._lastNode); const n=this.writer.createPositionAfter(t); if (n.isAfter(e)) {this._lastNode=t; if (this.position.parent!=t||!this.position.isAtEnd) {throw new V("insertcontent-invalid-insertion-position",this);} this.position=n; this._setAffectedBoundaries(this.position);}}getSelectionRange() {if (this._nodeToSelect) {return Gm._createOn(this._nodeToSelect);} return this.model.schema.getNearestSelectionRange(this.position);}getAffectedRange() {if (!this._affectedStart) {return null;} return new Gm(this._affectedStart,this._affectedEnd);}destroy() {if (this._affectedStart) {this._affectedStart.detach();} if (this._affectedEnd) {this._affectedEnd.detach();}}_handleNode(t) {if (this.schema.isObject(t)) {this._handleObject(t); return;} let e=this._checkAndAutoParagraphToAllowedPosition(t); if (!e) {e=this._checkAndSplitToAllowedPosition(t); if (!e) {this._handleDisallowedNode(t); return;}} this._appendToFragment(t); if (!this._firstNode) {this._firstNode=t;} this._lastNode=t;}_insertPartialFragment() {if (this._documentFragment.isEmpty) {return;} const t=iw.fromPosition(this.position,"toNext"); this._setAffectedBoundaries(this.position); if (this._documentFragment.getChild(0)==this._firstNode) {this.writer.insert(this._firstNode,this.position); this._mergeOnLeft(); this.position=t.toPosition();} if (!this._documentFragment.isEmpty) {this.writer.insert(this._documentFragment,this.position);} this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0); this.position=t.toPosition(); t.detach();}_handleObject(t) {if (this._checkAndSplitToAllowedPosition(t)) {this._appendToFragment(t);} else {this._tryAutoparagraphing(t);}}_handleDisallowedNode(t) {if (t.is("element")) {this.handleNodes(t.getChildren());} else {this._tryAutoparagraphing(t);}}_appendToFragment(t) {if (!this.schema.checkChild(this.position,t)) {throw new V("insertcontent-wrong-position",this,{node: t,position: this.position});} this.writer.insert(t,this._documentFragmentPosition); this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(t.offsetSize); if (this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")) {this._nodeToSelect=t;} else {this._nodeToSelect=null;} this._filterAttributesOf.push(t);}_setAffectedBoundaries(t) {if (!this._affectedStart) {this._affectedStart=iw.fromPosition(t,"toPrevious");} if (!this._affectedEnd||this._affectedEnd.isBefore(t)) {if (this._affectedEnd) {this._affectedEnd.detach();} this._affectedEnd=iw.fromPosition(t,"toNext");}}_mergeOnLeft() {const t=this._firstNode; if (!(t instanceof Fm)) {return;} if (!this._canMergeLeft(t)) {return;} const e=iw._createBefore(t); e.stickiness="toNext"; const n=iw.fromPosition(this.position,"toNext"); if (this._affectedStart.isEqual(e)) {this._affectedStart.detach(); this._affectedStart=iw._createAt(e.nodeBefore,"end","toPrevious");} if (this._firstNode===this._lastNode) {this._firstNode=e.nodeBefore; this._lastNode=e.nodeBefore;} this.writer.merge(e); if (e.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode) {this._affectedEnd.detach(); this._affectedEnd=iw._createAt(e.nodeBefore,"end","toNext");} this.position=n.toPosition(); n.detach(); this._filterAttributesOf.push(this.position.parent); e.detach();}_mergeOnRight() {const t=this._lastNode; if (!(t instanceof Fm)) {return;} if (!this._canMergeRight(t)) {return;} const e=iw._createAfter(t); e.stickiness="toNext"; if (!this.position.isEqual(e)) {throw new V("insertcontent-invalid-insertion-position",this);} this.position=Lm._createAt(e.nodeBefore,"end"); const n=iw.fromPosition(this.position,"toPrevious"); if (this._affectedEnd.isEqual(e)) {this._affectedEnd.detach(); this._affectedEnd=iw._createAt(e.nodeBefore,"end","toNext");} if (this._firstNode===this._lastNode) {this._firstNode=e.nodeBefore; this._lastNode=e.nodeBefore;} this.writer.merge(e); if (e.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode) {this._affectedStart.detach(); this._affectedStart=iw._createAt(e.nodeBefore,0,"toPrevious");} this.position=n.toPosition(); n.detach(); this._filterAttributesOf.push(this.position.parent); e.detach();}_canMergeLeft(t) {const e=t.previousSibling; return e instanceof Fm&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(e,t);}_canMergeRight(t) {const e=t.nextSibling; return e instanceof Fm&&this.canMergeWith.has(e)&&this.model.schema.checkMerge(t,e);}_tryAutoparagraphing(t) {const e=this.writer.createElement("paragraph"); if (this._getAllowedIn(this.position.parent,e)&&this.schema.checkChild(e,t)) {e._appendChild(t); this._handleNode(e);}}_checkAndAutoParagraphToAllowedPosition(t) {if (this.schema.checkChild(this.position.parent,t)) {return true;} if (!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",t)) {return false;} this._insertPartialFragment(); const e=this.writer.createElement("paragraph"); this.writer.insert(e,this.position); this._setAffectedBoundaries(this.position); this._lastAutoParagraph=e; this.position=this.writer.createPositionAt(e,0); return true;}_checkAndSplitToAllowedPosition(t) {const e=this._getAllowedIn(this.position.parent,t); if (!e) {return false;} if (e!=this.position.parent) {this._insertPartialFragment();} while (e!=this.position.parent) {if (this.position.isAtStart) {const t=this.position.parent; this.position=this.writer.createPositionBefore(t); if (t.isEmpty&&t.parent===e) {this.writer.remove(t);}} else if (this.position.isAtEnd) {this.position=this.writer.createPositionAfter(this.position.parent);} else {const t=this.writer.createPositionAfter(this.position.parent); this._setAffectedBoundaries(this.position); this.writer.split(this.position); this.position=t; this.canMergeWith.add(this.position.nodeAfter);}} return true;}_getAllowedIn(t,e) {if (this.schema.checkChild(t,e)) {return t;} if (this.schema.isLimit(t)) {return null;} return this._getAllowedIn(t.parent,e);}} function Gw(t,e,n,o={}) {if (!t.schema.isObject(e)) {throw new V("insertobject-element-not-an-object",t,{object: e});} const i=n?n:t.document.selection; let r=i; if (o.findOptimalPosition&&t.schema.isBlock(e)) {r=t.createSelection(t.schema.findOptimalInsertionRange(i,o.findOptimalPosition));} const s=rd(i.getSelectedBlocks()); const a={}; if (s) {Object.assign(a,t.schema.getAttributesWithProperty(s,"copyOnReplace",true));} return t.change((n => {if (!r.isCollapsed) {t.deleteContent(r,{doNotAutoparagraph: true});} let i=e; const s=r.anchor.parent; if (!t.schema.checkChild(s,e)&&t.schema.checkChild(s,"paragraph")&&t.schema.checkChild("paragraph",e)) {i=n.createElement("paragraph"); n.insert(e,i);}t.schema.setAllowedAttributes(i,a,n); const c=t.insertContent(i,r); if (c.isCollapsed) {return c;} if (o.setSelection) {Kw(n,e,o.setSelection,a);} return c;}));} function Kw(t,e,n,o) {const i=t.model; if (n=="on") {t.setSelection(e,"on"); return;} if (n!="after") {throw new V("insertobject-invalid-place-parameter-value",i);} let r=e.nextSibling; if (i.schema.isInline(e)) {t.setSelection(e,"after"); return;} const s=r&&i.schema.checkChild(r,"$text"); if (!s&&i.schema.checkChild(e.parent,"paragraph")) {r=t.createElement("paragraph"); i.schema.setAllowedAttributes(r,o,t); i.insertContent(r,t.createPositionAfter(e));} if (r) {t.setSelection(r,0);}} const Zw=' ,.?!:;"-()'; function Jw(t,e,n={}) {const o=t.schema; const i=n.direction!="backward"; const r=n.unit?n.unit:"character"; const s=!!n.treatEmojiAsSingleUnit; const a=e.focus; const c=new zm({boundaries: t_(a,i),singleCharacters: true,direction: i?"forward":"backward"}); const l={walker: c,schema: o,isForward: i,unit: r,treatEmojiAsSingleUnit: s}; let d; while (d=c.next()) {if (d.done) {return;} const n=Yw(l,d.value); if (n) {if (e instanceof fp) {t.change((t => {t.setSelectionFocus(n);}));} else {e.setFocus(n);} return;}}} function Yw(t,e) {const {isForward: n,walker: o,unit: i,schema: r,treatEmojiAsSingleUnit: s}=t; const {type: a,item: c,nextPosition: l}=e; if (a=="text") {if (t.unit==="word") {return Xw(o,n);} return Qw(o,i,s);} if (a==(n?"elementStart":"elementEnd")) {if (r.isSelectable(c)) {return Lm._createAt(c,n?"after":"before");} if (r.checkChild(l,"$text")) {return l;}} else {if (r.isLimit(c)) {o.skip((() => true)); return;} if (r.checkChild(l,"$text")) {return l;}}} function Qw(t,e,n) {const o=t.position.textNode; if (o) {const i=o.data; let r=t.position.offset-o.startOffset; while (kd(i,r)||e=="character"&&bd(i,r)||n&&_d(i,r)) {t.next(); r=t.position.offset-o.startOffset;}} return t.position;} function Xw(t,e) {let n=t.position.textNode; if (!n) {n=e?t.position.nodeAfter:t.position.nodeBefore;} while (n&&n.is("$text")) {const o=t.position.offset-n.startOffset; if (n_(n,o,e)) {n=e?t.position.nodeAfter:t.position.nodeBefore;} else if (e_(n.data,o,e)) {break;} else {t.next();}} return t.position;} function t_(t,e) {const n=t.root; const o=Lm._createAt(n,e?"end":0); if (e) {return new Gm(t,o);} return new Gm(o,t);} function e_(t,e,n) {const o=e+(n?0:-1); return Zw.includes(t.charAt(o));} function n_(t,e,n) {return e===(n?t.offsetSize:0);} class o_ extends (gt()) {constructor() {super(); this.markers=new kw; this.document=new mw(this); this.schema=new $k; this._pendingChanges=[]; this._currentWriter=null; ["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((t => this.decorate(t))); this.on("applyOperation",((t,e) => {const n=e[0]; n._validate();}),{priority: "highest"}); this.schema.register("$root",{isLimit: true}); this.schema.register("$container",{allowIn: ["$root","$container"]}); this.schema.register("$block",{allowIn: ["$root","$container"],isBlock: true}); this.schema.register("$blockObject",{allowWhere: "$block",isBlock: true,isObject: true}); this.schema.register("$inlineObject",{allowWhere: "$text",allowAttributesOf: "$text",isInline: true,isObject: true}); this.schema.register("$text",{allowIn: "$block",isInline: true,isContent: true}); this.schema.register("$clipboardHolder",{allowContentOf: "$root",allowChildren: "$text",isLimit: true}); this.schema.register("$documentFragment",{allowContentOf: "$root",allowChildren: "$text",isLimit: true}); this.schema.register("$marker"); this.schema.addChildCheck(((t,e) => {if (e.name==="$marker") {return true;}})); Pk(this); this.document.registerPostFixer(lk); this.on("insertContent",((t,[e,n]) => {t.return=Uw(this,e,n);})); this.on("insertObject",((t,[e,n,o]) => {t.return=Gw(this,e,n,o);})); this.on("canEditAt",(t => {const e=!this.document.isReadOnly; t.return=e; if (!e) {t.stop();}}));}change(t) {try {if (this._pendingChanges.length===0) {this._pendingChanges.push({batch: new aw,callback: t}); return this._runPendingChanges()[0];} return t(this._currentWriter);} catch (t) {V.rethrowUnexpectedError(t,this);}}enqueueChange(t,e) {try {if (!t) {t=new aw;} else if (typeof t==="function") {e=t; t=new aw;} else if (!(t instanceof aw)) {t=new aw(t);} this._pendingChanges.push({batch: t,callback: e}); if (this._pendingChanges.length==1) {this._runPendingChanges();}} catch (t) {V.rethrowUnexpectedError(t,this);}}applyOperation(t) {t._execute();}insertContent(t,e,n,...o) {const i=i_(e,n); return this.fire("insertContent",[t,i,n,...o]);}insertObject(t,e,n,o,...i) {const r=i_(e,n); return this.fire("insertObject",[t,r,o,o,...i]);}deleteContent(t,e) {Bw(this,t,e);}modifySelection(t,e) {Jw(this,t,e);}getSelectedContent(t) {return Ww(this,t);}hasContent(t,e={}) {const n=t instanceof Gm?t:Gm._createIn(t); if (n.isCollapsed) {return false;} const {ignoreWhitespaces: o=false,ignoreMarkers: i=false}=e; if (!i) {for (const t of this.markers.getMarkersIntersectingRange(n)) {if (t.affectsData) {return true;}}} for (const t of n.getItems()) {if (this.schema.isContent(t)) {if (t.is("$textProxy")) {if (!o) {return true;} else if (t.data.search(/\S/)!==-1) {return true;}} else {return true;}}} return false;}canEditAt(t) {const e=i_(t); return this.fire("canEditAt",[e]);}createPositionFromPath(t,e,n) {return new Lm(t,e,n);}createPositionAt(t,e) {return Lm._createAt(t,e);}createPositionAfter(t) {return Lm._createAfter(t);}createPositionBefore(t) {return Lm._createBefore(t);}createRange(t,e) {return new Gm(t,e);}createRangeIn(t) {return Gm._createIn(t);}createRangeOn(t) {return Gm._createOn(t);}createSelection(...t) {return new ep(...t);}createBatch(t) {return new aw(t);}createOperationFromJSON(t) {return qb.fromJSON(t,this.document);}destroy() {this.document.destroy(); this.stopListening();}_runPendingChanges() {const t=[]; this.fire("_beforeChanges"); try {while (this._pendingChanges.length) {const e=this._pendingChanges[0].batch; this._currentWriter=new Aw(this,e); const n=this._pendingChanges[0].callback(this._currentWriter); t.push(n); this.document._handleChangeBlock(this._currentWriter); this._pendingChanges.shift(); this._currentWriter=null;}} finally {this._pendingChanges.length=0; this._currentWriter=null; this.fire("_afterChanges");} return t;}} function i_(t,e) {if (!t) {return;} if (t instanceof ep||t instanceof fp) {return t;} if (t instanceof Pm) {if (e||e===0) {return new ep(t,e);} else if (t.is("rootElement")) {return new ep(t,"in");} return new ep(t,"on");} return new ep(t);} class r_ extends Gg {constructor() {super(...arguments); this.domEventType="click";}onDomEvent(t) {this.fire(t.type,t);}} class s_ extends Gg {constructor() {super(...arguments); this.domEventType=["mousedown","mouseup","mouseover","mouseout"];}onDomEvent(t) {this.fire(t.type,t);}} class a_ {constructor(t) {this.document=t;}createDocumentFragment(t) {return new Gh(this.document,t);}createElement(t,e,n) {return new dh(this.document,t,e,n);}createText(t) {return new Qd(this.document,t);}clone(t,e=false) {return t._clone(e);}appendChild(t,e) {return e._appendChild(t);}insertChild(t,e,n) {return n._insertChild(t,e);}removeChildren(t,e,n) {return n._removeChildren(t,e);}remove(t) {const e=t.parent; if (e) {return this.removeChildren(e.getChildIndex(t),1,e);} return [];}replace(t,e) {const n=t.parent; if (n) {const o=n.getChildIndex(t); this.removeChildren(o,1,n); this.insertChild(o,e,n); return true;} return false;}unwrapElement(t) {const e=t.parent; if (e) {const n=e.getChildIndex(t); this.remove(t); this.insertChild(n,t.getChildren(),e);}}rename(t,e) {const n=new dh(this.document,t,e.getAttributes(),e.getChildren()); return this.replace(e,n)?n:null;}setAttribute(t,e,n) {n._setAttribute(t,e);}removeAttribute(t,e) {e._removeAttribute(t);}addClass(t,e) {e._addClass(t);}removeClass(t,e) {e._removeClass(t);}setStyle(t,e,n) {if (me(t)&&n===undefined) {e._setStyle(t);} else {n._setStyle(t,e);}}removeStyle(t,e) {e._removeStyle(t);}setCustomProperty(t,e,n) {n._setCustomProperty(t,e);}removeCustomProperty(t,e) {return e._removeCustomProperty(t);}createPositionAt(t,e) {return _h._createAt(t,e);}createPositionAfter(t) {return _h._createAfter(t);}createPositionBefore(t) {return _h._createBefore(t);}createRange(t,e) {return new Ch(t,e);}createRangeOn(t) {return Ch._createOn(t);}createRangeIn(t) {return Ch._createIn(t);}createSelection(...t) {return new vh(...t);}} const c_=/^#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i; const l_=/^rgb\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}[0-9]{1,3}[ %]?\)$/i; const d_=/^rgba\([ ]?([0-9]{1,3}[ %]?,[ ]?){3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i; const u_=/^hsl\([ ]?([0-9]{1,3}[ %]?[,]?[ ]*){3}(1|[0-9]+%|[0]?\.?[0-9]+)?\)$/i; const h_=/^hsla\([ ]?([0-9]{1,3}[ %]?,[ ]?){2,3}(1|[0-9]+%|[0]?\.?[0-9]+)\)$/i; const g_=/\w+\((?:[^()]|\([^()]*\))*\)|\S+/gi; const f_=new Set(["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","orange","aliceblue","antiquewhite","aquamarine","azure","beige","bisque","blanchedalmond","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","gainsboro","ghostwhite","gold","goldenrod","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","limegreen","linen","magenta","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","oldlace","olivedrab","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","thistle","tomato","turquoise","violet","wheat","whitesmoke","yellowgreen","activeborder","activecaption","appworkspace","background","buttonface","buttonhighlight","buttonshadow","buttontext","captiontext","graytext","highlight","highlighttext","inactiveborder","inactivecaption","inactivecaptiontext","infobackground","infotext","menu","menutext","scrollbar","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","window","windowframe","windowtext","rebeccapurple","currentcolor","transparent"]); function m_(t) {if (t.startsWith("#")) {return c_.test(t);} if (t.startsWith("rgb")) {return l_.test(t)||d_.test(t);} if (t.startsWith("hsl")) {return u_.test(t)||h_.test(t);} return f_.has(t.toLowerCase());} const p_=null&&["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"]; function k_(t) {return p_.includes(t);} const b_=/^([+-]?[0-9]*([.][0-9]+)?(px|cm|mm|in|pc|pt|ch|em|ex|rem|vh|vw|vmin|vmax)|0)$/; function w_(t) {return b_.test(t);} const __=/^[+-]?[0-9]*([.][0-9]+)?%$/; function C_(t) {return __.test(t);} const A_=null&&["repeat-x","repeat-y","repeat","space","round","no-repeat"]; function v_(t) {return A_.includes(t);} const y_=null&&["center","top","bottom","left","right"]; function x_(t) {return y_.includes(t);} const E_=null&&["fixed","scroll","local"]; function D_(t) {return E_.includes(t);} const B_=/^url\(/; function T_(t) {return B_.test(t);} function S_(t="") {if (t==="") {return {top: undefined,right: undefined,bottom: undefined,left: undefined};} const e=V_(t); const n=e[0]; const o=e[2]||n; const i=e[1]||n; const r=e[3]||i; return {top: n,bottom: o,right: i,left: r};} function I_(t) {return e => {const {top: n,right: o,bottom: i,left: r}=e; const s=[]; if (![n,o,r,i].every((t => !!t))) {if (n) {s.push([`${t}-top`,n]);} if (o) {s.push([`${t}-right`,o]);} if (i) {s.push([`${t}-bottom`,i]);} if (r) {s.push([`${t}-left`,r]);}} else {s.push([t,P_(e)]);} return s;};} function P_({top: t,right: e,bottom: n,left: o}) {const i=[]; if (o!==e) {i.push(t,e,n,o);} else if (n!==t) {i.push(t,e,n);} else if (e!==t) {i.push(t,e);} else {i.push(t);} return i.join(" ");} function R_(t) {return e => ({path: t,value: S_(e)});} function V_(t) {const e=t.matchAll(g_); return Array.from(e).map((t => t[0]));} function M_(t) {t.setNormalizer("background",F_()); t.setNormalizer("background-color",O_()); t.setReducer("background",z_()); t.setStyleRelation("background",["background-color"]);} function F_() {return t => {const e={}; const n=getShorthandValues(t); for (const t of n) {if (isRepeat(t)) {e.repeat=e.repeat||[]; e.repeat.push(t);} else if (isPosition(t)) {e.position=e.position||[]; e.position.push(t);} else if (isAttachment(t)) {e.attachment=t;} else if (isColor(t)) {e.color=t;} else if (isURL(t)) {e.image=t;}} return {path: "background",value: e};};} function O_() {return t => ({path: "background.color",value: t});} function z_() {return t => {const e=[]; e.push(["background-color",t.color]); return e;};} function N_(t) {t.setNormalizer("border",L_()); t.setNormalizer("border-top",H_("top")); t.setNormalizer("border-right",H_("right")); t.setNormalizer("border-bottom",H_("bottom")); t.setNormalizer("border-left",H_("left")); t.setNormalizer("border-color",j_("color")); t.setNormalizer("border-width",j_("width")); t.setNormalizer("border-style",j_("style")); t.setNormalizer("border-top-color",q_("color","top")); t.setNormalizer("border-top-style",q_("style","top")); t.setNormalizer("border-top-width",q_("width","top")); t.setNormalizer("border-right-color",q_("color","right")); t.setNormalizer("border-right-style",q_("style","right")); t.setNormalizer("border-right-width",q_("width","right")); t.setNormalizer("border-bottom-color",q_("color","bottom")); t.setNormalizer("border-bottom-style",q_("style","bottom")); t.setNormalizer("border-bottom-width",q_("width","bottom")); t.setNormalizer("border-left-color",q_("color","left")); t.setNormalizer("border-left-style",q_("style","left")); t.setNormalizer("border-left-width",q_("width","left")); t.setExtractor("border-top",U_("top")); t.setExtractor("border-right",U_("right")); t.setExtractor("border-bottom",U_("bottom")); t.setExtractor("border-left",U_("left")); t.setExtractor("border-top-color","border.color.top"); t.setExtractor("border-right-color","border.color.right"); t.setExtractor("border-bottom-color","border.color.bottom"); t.setExtractor("border-left-color","border.color.left"); t.setExtractor("border-top-width","border.width.top"); t.setExtractor("border-right-width","border.width.right"); t.setExtractor("border-bottom-width","border.width.bottom"); t.setExtractor("border-left-width","border.width.left"); t.setExtractor("border-top-style","border.style.top"); t.setExtractor("border-right-style","border.style.right"); t.setExtractor("border-bottom-style","border.style.bottom"); t.setExtractor("border-left-style","border.style.left"); t.setReducer("border-color",getBoxSidesValueReducer("border-color")); t.setReducer("border-style",getBoxSidesValueReducer("border-style")); t.setReducer("border-width",getBoxSidesValueReducer("border-width")); t.setReducer("border-top",Z_("top")); t.setReducer("border-right",Z_("right")); t.setReducer("border-bottom",Z_("bottom")); t.setReducer("border-left",Z_("left")); t.setReducer("border",K_()); t.setStyleRelation("border",["border-color","border-style","border-width","border-top","border-right","border-bottom","border-left","border-top-color","border-right-color","border-bottom-color","border-left-color","border-top-style","border-right-style","border-bottom-style","border-left-style","border-top-width","border-right-width","border-bottom-width","border-left-width"]); t.setStyleRelation("border-color",["border-top-color","border-right-color","border-bottom-color","border-left-color"]); t.setStyleRelation("border-style",["border-top-style","border-right-style","border-bottom-style","border-left-style"]); t.setStyleRelation("border-width",["border-top-width","border-right-width","border-bottom-width","border-left-width"]); t.setStyleRelation("border-top",["border-top-color","border-top-style","border-top-width"]); t.setStyleRelation("border-right",["border-right-color","border-right-style","border-right-width"]); t.setStyleRelation("border-bottom",["border-bottom-color","border-bottom-style","border-bottom-width"]); t.setStyleRelation("border-left",["border-left-color","border-left-style","border-left-width"]);} function L_() {return t => {const {color: e,style: n,width: o}=G_(t); return {path: "border",value: {color: getBoxSidesValues(e),style: getBoxSidesValues(n),width: getBoxSidesValues(o)}};};} function H_(t) {return e => {const {color: n,style: o,width: i}=G_(e); const r={}; if (n!==undefined) {r.color={[t]: n};} if (o!==undefined) {r.style={[t]: o};} if (i!==undefined) {r.width={[t]: i};} return {path: "border",value: r};};} function j_(t) {return e => ({path: "border",value: W_(e,t)});} function W_(t,e) {return {[e]: getBoxSidesValues(t)};} function q_(t,e) {return n => ({path: "border",value: {[t]: {[e]: n}}});} function U_(t) {return (e,n) => {if (n.border) {return $_(n.border,t);}};} function $_(t,e) {const n={}; if (t.width&&t.width[e]) {n.width=t.width[e];} if (t.style&&t.style[e]) {n.style=t.style[e];} if (t.color&&t.color[e]) {n.color=t.color[e];} return n;} function G_(t) {const e={}; const n=getShorthandValues(t); for (const t of n) {if (isLength(t)||(/thin|medium|thick/).test(t)) {e.width=t;} else if (isLineStyle(t)) {e.style=t;} else {e.color=t;}} return e;} function K_() {return e => {const n=$_(e,"top"); const o=$_(e,"right"); const i=$_(e,"bottom"); const r=$_(e,"left"); const s=[n,o,i,r]; const a={width: t(s,"width"),style: t(s,"style"),color: t(s,"color")}; const c=J_(a,"all"); if (c.length) {return c;} const l=Object.entries(a).reduce(((t,[e,n]) => {if (n) {t.push([`border-${e}`,n]); s.forEach((t => delete t[e]));} return t;}),[]); return [...l,...J_(n,"top"),...J_(o,"right"),...J_(i,"bottom"),...J_(r,"left")];}; function t(t,e) {return t.map((t => t[e])).reduce(((t,e) => t==e?t:null));}} function Z_(t) {return e => J_(e,t);} function J_(t,e) {const n=[]; if (t&&t.width) {n.push("width");} if (t&&t.style) {n.push("style");} if (t&&t.color) {n.push("color");} if (n.length==3) {const o=n.map((e => t[e])).join(" "); return [e=="all"?["border",o]:[`border-${e}`,o]];} if (e=="all") {return [];} return n.map((n => [`border-${e}-${n}`,t[n]]));} function Y_(t) {t.setNormalizer("margin",getPositionShorthandNormalizer("margin")); t.setNormalizer("margin-top",(t => ({path: "margin.top",value: t}))); t.setNormalizer("margin-right",(t => ({path: "margin.right",value: t}))); t.setNormalizer("margin-bottom",(t => ({path: "margin.bottom",value: t}))); t.setNormalizer("margin-left",(t => ({path: "margin.left",value: t}))); t.setReducer("margin",getBoxSidesValueReducer("margin")); t.setStyleRelation("margin",["margin-top","margin-right","margin-bottom","margin-left"]);} function Q_(t) {t.setNormalizer("padding",getPositionShorthandNormalizer("padding")); t.setNormalizer("padding-top",(t => ({path: "padding.top",value: t}))); t.setNormalizer("padding-right",(t => ({path: "padding.right",value: t}))); t.setNormalizer("padding-bottom",(t => ({path: "padding.bottom",value: t}))); t.setNormalizer("padding-left",(t => ({path: "padding.left",value: t}))); t.setReducer("padding",getBoxSidesValueReducer("padding")); t.setStyleRelation("padding",["padding-top","padding-right","padding-bottom","padding-left"]);} class X_ {constructor() {this._commands=new Map;}add(t,e) {this._commands.set(t,e);}get(t) {return this._commands.get(t);}execute(t,...e) {const n=this.get(t); if (!n) {throw new V("commandcollection-command-not-found",this,{commandName: t});} return n.execute(...e);}*names() {yield*this._commands.keys();}*commands() {yield*this._commands.values();}[Symbol.iterator]() {return this._commands[Symbol.iterator]();}destroy() {for (const t of this.commands()) {t.destroy();}}} class tC extends ad {constructor(t) {super(); this.editor=t;}set(t,e,n={}) {if (typeof e==="string") {const t=e; e=(e,n) => {this.editor.execute(t); n();};} super.set(t,e,n);}} const eC="contentEditing"; const nC="common"; class oC {constructor(t) {this.keystrokeInfos=new Map; this._editor=t; const e=t.config.get("menuBar.isVisible"); const n=t.locale.t; this.addKeystrokeInfoCategory({id: eC,label: n("Content editing keystrokes"),description: n("These keyboard shortcuts allow for quick access to content editing features.")}); const o=[{label: n("Close contextual balloons, dropdowns, and dialogs"),keystroke: "Esc"},{label: n("Open the accessibility help dialog"),keystroke: "Alt+0"},{label: n("Move focus between form fields (inputs, buttons, etc.)"),keystroke: [["Tab"],["Shift+Tab"]]},{label: n("Move focus to the toolbar, navigate between toolbars"),keystroke: "Alt+F10",mayRequireFn: true},{label: n("Navigate through the toolbar or menu bar"),keystroke: [["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label: n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke: [["Enter"],["Space"]]}]; if (e) {o.push({label: n("Move focus to the menu bar, navigate between menu bars"),keystroke: "Alt+F9",mayRequireFn: true});} this.addKeystrokeInfoCategory({id: "navigation",label: n("User interface and content navigation keystrokes"),description: n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups: [{id: "common",keystrokes: o}]});}addKeystrokeInfoCategory({id: t,label: e,description: n,groups: o}) {this.keystrokeInfos.set(t,{id: t,label: e,description: n,groups: new Map}); this.addKeystrokeInfoGroup({categoryId: t,id: nC}); if (o) {o.forEach((e => {this.addKeystrokeInfoGroup({categoryId: t,...e});}));}}addKeystrokeInfoGroup({categoryId: t=eC,id: e,label: n,keystrokes: o}) {const i=this.keystrokeInfos.get(t); if (!i) {throw new V("accessibility-unknown-keystroke-info-category",this._editor,{groupId: e,categoryId: t});}i.groups.set(e,{id: e,label: n,keystrokes: o||[]});}addKeystrokeInfos({categoryId: t=eC,groupId: e=nC,keystrokes: n}) {if (!this.keystrokeInfos.has(t)) {throw new V("accessibility-unknown-keystroke-info-category",this._editor,{categoryId: t,keystrokes: n});} const o=this.keystrokeInfos.get(t); if (!o.groups.has(e)) {throw new V("accessibility-unknown-keystroke-info-group",this._editor,{groupId: e,categoryId: t,keystrokes: n});}o.groups.get(e).keystrokes.push(...n);}} class iC extends (gt()) {constructor(t={}) {super(); const e=this.constructor; const {translations: n,...o}=e.defaultConfig||{}; const {translations: i=n,...r}=t; const s=t.language||o.language; this._context=t.context||new Bd({language: s,translations: i}); this._context._addEditor(this,!t.context); const a=Array.from(e.builtinPlugins||[]); this.config=new Ua(r,o); this.config.define("plugins",a); this.config.define(this._context._getEditorConfig()); this.plugins=new Dd(this,a,this._context.plugins); this.locale=this._context.locale; this.t=this.locale.t; this._readOnlyLocks=new Set; this.commands=new X_; this.set("state","initializing"); this.once("ready",(() => this.state="ready"),{priority: "high"}); this.once("destroy",(() => this.state="destroyed"),{priority: "high"}); this.model=new o_; this.on("change:isReadOnly",(() => {this.model.document.isReadOnly=this.isReadOnly;})); const c=new sh; this.data=new kb(this.model,c); this.editing=new Hk(this.model,c); this.editing.view.document.bind("isReadOnly").to(this); this.conversion=new wb([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher); this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher); this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher); this.keystrokes=new tC(this); this.keystrokes.listenTo(this.editing.view.document); this.accessibility=new oC(this);} get isReadOnly() {return this._readOnlyLocks.size>0;} set isReadOnly(t) {throw new V("editor-isreadonly-has-no-setter");}enableReadOnlyMode(t) {if (typeof t!=="string"&&typeof t!=="symbol") {throw new V("editor-read-only-lock-id-invalid",null,{lockId: t});} if (this._readOnlyLocks.has(t)) {return;} this._readOnlyLocks.add(t); if (this._readOnlyLocks.size===1) {this.fire("change:isReadOnly","isReadOnly",true,false);}}disableReadOnlyMode(t) {if (typeof t!=="string"&&typeof t!=="symbol") {throw new V("editor-read-only-lock-id-invalid",null,{lockId: t});} if (!this._readOnlyLocks.has(t)) {return;} this._readOnlyLocks.delete(t); if (this._readOnlyLocks.size===0) {this.fire("change:isReadOnly","isReadOnly",false,true);}}setData(t) {this.data.set(t);}getData(t) {return this.data.get(t);}initPlugins() {const t=this.config; const e=t.get("plugins"); const n=t.get("removePlugins")||[]; const o=t.get("extraPlugins")||[]; const i=t.get("substitutePlugins")||[]; return this.plugins.init(e.concat(o),n,i);}destroy() {let t=Promise.resolve(); if (this.state=="initializing") {t=new Promise((t => this.once("ready",t)));} return t.then((() => {this.fire("destroy"); this.stopListening(); this.commands.destroy();})).then((() => this.plugins.destroy())).then((() => {this.model.destroy(); this.data.destroy(); this.editing.destroy(); this.keystrokes.destroy();})).then((() => this._context._removeEditor(this)));}execute(t,...e) {try {return this.commands.execute(t,...e);} catch (t) {V.rethrowUnexpectedError(t,this);}}focus() {this.editing.view.focus();} static create(...t) {throw new Error("This is an abstract method.");}} function rC(t) {if (!Ge(t.updateSourceElement)) {throw new V("attachtoform-missing-elementapi-interface",t);} const e=t.sourceElement; if (sC(e)&&e.form) {let n; const o=e.form; const i=() => t.updateSourceElement(); if (Ge(o.submit)) {n=o.submit; o.submit=() => {i(); n.apply(o);};}o.addEventListener("submit",i); t.on("destroy",(() => {o.removeEventListener("submit",i); if (n) {o.submit=n;}}));}} function sC(t) {return !!t&&t.tagName.toLowerCase()==="textarea";} function aC(t) {class e extends t {updateSourceElement(t) {if (!this.sourceElement) {throw new V("editor-missing-sourceelement",this);} const e=this.config.get("updateSourceElementOnDestroy"); const n=this.sourceElement instanceof HTMLTextAreaElement; if (!e&&!n) {_c(this.sourceElement,""); return;} const o=typeof t==="string"?t:this.data.get(); _c(this.sourceElement,o);}} return e;}aC.updateSourceElement=aC(Object).prototype.updateSourceElement; function cC(t,e) {if (e.ckeditorInstance) {throw new CKEditorError("editor-source-element-already-used",t);}e.ckeditorInstance=t; t.once("destroy",(() => {delete e.ckeditorInstance;}));} class lC extends Td {static get pluginName() {return "PendingActions";}init() {this.set("hasAny",false); this._actions=new id({idProperty: "_id"}); this._actions.delegate("add","remove").to(this);}add(t) {if (typeof t!=="string") {throw new V("pendingactions-add-invalid-message",this);} const e=new (gt()); e.set("message",t); this._actions.add(e); this.hasAny=true; return e;}remove(t) {this._actions.remove(t); this.hasAny=!!this._actions.length;} get first() {return this._actions.get(0);}[Symbol.iterator]() {return this._actions[Symbol.iterator]();}} const dC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'; const uC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>'; const hC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'; const gC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>'; const fC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>'; const mC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>'; const pC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>'; const kC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>'; const bC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>'; const wC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>'; const _C='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'; const CC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'; const AC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>'; const vC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>'; const yC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>'; const xC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>'; const EC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>'; const DC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>'; const BC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>'; const TC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'; const SC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>'; const IC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>'; const PC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>'; const RC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>'; const VC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>'; const MC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>'; const FC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>'; const OC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>'; const zC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>'; const NC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>'; const LC='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>'; const HC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>'; const jC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>'; const WC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>'; const qC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>'; const UC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>'; const $C='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>'; const GC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'; const KC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>'; const ZC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>'; const JC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>'; const YC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>'; const QC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>'; const XC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>'; const tA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>'; const eA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>'; const nA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>'; const oA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'; const iA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'; const rA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>'; const sA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>'; const aA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>'; const cA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>'; const lA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>'; const dA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>'; const uA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>'; const hA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>'; const gA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>'; const fA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>'; const mA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>'; const pA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>'; const kA='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'; const bA={bold: ZC,cancel: dC,caption: uC,check: hC,cog: gC,colorPalette: fC,eraser: mC,history: pC,image: AC,imageUpload: vC,imageAssetManager: yC,imageUrl: xC,lowVision: kC,textAlternative: bC,loupe: wC,previousArrow: _C,nextArrow: CC,importExport: XC,paragraph: JC,plus: YC,text: QC,alignBottom: EC,alignMiddle: DC,alignTop: BC,alignLeft: TC,alignCenter: SC,alignRight: IC,alignJustify: PC,objectLeft: zC,objectCenter: VC,objectRight: NC,objectFullWidth: FC,objectInline: OC,objectBlockLeft: RC,objectBlockRight: MC,objectSizeFull: LC,objectSizeLarge: HC,objectSizeSmall: jC,objectSizeMedium: WC,pencil: qC,pilcrow: UC,quote: $C,threeVerticalDots: GC,dragIndicator: KC,redo: tA,undo: eA,bulletedList: nA,numberedList: oA,todoList: iA,codeBlock: rA,browseFiles: sA,heading1: aA,heading2: cA,heading3: lA,heading4: dA,heading5: uA,heading6: hA,horizontalLine: gA,html: fA,indent: mA,outdent: pA,table: kA}; class wA extends id {constructor(t=[]) {super(t,{idProperty: "viewUid"}); this.on("add",((t,e,n) => {this._renderViewIntoCollectionParent(e,n);})); this.on("remove",((t,e) => {if (e.element&&this._parentElement) {e.element.remove();}})); this._parentElement=null;}destroy() {this.map((t => t.destroy()));}setParent(t) {this._parentElement=t; for (const t of this) {this._renderViewIntoCollectionParent(t);}}delegate(...t) {if (!t.length||!_A(t)) {throw new V("ui-viewcollection-delegate-wrong-events",this);} return {to: e => {for (const n of this) {for (const o of t) {n.delegate(o).to(e);}} this.on("add",((n,o) => {for (const n of t) {o.delegate(n).to(e);}})); this.on("remove",((n,o) => {for (const n of t) {o.stopDelegating(n,e);}}));}};}_renderViewIntoCollectionParent(t,e) {if (!t.isRendered) {t.render();} if (t.element&&this._parentElement) {this._parentElement.insertBefore(t.element,this._parentElement.children[e]);}}remove(t) {return super.remove(t);}} function _A(t) {return t.every((t => typeof t==="string"));} const CA="http://www.w3.org/1999/xhtml"; class AA extends (G()) {constructor(t) {super(); Object.assign(this,RA(PA(t))); this._isRendered=false; this._revertData=null;}render() {const t=this._renderNode({intoFragment: true}); this._isRendered=true; return t;}apply(t) {this._revertData=GA(); this._renderNode({node: t,intoFragment: false,isApplying: true,revertData: this._revertData}); return t;}revert(t) {if (!this._revertData) {throw new V("ui-template-revert-not-applied",[this,t]);} this._revertTemplateFromNode(t,this._revertData);}*getViews() {function*t(e) {if (e.children) {for (const n of e.children) {if (WA(n)) {yield n;} else if (qA(n)) {yield*t(n);}}}} yield*t(this);} static bind(t,e) {return {to(n,o) {return new yA({eventNameOrFunction: n,attribute: n,observable: t,emitter: e,callback: o});},if(n,o,i) {return new xA({observable: t,emitter: e,attribute: n,valueIfTrue: o,callback: i});}};} static extend(t,e) {if (t._isRendered) {throw new V("template-extend-render",[this,t]);}HA(t,RA(PA(e)));}_renderNode(t) {let e; if (t.node) {e=this.tag&&this.text;} else {e=this.tag?this.text:!this.text;} if (e) {throw new V("ui-template-wrong-syntax",this);} if (this.text) {return this._renderText(t);} return this._renderElement(t);}_renderElement(t) {let e=t.node; if (!e) {e=t.node=document.createElementNS(this.ns||CA,this.tag);} this._renderAttributes(t); this._renderElementChildren(t); this._setUpListeners(t); return e;}_renderText(t) {let e=t.node; if (e) {t.revertData.text=e.textContent;} else {e=t.node=document.createTextNode("");} if (EA(this.text)) {this._bindToObservable({schema: this.text,updater: TA(e),data: t});} else {e.textContent=this.text.join("");} return e;}_renderAttributes(t) {if (!this.attributes) {return;} const e=t.node; const n=t.revertData; for (const o in this.attributes) {const i=e.getAttribute(o); const r=this.attributes[o]; if (n) {n.attributes[o]=i;} const s=$A(r)?r[0].ns:null; if (EA(r)) {const a=$A(r)?r[0].value:r; if (n&&KA(o)) {a.unshift(i);} this._bindToObservable({schema: a,updater: SA(e,o,s),data: t});} else if (o=="style"&&typeof r[0]!=="string") {this._renderStyleAttribute(r[0],t);} else {if (n&&i&&KA(o)) {r.unshift(i);} const t=r.map((t => t?t.value||t:t)).reduce(((t,e) => t.concat(e)),[]).reduce(NA,""); if (!jA(t)) {e.setAttributeNS(s,o,t);}}}}_renderStyleAttribute(t,e) {const n=e.node; for (const o in t) {const i=t[o]; if (EA(i)) {this._bindToObservable({schema: [i],updater: IA(n,o),data: e});} else {n.style[o]=i;}}}_renderElementChildren(t) {const e=t.node; const n=t.intoFragment?document.createDocumentFragment():e; const o=t.isApplying; let i=0; for (const r of this.children) {if (UA(r)) {if (!o) {r.setParent(e); for (const t of r) {n.appendChild(t.element);}}} else if (WA(r)) {if (!o) {if (!r.isRendered) {r.render();}n.appendChild(r.element);}} else if (Ka(r)) {n.appendChild(r);} else if (o) {const e=t.revertData; const o=GA(); e.children.push(o); r._renderNode({intoFragment: false,node: n.childNodes[i++],isApplying: true,revertData: o});} else {n.appendChild(r.render());}} if (t.intoFragment) {e.appendChild(n);}}_setUpListeners(t) {if (!this.eventListeners) {return;} for (const e in this.eventListeners) {const n=this.eventListeners[e].map((n => {const [o,i]=e.split("@"); return n.activateDomEventListener(o,i,t);})); if (t.revertData) {t.revertData.bindings.push(n);}}}_bindToObservable({schema: t,updater: e,data: n}) {const o=n.revertData; BA(t,e,n); const i=t.filter((t => !jA(t))).filter((t => t.observable)).map((o => o.activateAttributeListener(t,e,n))); if (o) {o.bindings.push(i);}}_revertTemplateFromNode(t,e) {for (const t of e.bindings) {for (const e of t) {e();}} if (e.text) {t.textContent=e.text; return;} const n=t; for (const t in e.attributes) {const o=e.attributes[t]; if (o===null) {n.removeAttribute(t);} else {n.setAttribute(t,o);}} for (let t=0; t<e.children.length; ++t) {this._revertTemplateFromNode(n.childNodes[t],e.children[t]);}}} class vA {constructor(t) {this.attribute=t.attribute; this.observable=t.observable; this.emitter=t.emitter; this.callback=t.callback;}getValue(t) {const e=this.observable[this.attribute]; return this.callback?this.callback(e,t):e;}activateAttributeListener(t,e,n) {const o=() => BA(t,e,n); this.emitter.listenTo(this.observable,`change:${this.attribute}`,o); return () => {this.emitter.stopListening(this.observable,`change:${this.attribute}`,o);};}} class yA extends vA {constructor(t) {super(t); this.eventNameOrFunction=t.eventNameOrFunction;}activateDomEventListener(t,e,n) {const o=(t,n) => {if (!e||n.target.matches(e)) {if (typeof this.eventNameOrFunction==="function") {this.eventNameOrFunction(n);} else {this.observable.fire(this.eventNameOrFunction,n);}}}; this.emitter.listenTo(n.node,t,o); return () => {this.emitter.stopListening(n.node,t,o);};}} class xA extends vA {constructor(t) {super(t); this.valueIfTrue=t.valueIfTrue;}getValue(t) {const e=super.getValue(t); return jA(e)?false:this.valueIfTrue||true;}} function EA(t) {if (!t) {return false;} if (t.value) {t=t.value;} if (Array.isArray(t)) {return t.some(EA);} else if (t instanceof vA) {return true;} return false;} function DA(t,e) {return t.map((t => {if (t instanceof vA) {return t.getValue(e);} return t;}));} function BA(t,e,{node: n}) {const o=DA(t,n); let i; if (t.length==1&&t[0]instanceof xA) {i=o[0];} else {i=o.reduce(NA,"");} if (jA(i)) {e.remove();} else {e.set(i);}} function TA(t) {return {set(e) {t.textContent=e;},remove() {t.textContent="";}};} function SA(t,e,n) {return {set(o) {t.setAttributeNS(n,e,o);},remove() {t.removeAttributeNS(n,e);}};} function IA(t,e) {return {set(n) {t.style[e]=n;},remove() {t.style[e]=null;}};} function PA(t) {const e=ja(t,(t => {if (t&&(t instanceof vA||qA(t)||WA(t)||UA(t))) {return t;}})); return e;} function RA(t) {if (typeof t==="string") {t=FA(t);} else if (t.text) {OA(t);} if (t.on) {t.eventListeners=MA(t.on); delete t.on;} if (!t.text) {if (t.attributes) {VA(t.attributes);} const e=[]; if (t.children) {if (UA(t.children)) {e.push(t.children);} else {for (const n of t.children) {if (qA(n)||WA(n)||Ka(n)) {e.push(n);} else {e.push(new AA(n));}}}}t.children=e;} return t;} function VA(t) {for (const e in t) {if (t[e].value) {t[e].value=rl(t[e].value);}zA(t,e);}} function MA(t) {for (const e in t) {zA(t,e);} return t;} function FA(t) {return {text: [t]};} function OA(t) {t.text=rl(t.text);} function zA(t,e) {t[e]=rl(t[e]);} function NA(t,e) {if (jA(e)) {return t;} else if (jA(t)) {return e;} return `${t} ${e}`;} function LA(t,e) {for (const n in e) {if (t[n]) {t[n].push(...e[n]);} else {t[n]=e[n];}}} function HA(t,e) {if (e.attributes) {if (!t.attributes) {t.attributes={};}LA(t.attributes,e.attributes);} if (e.eventListeners) {if (!t.eventListeners) {t.eventListeners={};}LA(t.eventListeners,e.eventListeners);} if (e.text) {t.text.push(...e.text);} if (e.children&&e.children.length) {if (t.children.length!=e.children.length) {throw new V("ui-template-extend-children-mismatch",t);} let n=0; for (const o of e.children) {HA(t.children[n++],o);}}} function jA(t) {return !t&&t!==0;} function WA(t) {return t instanceof XA;} function qA(t) {return t instanceof AA;} function UA(t) {return t instanceof wA;} function $A(t) {return st(t[0])&&t[0].ns;} function GA() {return {children: [],bindings: [],attributes: {}};} function KA(t) {return t=="class"||t=="style";} const ZA=n(7718); const JA={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; JA.insert="head"; JA.singleton=true; const YA=Id()(ZA.A,JA); const QA=ZA.A.locals||{}; class XA extends (Ya(gt())) {constructor(t) {super(); this.element=null; this.isRendered=false; this.locale=t; this.t=t&&t.t; this._viewCollections=new id; this._unboundChildren=this.createCollection(); this._viewCollections.on("add",((e,n) => {n.locale=t; n.t=t&&t.t;})); this.decorate("render");} get bindTemplate() {if (this._bindTemplate) {return this._bindTemplate;} return this._bindTemplate=AA.bind(this,this);}createCollection(t) {const e=new wA(t); this._viewCollections.add(e); return e;}registerChild(t) {if (!Dt(t)) {t=[t];} for (const e of t) {this._unboundChildren.add(e);}}deregisterChild(t) {if (!Dt(t)) {t=[t];} for (const e of t) {this._unboundChildren.remove(e);}}setTemplate(t) {this.template=new AA(t);}extendTemplate(t) {AA.extend(this.template,t);}render() {if (this.isRendered) {throw new V("ui-view-render-already-rendered",this);} if (this.template) {this.element=this.template.render(); this.registerChild(this.template.getViews());} this.isRendered=true;}destroy() {this.stopListening(); this._viewCollections.map((t => t.destroy())); if (this.template&&this.template._revertData) {this.template.revert(this.element);}}} const tv=n(3475); const ev={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; ev.insert="head"; ev.singleton=true; const nv=Id()(tv.A,ev); const ov=tv.A.locals||{}; class iv extends XA {constructor(t) {super(t); this.set("text",undefined); this.set("for",undefined); this.id=`ck-editor__label_${T()}`; const e=this.bindTemplate; this.setTemplate({tag: "label",attributes: {class: ["ck","ck-label"],id: this.id,for: e.to("for")},children: [{text: e.to("text")}]});}} class rv extends XA {constructor(t,e) {super(t); const n=t.t; const o=new iv; o.text=n("Help Contents. To close this dialog press ESC."); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-accessibility-help-dialog__content"],"aria-labelledby": o.id,role: "document",tabindex: -1},children: [oe(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(e.values())),o]});}focus() {this.element.focus();}_createCategories(t) {return t.map((t => {const e=[oe(document,"h3",{},t.label),...Array.from(t.groups.values()).map((t => this._createGroup(t))).flat()]; if (t.description) {e.splice(1,0,oe(document,"p",{},t.description));} return oe(document,"section",{},e);}));}_createGroup(t) {const e=t.keystrokes.sort(((t,e) => t.label.localeCompare(e.label))).map((t => this._createGroupRow(t))).flat(); const n=[oe(document,"dl",{},e)]; if (t.label) {n.unshift(oe(document,"h4",{},t.label));} return n;}_createGroupRow(t) {const e=this.locale.t; const n=oe(document,"dt"); const o=oe(document,"dd"); const i=av(t.keystroke); const r=[]; for (const t of i) {r.push(t.map(sv).join(""));}n.innerHTML=t.label; o.innerHTML=r.join(", ")+(t.mayRequireFn&&l.isMac?` ${e("(may require <kbd>Fn</kbd>)")}`:""); return [n,o];}} function sv(t) {return Qc(t).split("+").map((t => `<kbd>${t}</kbd>`)).join("+");} function av(t) {if (typeof t==="string") {return [[t]];} if (typeof t[0]==="string") {return [t];} return t;} const cv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>'; const lv=n(1353); const dv={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; dv.insert="head"; dv.singleton=true; const uv=Id()(lv.A,dv); const hv=lv.A.locals||{}; class gv extends Ad {constructor() {super(...arguments); this.contentView=null;} static get requires() {return [SD];} static get pluginName() {return "AccessibilityHelp";}init() {const t=this.editor; const e=t.locale.t; t.ui.componentFactory.add("accessibilityHelp",(() => {const t=this._createButton(Ev); t.set({tooltip: true,withText: false,label: e("Accessibility help")}); return t;})); t.ui.componentFactory.add("menuBar:accessibilityHelp",(() => {const t=this._createButton(HS); t.label=e("Accessibility"); return t;})); t.keystrokes.set("Alt+0",((t,e) => {this._showDialog(); e();})); this._setupRootLabels();}_createButton(t) {const e=this.editor; const n=e.locale; const o=new t(n); o.set({keystroke: "Alt+0",icon: cv}); o.on("execute",(() => this._showDialog())); return o;}_setupRootLabels() {const t=this.editor; const e=t.editing.view; const n=t.t; t.ui.on("ready",(() => {e.change((t => {for (const n of e.document.roots) {o(t,n);}})); t.on("addRoot",((n,i) => {const r=t.editing.view.document.getRoot(i.rootName); e.change((t => o(t,r)));}),{priority: "low"});})); function o(t,e) {const o=e.getAttribute("aria-label"); const i=`${o}. ${n("Press %0 for help.",[Qc("Alt+0")])}`; t.setAttribute("aria-label",i,e);}}_showDialog() {const t=this.editor; const e=t.plugins.get("Dialog"); const n=t.locale.t; if (!this.contentView) {this.contentView=new rv(t.locale,t.accessibility.keystrokeInfos);}e.show({id: "accessibilityHelp",className: "ck-accessibility-help-dialog",title: n("Accessibility help"),icon: cv,hasCloseButton: true,content: this.contentView});}} class fv extends wA {constructor(t,e=[]) {super(e); this.locale=t;} get bodyCollectionContainer() {return this._bodyCollectionContainer;}attachToDom() {this._bodyCollectionContainer=new AA({tag: "div",attributes: {class: ["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir: this.locale.uiLanguageDirection},children: this}).render(); let t=document.querySelector(".ck-body-wrapper"); if (!t) {t=oe(document,"div",{class: "ck-body-wrapper"}); document.body.appendChild(t);}t.appendChild(this._bodyCollectionContainer);}detachFromDom() {super.destroy(); if (this._bodyCollectionContainer) {this._bodyCollectionContainer.remove();} const t=document.querySelector(".ck-body-wrapper"); if (t&&t.childElementCount==0) {t.remove();}}} const mv=n(2191); const pv={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; pv.insert="head"; pv.singleton=true; const kv=Id()(mv.A,pv); const bv=mv.A.locals||{}; class wv extends XA {constructor() {super(); const t=this.bindTemplate; this.set("content",""); this.set("viewBox","0 0 20 20"); this.set("fillColor",""); this.set("isColorInherited",true); this.set("isVisible",true); this.setTemplate({tag: "svg",ns: "http://www.w3.org/2000/svg",attributes: {class: ["ck","ck-icon",t.if("isVisible","ck-hidden",(t => !t)),"ck-reset_all-excluded",t.if("isColorInherited","ck-icon_inherit-color")],viewBox: t.to("viewBox")}});}render() {super.render(); this._updateXMLContent(); this._colorFillPaths(); this.on("change:content",(() => {this._updateXMLContent(); this._colorFillPaths();})); this.on("change:fillColor",(() => {this._colorFillPaths();}));}_updateXMLContent() {if (this.content) {const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml"); const e=t.querySelector("svg"); const n=e.getAttribute("viewBox"); if (n) {this.viewBox=n;} for (const {name: t,value: n} of Array.from(e.attributes)) {if (wv.presentationalAttributeNames.includes(t)) {this.element.setAttribute(t,n);}} while (this.element.firstChild) {this.element.removeChild(this.element.firstChild);} while (e.childNodes.length>0) {this.element.appendChild(e.childNodes[0]);}}}_colorFillPaths() {if (this.fillColor) {this.element.querySelectorAll(".ck-icon__fill").forEach((t => {t.style.fill=this.fillColor;}));}}}wv.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"]; const _v=wv; class Cv extends XA {constructor() {super(); this.set({style: undefined,text: undefined,id: undefined}); const t=this.bindTemplate; this.setTemplate({tag: "span",attributes: {class: ["ck","ck-button__label"],style: t.to("style"),id: t.to("id")},children: [{text: t.to("text")}]});}} const Av=n(8941); const vv={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; vv.insert="head"; vv.singleton=true; const yv=Id()(Av.A,vv); const xv=Av.A.locals||{}; class Ev extends XA {constructor(t,e=new Cv) {super(t); this._focusDelayed=null; const n=this.bindTemplate; const o=T(); this.set("ariaLabel",undefined); this.set("ariaLabelledBy",`ck-editor__aria-label_${o}`); this.set("class",undefined); this.set("labelStyle",undefined); this.set("icon",undefined); this.set("isEnabled",true); this.set("isOn",false); this.set("isVisible",true); this.set("isToggleable",false); this.set("keystroke",undefined); this.set("label",undefined); this.set("role",undefined); this.set("tabindex",-1); this.set("tooltip",false); this.set("tooltipPosition","s"); this.set("type","button"); this.set("withText",false); this.set("withKeystroke",false); this.children=this.createCollection(); this.labelView=this._setupLabelView(e); this.iconView=new _v; this.iconView.extendTemplate({attributes: {class: "ck-button__icon"}}); this.keystrokeView=this._createKeystrokeView(); this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)); const i={tag: "button",attributes: {class: ["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(t => !t)),n.if("isVisible","ck-hidden",(t => !t)),n.to("isOn",(t => t?"ck-on":"ck-off")),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role: n.to("role"),type: n.to("type",(t => t?t:"button")),tabindex: n.to("tabindex"),"aria-checked": n.to("ariaChecked"),"aria-label": n.to("ariaLabel"),"aria-labelledby": n.to("ariaLabelledBy"),"aria-disabled": n.if("isEnabled",true,(t => !t)),"aria-pressed": n.to("isOn",(t => this.isToggleable?String(!!t):false)),"data-cke-tooltip-text": n.to("_tooltipString"),"data-cke-tooltip-position": n.to("tooltipPosition")},children: this.children,on: {click: n.to((t => {if (this.isEnabled) {this.fire("execute");} else {t.preventDefault();}}))}}; if (l.isSafari) {if (!this._focusDelayed) {this._focusDelayed=hd((() => this.focus()),0);}i.on.mousedown=n.to((() => {this._focusDelayed();})); i.on.mouseup=n.to((() => {this._focusDelayed.cancel();}));} this.setTemplate(i);}render() {super.render(); if (this.icon) {this.iconView.bind("content").to(this,"icon"); this.children.add(this.iconView);} this.children.add(this.labelView); if (this.withKeystroke&&this.keystroke) {this.children.add(this.keystrokeView);}}focus() {this.element.focus();}destroy() {if (this._focusDelayed) {this._focusDelayed.cancel();} super.destroy();}_setupLabelView(t) {t.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"); return t;}_createKeystrokeView() {const t=new XA; t.setTemplate({tag: "span",attributes: {class: ["ck","ck-button__keystroke"]},children: [{text: this.bindTemplate.to("keystroke",(t => Qc(t)))}]}); return t;}_getTooltipString(t,e,n) {if (t) {if (typeof t==="string") {return t;} if (n) {n=Qc(n);} if (t instanceof Function) {return t(e,n);} return `${e}${n?` (${n})`:""}`;} return "";}} const Dv=n(8613); const Bv={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Bv.insert="head"; Bv.singleton=true; const Tv=Id()(Dv.A,Bv); const Sv=Dv.A.locals||{}; class Iv extends Ev {constructor(t) {super(t); this.isToggleable=true; this.toggleSwitchView=this._createToggleView(); this.extendTemplate({attributes: {class: "ck-switchbutton"}});}render() {super.render(); this.children.add(this.toggleSwitchView);}_createToggleView() {const t=new XA; t.setTemplate({tag: "span",attributes: {class: ["ck","ck-button__toggle"]},children: [{tag: "span",attributes: {class: ["ck","ck-button__toggle__inner"]}}]}); return t;}} class Pv extends Ev {constructor(t) {super(t); this.buttonView=this; this._fileInputView=new Rv(t); this._fileInputView.bind("acceptedType").to(this); this._fileInputView.bind("allowMultipleFiles").to(this); this._fileInputView.delegate("done").to(this); this.on("execute",(() => {this._fileInputView.open();})); this.extendTemplate({attributes: {class: "ck-file-dialog-button"}});}render() {super.render(); this.children.add(this._fileInputView);}} class Rv extends XA {constructor(t) {super(t); this.set("acceptedType",undefined); this.set("allowMultipleFiles",false); const e=this.bindTemplate; this.setTemplate({tag: "input",attributes: {class: ["ck-hidden"],type: "file",tabindex: "-1",accept: e.to("acceptedType"),multiple: e.to("allowMultipleFiles")},on: {change: e.to((() => {if (this.element&&this.element.files&&this.element.files.length) {this.fire("done",this.element.files);} this.element.value="";}))}});}open() {this.element.click();}} const Vv='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'; const Mv=n(3283); const Fv={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Fv.insert="head"; Fv.singleton=true; const Ov=Id()(Mv.A,Fv); const zv=Mv.A.locals||{}; class Nv extends XA {constructor(t,e) {super(t); const n=this.bindTemplate; this.set("isCollapsed",false); this.set("label",""); this.buttonView=this._createButtonView(); this.children=this.createCollection(); this.set("_collapsibleAriaLabelUid",undefined); if (e) {this.children.addMany(e);} this.setTemplate({tag: "div",attributes: {class: ["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children: [this.buttonView,{tag: "div",attributes: {class: ["ck","ck-collapsible__children"],role: "region",hidden: n.if("isCollapsed","hidden"),"aria-labelledby": n.to("_collapsibleAriaLabelUid")},children: this.children}]});}render() {super.render(); this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id;}focus() {this.buttonView.focus();}_createButtonView() {const t=new Ev(this.locale); const e=t.bindTemplate; t.set({withText: true,icon: Vv}); t.extendTemplate({attributes: {"aria-expanded": e.to("isOn",(t => String(t)))}}); t.bind("label").to(this); t.bind("isOn").to(this,"isCollapsed",(t => !t)); t.on("execute",(() => {this.isCollapsed=!this.isCollapsed;})); return t;}} function Lv(t,e) {const n=t.t; const o={Black: n("Black"),"Dim grey": n("Dim grey"),Grey: n("Grey"),"Light grey": n("Light grey"),White: n("White"),Red: n("Red"),Orange: n("Orange"),Yellow: n("Yellow"),"Light green": n("Light green"),Green: n("Green"),Aquamarine: n("Aquamarine"),Turquoise: n("Turquoise"),"Light blue": n("Light blue"),Blue: n("Blue"),Purple: n("Purple")}; return e.map((t => {const e=o[t.label]; if (e&&e!=t.label) {t.label=e;} return t;}));} function Hv(t) {return t.map(jv).filter((t => !!t));} function jv(t) {if (typeof t==="string") {return {model: t,label: t,hasBorder: false,view: {name: "span",styles: {color: t}}};} return {model: t.color,label: t.label||t.color,hasBorder: t.hasBorder===undefined?false:t.hasBorder,view: {name: "span",styles: {color: `${t.color}`}}};} const Wv='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M16.935 5.328a2 2 0 0 1 0 2.829l-7.778 7.778a2 2 0 0 1-2.829 0L3.5 13.107a1.999 1.999 0 1 1 2.828-2.829l.707.707a1 1 0 0 0 1.414 0l5.658-5.657a2 2 0 0 1 2.828 0z"/><path d="M14.814 6.035 8.448 12.4a1 1 0 0 1-1.414 0l-1.413-1.415A1 1 0 1 0 4.207 12.4l2.829 2.829a1 1 0 0 0 1.414 0l7.778-7.778a1 1 0 1 0-1.414-1.415z"/></svg>'; class qv extends Ev {constructor(t) {super(t); const e=this.bindTemplate; this.set("color",undefined); this.set("hasBorder",false); this.icon=Wv; this.extendTemplate({attributes: {style: {backgroundColor: e.to("color")},class: ["ck","ck-color-grid__tile",e.if("hasBorder","ck-color-selector__color-tile_bordered")]}});}render() {super.render(); this.iconView.fillColor="hsl(0, 0%, 100%)";}} const Uv=n(4239); const $v={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; $v.insert="head"; $v.singleton=true; const Gv=Id()(Uv.A,$v); const Kv=Uv.A.locals||{}; class Zv extends XA {constructor(t,e) {super(t); const n=e&&e.colorDefinitions?e.colorDefinitions:[]; this.columns=e&&e.columns?e.columns:5; const o={gridTemplateColumns: `repeat( ${this.columns}, 1fr)`}; this.set("selectedColor",undefined); this.items=this.createCollection(); this.focusTracker=new sd; this.keystrokes=new ad; this.items.on("add",((t,e) => {e.isOn=e.color===this.selectedColor;})); n.forEach((t => {const e=new qv; e.set({color: t.color,label: t.label,tooltip: true,hasBorder: t.options.hasBorder}); e.on("execute",(() => {this.fire("execute",{value: t.color,hasBorder: t.options.hasBorder,label: t.label});})); this.items.add(e);})); this.setTemplate({tag: "div",children: this.items,attributes: {class: ["ck","ck-color-grid"],style: o}}); this.on("change:selectedColor",((t,e,n) => {for (const t of this.items) {t.isOn=t.color===n;}}));}focus() {if (this.items.length) {this.items.first.focus();}}focusLast() {if (this.items.length) {this.items.last.focus();}}render() {super.render(); for (const t of this.items) {this.focusTracker.add(t.element);} this.items.on("add",((t,e) => {this.focusTracker.add(e.element);})); this.items.on("remove",((t,e) => {this.focusTracker.remove(e.element);})); this.keystrokes.listenTo(this.element); r({keystrokeHandler: this.keystrokes,focusTracker: this.focusTracker,gridItems: this.items,numberOfColumns: this.columns,uiLanguageDirection: this.locale&&this.locale.uiLanguageDirection});}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}} const Jv=n(8156); const Yv=Xv; const Qv={red: 0,orange: 60,yellow: 120,green: 180,blue: 240,purple: 300}; function Xv(t) {let e,n=[],o=1,i; if (typeof t==="string") {if (Jv[t]) {n=Jv[t].slice(); i="rgb";} else if (t==="transparent") {o=0; i="rgb"; n=[0,0,0];} else if ((/^#[A-Fa-f0-9]+$/).test(t)) {var r=t.slice(1); var s=r.length; const a=s<=4; o=1; if (a) {n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)]; if (s===4) {o=parseInt(r[3]+r[3],16)/255;}} else {n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)]; if (s===8) {o=parseInt(r[6]+r[7],16)/255;}} if (!n[0])n[0]=0; if (!n[1])n[1]=0; if (!n[2])n[2]=0; i="rgb";} else if (e=(/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/).exec(t)) {const c=e[1]; const l=c==="rgb"; var r=c.replace(/a$/,""); i=r; var s=r==="cmyk"?4:r==="gray"?1:3; n=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(((t,e) => {if ((/%$/).test(t)) {if (e===s) return parseFloat(t)/100; if (r==="rgb") return parseFloat(t)*255/100; return parseFloat(t);} else if (r[e]==="h") {if ((/deg$/).test(t)) {return parseFloat(t);} else if (Qv[t]!==undefined) {return Qv[t];}} return parseFloat(t);})); if (c===r)n.push(1); o=l?1:n[s]===undefined?1:n[s]; n=n.slice(0,s);} else if (t.length>10&&(/[0-9](?:\s|\/)/).test(t)) {n=t.match(/([0-9]+)/g).map(((t) => {return parseFloat(t);})); i=t.match(/([a-z])/gi).join("").toLowerCase();}} else if (!isNaN(t)) {i="rgb"; n=[t>>>16,(t&65280)>>>8,t&255];} else if (Array.isArray(t)||t.length) {n=[t[0],t[1],t[2]]; i="rgb"; o=t.length===4?t[3]:1;} else if (t instanceof Object) {if (t.r!=null||t.red!=null||t.R!=null) {i="rgb"; n=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0];} else {i="hsl"; n=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness];}o=t.a||t.alpha||t.opacity||1; if (t.opacity!=null)o/=100;} return {space: i,values: n,alpha: o};} const ty=n(734); const ey=n.t(ty,2); function ny(t,e) {if (!t) {return "";} const n=sy(t); if (!n) {return "";} if (n.space===e) {return t;} if (!ay(n)) {return "";} const o=ey[n.space]; const i=o[e]; if (!i) {return "";} const r=i(n.space==="hex"?n.hexValue:n.values); return ry(r,e);} function oy(t) {if (!t) {return "";} const e=sy(t); if (!e) {return "#000";} if (e.space==="hex") {return e.hexValue;} return ny(t,"hex");} function iy(t,e) {if (customElements.get(t)===undefined) {customElements.define(t,e);}} function ry(t,e) {switch (e) {case "hex":return `#${t}`; case "rgb":return `rgb( ${t[0]}, ${t[1]}, ${t[2]} )`; case "hsl":return `hsl( ${t[0]}, ${t[1]}%, ${t[2]}% )`; case "hwb":return `hwb( ${t[0]}, ${t[1]}, ${t[2]} )`; case "lab":return `lab( ${t[0]}% ${t[1]} ${t[2]} )`; case "lch":return `lch( ${t[0]}% ${t[1]} ${t[2]} )`; default:return "";}} function sy(t) {if (t.startsWith("#")) {const e=Yv(t); return {space: "hex",values: e.values,hexValue: t,alpha: e.alpha};} const e=Yv(t); if (!e.space) {return null;} return e;} function ay(t) {return Object.keys(ey).includes(t.space);} const cy=n(2828); const ly={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; ly.insert="head"; ly.singleton=true; const dy=Id()(cy.A,ly); const uy=cy.A.locals||{}; class hy extends XA {constructor(t,e) {super(t); const n=`ck-labeled-field-view-${T()}`; const o=`ck-labeled-field-view-status-${T()}`; this.fieldView=e(this,n,o); this.set("label",undefined); this.set("isEnabled",true); this.set("isEmpty",true); this.set("isFocused",false); this.set("errorText",null); this.set("infoText",null); this.set("class",undefined); this.set("placeholder",undefined); this.labelView=this._createLabelView(n); this.statusView=this._createStatusView(o); this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]); this.bind("_statusText").to(this,"errorText",this,"infoText",((t,e) => t||e)); const i=this.bindTemplate; this.setTemplate({tag: "div",attributes: {class: ["ck","ck-labeled-field-view",i.to("class"),i.if("isEnabled","ck-disabled",(t => !t)),i.if("isEmpty","ck-labeled-field-view_empty"),i.if("isFocused","ck-labeled-field-view_focused"),i.if("placeholder","ck-labeled-field-view_placeholder"),i.if("errorText","ck-error")]},children: [{tag: "div",attributes: {class: ["ck","ck-labeled-field-view__input-wrapper"]},children: this.fieldWrapperChildren},this.statusView]});}_createLabelView(t) {const e=new iv(this.locale); e.for=t; e.bind("text").to(this,"label"); return e;}_createStatusView(t) {const e=new XA(this.locale); const n=this.bindTemplate; e.setTemplate({tag: "div",attributes: {class: ["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(t => !t))],id: t,role: n.if("errorText","alert")},children: [{text: n.to("_statusText")}]}); return e;}focus(t) {this.fieldView.focus(t);}} class gy extends XA {constructor(t) {super(t); this.set("value",undefined); this.set("id",undefined); this.set("placeholder",undefined); this.set("tabIndex",undefined); this.set("isReadOnly",false); this.set("hasError",false); this.set("ariaDescribedById",undefined); this.set("ariaLabel",undefined); this.focusTracker=new sd; this.bind("isFocused").to(this.focusTracker); this.set("isEmpty",true); const e=this.bindTemplate; this.setTemplate({tag: "input",attributes: {class: ["ck","ck-input",e.if("isFocused","ck-input_focused"),e.if("isEmpty","ck-input-text_empty"),e.if("hasError","ck-error")],id: e.to("id"),placeholder: e.to("placeholder"),tabindex: e.to("tabIndex"),readonly: e.to("isReadOnly"),"aria-invalid": e.if("hasError",true),"aria-describedby": e.to("ariaDescribedById"),"aria-label": e.to("ariaLabel")},on: {input: e.to(((...t) => {this.fire("input",...t); this._updateIsEmpty();})),change: e.to(this._updateIsEmpty.bind(this))}});}render() {super.render(); this.focusTracker.add(this.element); this._setDomElementValue(this.value); this._updateIsEmpty(); this.on("change:value",((t,e,n) => {this._setDomElementValue(n); this._updateIsEmpty();}));}destroy() {super.destroy(); this.focusTracker.destroy();}select() {this.element.select();}focus() {this.element.focus();}reset() {this.value=this.element.value=""; this._updateIsEmpty();}_updateIsEmpty() {this.isEmpty=fy(this.element);}_setDomElementValue(t) {this.element.value=!t&&t!==0?"":t;}} function fy(t) {return !t.value;} const my=n(4071); const py={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; py.insert="head"; py.singleton=true; const ky=Id()(my.A,py); const by=my.A.locals||{}; class wy extends gy {constructor(t) {super(t); this.set("inputMode","text"); const e=this.bindTemplate; this.extendTemplate({attributes: {inputmode: e.to("inputMode")}});}} class _y extends wy {constructor(t) {super(t); this.extendTemplate({attributes: {type: "text",class: ["ck-input-text"]}});}} class Cy extends wy {constructor(t,{min: e,max: n,step: o}={}) {super(t); const i=this.bindTemplate; this.set("min",e); this.set("max",n); this.set("step",o); this.extendTemplate({attributes: {type: "number",class: ["ck-input-number"],min: i.to("min"),max: i.to("max"),step: i.to("step")}});}} const Ay=n(4097); const vy={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; vy.insert="head"; vy.singleton=true; const yy=Id()(Ay.A,vy); const xy=Ay.A.locals||{}; class Ey extends gy {constructor(t) {super(t); this._isUpdateAutoGrowHeightPending=false; const e=Cc("px"); this.set("minRows",2); this.set("maxRows",5); this.set("_height",null); this.set("resize","none"); this._resizeObserver=null; this.on("change:minRows",this._validateMinMaxRows.bind(this)); this.on("change:maxRows",this._validateMinMaxRows.bind(this)); const n=this.bindTemplate; this.template.tag="textarea"; this.extendTemplate({attributes: {class: ["ck-textarea"],style: {height: n.to("_height",(t => t?e(t):null)),resize: n.to("resize")},rows: n.to("minRows")}});}render() {super.render(); let t=false; this.on("input",(() => {this._updateAutoGrowHeight(true); this.fire("update");})); this.on("change:value",(() => {nc.window.requestAnimationFrame((() => {if (!Ec(this.element)) {this._isUpdateAutoGrowHeightPending=true; return;} this._updateAutoGrowHeight(); this.fire("update");}));})); this._resizeObserver=new wc(this.element,(e => {const n=!!e.contentRect.width&&!!e.contentRect.height; if (!t&&n&&this._isUpdateAutoGrowHeightPending) {nc.window.requestAnimationFrame((() => {this._updateAutoGrowHeight(); this.fire("update");}));}t=n;}));}destroy() {if (this._resizeObserver) {this._resizeObserver.destroy();}}reset() {super.reset(); this._updateAutoGrowHeight(); this.fire("update");}_updateAutoGrowHeight(t) {const e=this.element; if (!e.offsetParent) {this._isUpdateAutoGrowHeightPending=true; return;} this._isUpdateAutoGrowHeightPending=false; const n=Dy(e,"1"); const o=Dy(e,e.value); const i=n.ownerDocument.defaultView.getComputedStyle(n); const r=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom); const s=sc(n); const a=parseFloat(i.lineHeight); const c=s.top+s.bottom; const l=new uc(n).height; const d=Math.round((o.scrollHeight-r)/a); const u=this.maxRows*a+r+c; const h=d===1?l:this.minRows*a+r+c; this._height=Math.min(Math.max(Math.max(d,this.minRows)*a+r+c,h),u); if (t) {e.scrollTop=e.scrollHeight;}n.remove(); o.remove();}_validateMinMaxRows() {if (this.minRows>this.maxRows) {throw new V("ui-textarea-view-min-rows-greater-than-max-rows",{textareaView: this,minRows: this.minRows,maxRows: this.maxRows});}}} function Dy(t,e) {const n=t.cloneNode(); n.style.position="absolute"; n.style.top="-99999px"; n.style.left="-99999px"; n.style.height="auto"; n.style.overflow="hidden"; n.style.width=t.ownerDocument.defaultView.getComputedStyle(t).width; n.tabIndex=-1; n.rows=1; n.value=e; t.parentNode.insertBefore(n,t); return n;} class By extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.set("isVisible",false); this.set("position","se"); this.children=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-reset","ck-dropdown__panel",e.to("position",(t => `ck-dropdown__panel_${t}`)),e.if("isVisible","ck-dropdown__panel-visible")],tabindex: "-1"},children: this.children,on: {selectstart: e.to((t => {if (t.target.tagName.toLocaleLowerCase()==="input") {return;}t.preventDefault();}))}});}focus() {if (this.children.length) {const t=this.children.first; if (typeof t.focus==="function") {t.focus();} else {M("ui-dropdown-panel-focus-child-missing-focus",{childView: this.children.first,dropdownPanel: this});}}}focusLast() {if (this.children.length) {const t=this.children.last; if (typeof t.focusLast==="function") {t.focusLast();} else {t.focus();}}}} const Ty=n(1887); const Sy={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Sy.insert="head"; Sy.singleton=true; const Iy=Id()(Ty.A,Sy); const Py=Ty.A.locals||{}; class Ry extends XA {constructor(t,e,n) {super(t); const o=this.bindTemplate; this.buttonView=e; this.panelView=n; this.set("isOpen",false); this.set("isEnabled",true); this.set("class",undefined); this.set("id",undefined); this.set("panelPosition","auto"); this.panelView.bind("isVisible").to(this,"isOpen"); this.keystrokes=new ad; this.focusTracker=new sd; this.setTemplate({tag: "div",attributes: {class: ["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",(t => !t))],id: o.to("id"),"aria-describedby": o.to("ariaDescribedById")},children: [e,n]}); e.extendTemplate({attributes: {class: ["ck-dropdown__button"],"data-cke-tooltip-disabled": o.to("isOpen")}});}render() {super.render(); this.focusTracker.add(this.buttonView.element); this.focusTracker.add(this.panelView.element); this.listenTo(this.buttonView,"open",(() => {this.isOpen=!this.isOpen;})); this.on("change:isOpen",((t,e,n) => {if (!n) {return;} if (this.panelPosition==="auto") {const t=Ry._getOptimalPosition({element: this.panelView.element,target: this.buttonView.element,fitInViewport: true,positions: this._panelPositions}); this.panelView.position=t?t.name:this._panelPositions[0].name;} else {this.panelView.position=this.panelPosition;}})); this.keystrokes.listenTo(this.element); const t=(t,e) => {if (this.isOpen) {this.isOpen=false; e();}}; this.keystrokes.set("arrowdown",((t,e) => {if (this.buttonView.isEnabled&&!this.isOpen) {this.isOpen=true; e();}})); this.keystrokes.set("arrowright",((t,e) => {if (this.isOpen) {e();}})); this.keystrokes.set("arrowleft",t); this.keystrokes.set("esc",t);}focus() {this.buttonView.focus();} get _panelPositions() {const {south: t,north: e,southEast: n,southWest: o,northEast: i,northWest: r,southMiddleEast: s,southMiddleWest: a,northMiddleEast: c,northMiddleWest: l}=Ry.defaultPanelPositions; if (this.locale.uiLanguageDirection!=="rtl") {return [n,o,s,a,t,i,r,c,l,e];} return [o,n,a,s,t,r,i,l,c,e];}}Ry.defaultPanelPositions={south: (t,e) => ({top: t.bottom,left: t.left-(e.width-t.width)/2,name: "s"}),southEast: t => ({top: t.bottom,left: t.left,name: "se"}),southWest: (t,e) => ({top: t.bottom,left: t.left-e.width+t.width,name: "sw"}),southMiddleEast: (t,e) => ({top: t.bottom,left: t.left-(e.width-t.width)/4,name: "sme"}),southMiddleWest: (t,e) => ({top: t.bottom,left: t.left-(e.width-t.width)*3/4,name: "smw"}),north: (t,e) => ({top: t.top-e.height,left: t.left-(e.width-t.width)/2,name: "n"}),northEast: (t,e) => ({top: t.top-e.height,left: t.left,name: "ne"}),northWest: (t,e) => ({top: t.top-e.height,left: t.left-e.width+t.width,name: "nw"}),northMiddleEast: (t,e) => ({top: t.top-e.height,left: t.left-(e.width-t.width)/4,name: "nme"}),northMiddleWest: (t,e) => ({top: t.top-e.height,left: t.left-(e.width-t.width)*3/4,name: "nmw"})}; Ry._getOptimalPosition=Dc; const Vy=Ry; class My extends Ev {constructor(t) {super(t); this.arrowView=this._createArrowView(); this.extendTemplate({attributes: {"aria-haspopup": true,"aria-expanded": this.bindTemplate.to("isOn",(t => String(t)))}}); this.delegate("execute").to(this,"open");}render() {super.render(); this.children.add(this.arrowView);}_createArrowView() {const t=new _v; t.content=Vv; t.extendTemplate({attributes: {class: "ck-dropdown__arrow"}}); return t;}} class Fy extends (G()) {constructor(t) {super(); this.focusables=t.focusables; this.focusTracker=t.focusTracker; this.keystrokeHandler=t.keystrokeHandler; this.actions=t.actions; if (t.actions&&t.keystrokeHandler) {for (const e in t.actions) {let n=t.actions[e]; if (typeof n==="string") {n=[n];} for (const o of n) {t.keystrokeHandler.set(o,((t,n) => {this[e](); n();}));}}} this.on("forwardCycle",(() => this.focusFirst()),{priority: "low"}); this.on("backwardCycle",(() => this.focusLast()),{priority: "low"});} get first() {return this.focusables.find(Oy)||null;} get last() {return this.focusables.filter(Oy).slice(-1)[0]||null;} get next() {return this._getDomFocusableItem(1);} get previous() {return this._getDomFocusableItem(-1);} get current() {let t=null; if (this.focusTracker.focusedElement===null) {return null;} this.focusables.find(((e,n) => {const o=e.element===this.focusTracker.focusedElement; if (o) {t=n;} return o;})); return t;}focusFirst() {this._focus(this.first,1);}focusLast() {this._focus(this.last,-1);}focusNext() {const t=this.next; if (t&&this.focusables.getIndex(t)===this.current) {this.fire("forwardCycle"); return;} if (t===this.first) {this.fire("forwardCycle");} else {this._focus(t,1);}}focusPrevious() {const t=this.previous; if (t&&this.focusables.getIndex(t)===this.current) {this.fire("backwardCycle"); return;} if (t===this.last) {this.fire("backwardCycle");} else {this._focus(t,-1);}}_focus(t,e) {if (t&&this.focusTracker.focusedElement!==t.element) {t.focus(e);}}_getDomFocusableItem(t) {const e=this.focusables.length; if (!e) {return null;} const n=this.current; if (n===null) {return this[t===1?"first":"last"];} let o=this.focusables.get(n); let i=(n+e+t)%e; do {const n=this.focusables.get(i); if (Oy(n)) {o=n; break;}i=(i+e+t)%e;} while (i!==n); return o;}} function Oy(t) {return zy(t)&&Ec(t.element);} function zy(t) {return !!("focus"in t&&typeof t.focus==="function");} function Ny(t) {return zy(t)&&"focusCycler"in t&&t.focusCycler instanceof Fy;} class Ly extends XA {constructor(t) {super(t); this.setTemplate({tag: "span",attributes: {class: ["ck","ck-toolbar__separator"]}});}} class Hy extends XA {constructor(t) {super(t); this.setTemplate({tag: "span",attributes: {class: ["ck","ck-toolbar__line-break"]}});}} function jy(t) {return t.bindTemplate.to((e => {if (e.target===t.element) {e.preventDefault();}}));} function Wy(t) {if (Array.isArray(t)) {return {items: t,removeItems: []};} const e={items: [],removeItems: []}; if (!t) {return e;} return {...e,...t};} const qy=n(9423); const Uy={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Uy.insert="head"; Uy.singleton=true; const $y=Id()(qy.A,Uy); const Gy=qy.A.locals||{}; const {threeVerticalDots: Ky}=bA; const Zy={alignLeft: bA.alignLeft,bold: bA.bold,importExport: bA.importExport,paragraph: bA.paragraph,plus: bA.plus,text: bA.text,threeVerticalDots: bA.threeVerticalDots,pilcrow: bA.pilcrow,dragIndicator: bA.dragIndicator}; class Jy extends XA {constructor(t,e) {super(t); const n=this.bindTemplate; const o=this.t; this.options=e||{}; this.set("ariaLabel",o("Editor toolbar")); this.set("maxWidth","auto"); this.items=this.createCollection(); this.focusTracker=new sd; this.keystrokes=new ad; this.set("class",undefined); this.set("isCompact",false); this.itemsView=new Yy(t); this.children=this.createCollection(); this.children.add(this.itemsView); this.focusables=this.createCollection(); const i=t.uiLanguageDirection==="rtl"; this._focusCycler=new Fy({focusables: this.focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: [i?"arrowright":"arrowleft","arrowup"],focusNext: [i?"arrowleft":"arrowright","arrowdown"]}}); const r=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")]; if (this.options.shouldGroupWhenFull&&this.options.isFloating) {r.push("ck-toolbar_floating");} this.setTemplate({tag: "div",attributes: {class: r,role: "toolbar","aria-label": n.to("ariaLabel"),style: {maxWidth: n.to("maxWidth")},tabindex: -1},children: this.children,on: {mousedown: jy(this)}}); this._behavior=this.options.shouldGroupWhenFull?new Xy(this):new Qy(this);}render() {super.render(); this.focusTracker.add(this.element); for (const t of this.items) {this.focusTracker.add(t.element);} this.items.on("add",((t,e) => {this.focusTracker.add(e.element);})); this.items.on("remove",((t,e) => {this.focusTracker.remove(e.element);})); this.keystrokes.listenTo(this.element); this._behavior.render(this);}destroy() {this._behavior.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy(); return super.destroy();}focus() {this._focusCycler.focusFirst();}focusLast() {this._focusCycler.focusLast();}fillFromConfig(t,e,n) {this.items.addMany(this._buildItemsFromConfig(t,e,n));}_buildItemsFromConfig(t,e,n) {const o=Wy(t); const i=n||o.removeItems; const r=this._cleanItemsConfiguration(o.items,e,i).map((t => {if (st(t)) {return this._createNestedToolbarDropdown(t,e,i);} else if (t==="|") {return new Ly;} else if (t==="-") {return new Hy;} return e.create(t);})).filter((t => !!t)); return r;}_cleanItemsConfiguration(t,e,n) {const o=t.filter(((t,o,i) => {if (t==="|") {return true;} if (n.indexOf(t)!==-1) {return false;} if (t==="-") {if (this.options.shouldGroupWhenFull) {M("toolbarview-line-break-ignored-when-grouping-items",i); return false;} return true;} if (!st(t)&&!e.has(t)) {M("toolbarview-item-unavailable",{item: t}); return false;} return true;})); return this._cleanSeparatorsAndLineBreaks(o);}_cleanSeparatorsAndLineBreaks(t) {const e=t => t!=="-"&&t!=="|"; const n=t.length; const o=t.findIndex(e); if (o===-1) {return [];} const i=n-t.slice().reverse().findIndex(e); return t.slice(o,i).filter(((t,n,o) => {if (e(t)) {return true;} const i=n>0&&o[n-1]===t; return !i;}));}_createNestedToolbarDropdown(t,e,n) {let {label: o,icon: i,items: r,tooltip: s=true,withText: a=false}=t; r=this._cleanItemsConfiguration(r,e,n); if (!r.length) {return null;} const c=this.locale; const l=Cx(c); if (!o) {M("toolbarview-nested-toolbar-dropdown-missing-label",t);}l.class="ck-toolbar__nested-toolbar-dropdown"; l.buttonView.set({label: o,tooltip: s,withText: !!a}); if (i!==false) {l.buttonView.icon=Zy[i]||i||Ky;} else {l.buttonView.withText=true;}Ax(l,(() => l.toolbarView._buildItemsFromConfig(r,e,n))); return l;}} class Yy extends XA {constructor(t) {super(t); this.children=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-toolbar__items"]},children: this.children});}} class Qy {constructor(t) {const e=t.bindTemplate; t.set("isVertical",false); t.itemsView.children.bindTo(t.items).using((t => t)); t.focusables.bindTo(t.items).using((t => zy(t)?t:null)); t.extendTemplate({attributes: {class: [e.if("isVertical","ck-toolbar_vertical")]}});}render() {}destroy() {}} class Xy {constructor(t) {this.resizeObserver=null; this.cachedPadding=null; this.shouldUpdateGroupingOnNextResize=false; this.view=t; this.viewChildren=t.children; this.viewFocusables=t.focusables; this.viewItemsView=t.itemsView; this.viewFocusTracker=t.focusTracker; this.viewLocale=t.locale; this.ungroupedItems=t.createCollection(); this.groupedItems=t.createCollection(); this.groupedItemsDropdown=this._createGroupedItemsDropdown(); t.itemsView.children.bindTo(this.ungroupedItems).using((t => t)); this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)); t.children.on("change",this._updateFocusCyclableItems.bind(this)); t.items.on("change",((t,e) => {const n=e.index; const o=Array.from(e.added); for (const t of e.removed) {if (n>=this.ungroupedItems.length) {this.groupedItems.remove(t);} else {this.ungroupedItems.remove(t);}} for (let t=n; t<n+o.length; t++) {const e=o[t-n]; if (t>this.ungroupedItems.length) {this.groupedItems.add(e,t-this.ungroupedItems.length);} else {this.ungroupedItems.add(e,t);}} this._updateGrouping();})); t.extendTemplate({attributes: {class: ["ck-toolbar_grouping"]}});}render(t) {this.viewElement=t.element; this._enableGroupingOnResize(); this._enableGroupingOnMaxWidthChange(t);}destroy() {this.groupedItemsDropdown.destroy(); this.resizeObserver.destroy();}_updateGrouping() {if (!this.viewElement.ownerDocument.body.contains(this.viewElement)) {return;} if (!Ec(this.viewElement)) {this.shouldUpdateGroupingOnNextResize=true; return;} const t=this.groupedItems.length; let e; while (this._areItemsOverflowing) {this._groupLastItem(); e=true;} if (!e&&this.groupedItems.length) {while (this.groupedItems.length&&!this._areItemsOverflowing) {this._ungroupFirstItem();} if (this._areItemsOverflowing) {this._groupLastItem();}} if (this.groupedItems.length!==t) {this.view.fire("groupedItemsUpdate");}} get _areItemsOverflowing() {if (!this.ungroupedItems.length) {return false;} const t=this.viewElement; const e=this.viewLocale.uiLanguageDirection; const n=new uc(t.lastChild); const o=new uc(t); if (!this.cachedPadding) {const n=nc.window.getComputedStyle(t); const o=e==="ltr"?"paddingRight":"paddingLeft"; this.cachedPadding=Number.parseInt(n[o]);} if (e==="ltr") {return n.right>o.right-this.cachedPadding;} return n.left<o.left+this.cachedPadding;}_enableGroupingOnResize() {let t; this.resizeObserver=new wc(this.viewElement,(e => {if (!t||t!==e.contentRect.width||this.shouldUpdateGroupingOnNextResize) {this.shouldUpdateGroupingOnNextResize=false; this._updateGrouping(); t=e.contentRect.width;}})); this._updateGrouping();}_enableGroupingOnMaxWidthChange(t) {t.on("change:maxWidth",(() => {this._updateGrouping();}));}_groupLastItem() {if (!this.groupedItems.length) {this.viewChildren.add(new Ly); this.viewChildren.add(this.groupedItemsDropdown); this.viewFocusTracker.add(this.groupedItemsDropdown.element);} this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0);}_ungroupFirstItem() {this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)); if (!this.groupedItems.length) {this.viewChildren.remove(this.groupedItemsDropdown); this.viewChildren.remove(this.viewChildren.last); this.viewFocusTracker.remove(this.groupedItemsDropdown.element);}}_createGroupedItemsDropdown() {const t=this.viewLocale; const e=t.t; const n=Cx(t); n.class="ck-toolbar__grouped-dropdown"; n.panelPosition=t.uiLanguageDirection==="ltr"?"sw":"se"; Ax(n,this.groupedItems); n.buttonView.set({label: e("Show more items"),tooltip: true,tooltipPosition: t.uiLanguageDirection==="rtl"?"se":"sw",icon: Ky}); return n;}_updateFocusCyclableItems() {this.viewFocusables.clear(); this.ungroupedItems.map((t => {if (zy(t)) {this.viewFocusables.add(t);}})); if (this.groupedItems.length) {this.viewFocusables.add(this.groupedItemsDropdown);}}} class tx extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.set("isVisible",true); this.children=this.createCollection(); this.setTemplate({tag: "li",attributes: {class: ["ck","ck-list__item",e.if("isVisible","ck-hidden",(t => !t))],role: "presentation"},children: this.children});}focus() {if (this.children.first) {this.children.first.focus();}}} class ex extends XA {constructor(t) {super(t); this.setTemplate({tag: "li",attributes: {class: ["ck","ck-list__separator"]}});}} class nx extends XA {constructor(t,e=new iv) {super(t); const n=this.bindTemplate; const o=new ax(t); this.set({label: "",isVisible: true}); this.labelView=e; this.labelView.bind("text").to(this,"label"); this.children=this.createCollection(); this.children.addMany([this.labelView,o]); o.set({role: "group",ariaLabelledBy: e.id}); o.focusTracker.destroy(); o.keystrokes.destroy(); this.items=o.items; this.setTemplate({tag: "li",attributes: {role: "presentation",class: ["ck","ck-list__group",n.if("isVisible","ck-hidden",(t => !t))]},children: this.children});}focus() {if (this.items) {const t=this.items.find((t => !(t instanceof ex))); if (t) {t.focus();}}}} const ox=n(8753); const ix={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; ix.insert="head"; ix.singleton=true; const rx=Id()(ox.A,ix); const sx=ox.A.locals||{}; class ax extends XA {constructor(t) {super(t); this._listItemGroupToChangeListeners=new WeakMap; const e=this.bindTemplate; this.focusables=new wA; this.items=this.createCollection(); this.focusTracker=new sd; this.keystrokes=new ad; this._focusCycler=new Fy({focusables: this.focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "arrowup",focusNext: "arrowdown"}}); this.set("ariaLabel",undefined); this.set("ariaLabelledBy",undefined); this.set("role",undefined); this.setTemplate({tag: "ul",attributes: {class: ["ck","ck-reset","ck-list"],role: e.to("role"),"aria-label": e.to("ariaLabel"),"aria-labelledby": e.to("ariaLabelledBy")},children: this.items});}render() {super.render(); for (const t of this.items) {if (t instanceof nx) {this._registerFocusableItemsGroup(t);} else if (t instanceof tx) {this._registerFocusableListItem(t);}} this.items.on("change",((t,e) => {for (const t of e.removed) {if (t instanceof nx) {this._deregisterFocusableItemsGroup(t);} else if (t instanceof tx) {this._deregisterFocusableListItem(t);}} for (const t of Array.from(e.added).reverse()) {if (t instanceof nx) {this._registerFocusableItemsGroup(t,e.index);} else {this._registerFocusableListItem(t,e.index);}}})); this.keystrokes.listenTo(this.element);}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}focus() {this._focusCycler.focusFirst();}focusFirst() {this._focusCycler.focusFirst();}focusLast() {this._focusCycler.focusLast();}_registerFocusableListItem(t,e) {this.focusTracker.add(t.element); this.focusables.add(t,e);}_deregisterFocusableListItem(t) {this.focusTracker.remove(t.element); this.focusables.remove(t);}_getOnGroupItemsChangeCallback(t) {return (e,n) => {for (const t of n.removed) {this._deregisterFocusableListItem(t);} for (const e of Array.from(n.added).reverse()) {this._registerFocusableListItem(e,this.items.getIndex(t)+n.index);}};}_registerFocusableItemsGroup(t,e) {Array.from(t.items).forEach(((t,n) => {const o=typeof e!=="undefined"?e+n:undefined; this._registerFocusableListItem(t,o);})); const n=this._getOnGroupItemsChangeCallback(t); this._listItemGroupToChangeListeners.set(t,n); t.items.on("change",n);}_deregisterFocusableItemsGroup(t) {for (const e of t.items) {this._deregisterFocusableListItem(e);}t.items.off("change",this._listItemGroupToChangeListeners.get(t)); this._listItemGroupToChangeListeners.delete(t);}} const cx=n(4890); const lx={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; lx.insert="head"; lx.singleton=true; const dx=Id()(cx.A,lx); const ux=cx.A.locals||{}; class hx extends XA {constructor(t,e) {super(t); const n=this.bindTemplate; this.set("class",undefined); this.set("labelStyle",undefined); this.set("icon",undefined); this.set("isEnabled",true); this.set("isOn",false); this.set("isToggleable",false); this.set("isVisible",true); this.set("keystroke",undefined); this.set("withKeystroke",false); this.set("label",undefined); this.set("tabindex",-1); this.set("tooltip",false); this.set("tooltipPosition","s"); this.set("type","button"); this.set("withText",false); this.children=this.createCollection(); this.actionView=this._createActionView(e); this.arrowView=this._createArrowView(); this.keystrokes=new ad; this.focusTracker=new sd; this.setTemplate({tag: "div",attributes: {class: ["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",(t => !t)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children: this.children});}render() {super.render(); this.children.add(this.actionView); this.children.add(this.arrowView); this.focusTracker.add(this.actionView.element); this.focusTracker.add(this.arrowView.element); this.keystrokes.listenTo(this.element); this.keystrokes.set("arrowright",((t,e) => {if (this.focusTracker.focusedElement===this.actionView.element) {this.arrowView.focus(); e();}})); this.keystrokes.set("arrowleft",((t,e) => {if (this.focusTracker.focusedElement===this.arrowView.element) {this.actionView.focus(); e();}}));}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}focus() {this.actionView.focus();}_createActionView(t) {const e=t||new Ev; if (!t) {e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this);}e.extendTemplate({attributes: {class: "ck-splitbutton__action"}}); e.delegate("execute").to(this); return e;}_createArrowView() {const t=new Ev; const e=t.bindTemplate; t.icon=Vv; t.extendTemplate({attributes: {class: ["ck-splitbutton__arrow"],"data-cke-tooltip-disabled": e.to("isOn"),"aria-haspopup": true,"aria-expanded": e.to("isOn",(t => String(t)))}}); t.bind("isEnabled").to(this); t.bind("label").to(this); t.bind("tooltip").to(this); t.delegate("execute").to(this,"open"); return t;}} const gx=n(9432); const fx={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; fx.insert="head"; fx.singleton=true; const mx=Id()(gx.A,fx); const px=gx.A.locals||{}; const kx=n(6571); const bx={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; bx.insert="head"; bx.singleton=true; const wx=Id()(kx.A,bx); const _x=kx.A.locals||{}; function Cx(t,e=My) {const n=typeof e==="function"?new e(t):e; const o=new By(t); const i=new Vy(t,n,o); n.bind("isEnabled").to(i); if (n instanceof hx) {n.arrowView.bind("isOn").to(i,"isOpen");} else {n.bind("isOn").to(i,"isOpen");}Dx(i); return i;} function Ax(t,e,n={}) {t.extendTemplate({attributes: {class: ["ck-toolbar-dropdown"]}}); if (t.isOpen) {vx(t,e,n);} else {t.once("change:isOpen",(() => vx(t,e,n)),{priority: "highest"});} if (n.enableActiveItemFocusOnDropdownOpen) {Ex(t,(() => t.toolbarView.items.find((t => t.isOn))));}} function vx(t,e,n) {const o=t.locale; const i=o.t; const r=t.toolbarView=new Jy(o); const s=typeof e==="function"?e():e; r.ariaLabel=n.ariaLabel||i("Dropdown toolbar"); if (n.maxWidth) {r.maxWidth=n.maxWidth;} if (n.class) {r.class=n.class;} if (n.isCompact) {r.isCompact=n.isCompact;} if (n.isVertical) {r.isVertical=true;} if (s instanceof wA) {r.items.bindTo(s).using((t => t));} else {r.items.addMany(s);}t.panelView.children.add(r); r.items.delegate("execute").to(t);} function yx(t,e,n={}) {if (t.isOpen) {xx(t,e,n);} else {t.once("change:isOpen",(() => xx(t,e,n)),{priority: "highest"});}Ex(t,(() => t.listView.items.find((t => {if (t instanceof tx) {return t.children.first.isOn;} return false;}))));} function xx(t,e,n) {const o=t.locale; const i=t.listView=new ax(o); const r=typeof e==="function"?e():e; i.ariaLabel=n.ariaLabel; i.role=n.role; Vx(t,i.items,r,o); t.panelView.children.add(i); i.items.delegate("execute").to(t);} function Ex(t,e) {t.on("change:isOpen",(() => {if (!t.isOpen) {return;} const n=e(); if (!n) {return;} if (typeof n.focus==="function") {n.focus();} else {M("ui-dropdown-focus-child-on-open-child-missing-focus",{view: n});}}),{priority: I.low-10});} function Dx(t) {Bx(t); Tx(t); Sx(t); Ix(t); Px(t); Rx(t);} function Bx(e) {e.on("render",(() => {t({emitter: e,activator: () => e.isOpen,callback: () => {e.isOpen=false;},contextElements: () => [e.element,...e.focusTracker._elements]});}));} function Tx(t) {t.on("execute",(e => {if (e.source instanceof Iv) {return;}t.isOpen=false;}));} function Sx(t) {t.focusTracker.on("change:isFocused",((e,n,o) => {if (t.isOpen&&!o) {t.isOpen=false;}}));} function Ix(t) {t.keystrokes.set("arrowdown",((e,n) => {if (t.isOpen) {t.panelView.focus(); n();}})); t.keystrokes.set("arrowup",((e,n) => {if (t.isOpen) {t.panelView.focusLast(); n();}}));} function Px(t) {t.on("change:isOpen",((e,n,o) => {if (o) {return;} const i=t.panelView.element; if (i&&i.contains(nc.document.activeElement)) {t.buttonView.focus();}}));} function Rx(t) {t.on("change:isOpen",((e,n,o) => {if (!o) {return;}t.panelView.focus();}),{priority: "low"});} function Vx(t,e,n,o) {e.bindTo(n).using((e => {if (e.type==="separator") {return new ex(o);} else if (e.type==="group") {const n=new nx(o); n.set({label: e.label}); Vx(t,n.items,e.items,o); n.items.delegate("execute").to(t); return n;} else if (e.type==="button"||e.type==="switchbutton") {const t=new tx(o); let n; if (e.type==="button") {n=new Ev(o); n.bind("ariaChecked").to(n,"isOn");} else {n=new Iv(o);}n.bind(...Object.keys(e.model)).to(e.model); n.delegate("execute").to(t); t.children.add(n); return t;} return null;}));} const Mx=(t,e,n) => {const o=new _y(t.locale); o.set({id: e,ariaDescribedById: n}); o.bind("isReadOnly").to(t,"isEnabled",(t => !t)); o.bind("hasError").to(t,"errorText",(t => !!t)); o.on("input",(() => {t.errorText=null;})); t.bind("isEmpty","isFocused","placeholder").to(o); return o;}; const Fx=(t,e,n) => {const o=new InputNumberView(t.locale); o.set({id: e,ariaDescribedById: n,inputMode: "numeric"}); o.bind("isReadOnly").to(t,"isEnabled",(t => !t)); o.bind("hasError").to(t,"errorText",(t => !!t)); o.on("input",(() => {t.errorText=null;})); t.bind("isEmpty","isFocused","placeholder").to(o); return o;}; const Ox=(t,e,n) => {const o=new TextareaView(t.locale); o.set({id: e,ariaDescribedById: n}); o.bind("isReadOnly").to(t,"isEnabled",(t => !t)); o.bind("hasError").to(t,"errorText",(t => !!t)); o.on("input",(() => {t.errorText=null;})); t.bind("isEmpty","isFocused","placeholder").to(o); return o;}; const zx=(t,e,n) => {const o=Cx(t.locale); o.set({id: e,ariaDescribedById: n}); o.bind("isEnabled").to(t); return o;}; const Nx=(t,e=0,n=1) => t>n?n:t<e?e:t; const Lx=(t,e=0,n=Math.pow(10,e)) => Math.round(n*t)/n; const Hx={grad: 360/400,turn: 360,rad: 360/(Math.PI*2)}; const jx=t => lE(Wx(t)); const Wx=t => {if (t[0]==="#")t=t.substring(1); if (t.length<6) {return {r: parseInt(t[0]+t[0],16),g: parseInt(t[1]+t[1],16),b: parseInt(t[2]+t[2],16),a: t.length===4?Lx(parseInt(t[3]+t[3],16)/255,2):1};} return {r: parseInt(t.substring(0,2),16),g: parseInt(t.substring(2,4),16),b: parseInt(t.substring(4,6),16),a: t.length===8?Lx(parseInt(t.substring(6,8),16)/255,2):1};}; const qx=(t,e="deg") => Number(t)*(Hx[e]||1); const Ux=t => {const e=/hsla?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i; const n=e.exec(t); if (!n) return {h: 0,s: 0,v: 0,a: 1}; return Gx({h: qx(n[1],n[2]),s: Number(n[3]),l: Number(n[4]),a: n[5]===undefined?1:Number(n[5])/(n[6]?100:1)});}; const $x=null&&Ux; const Gx=({h: t,s: e,l: n,a: o}) => {e*=(n<50?n:100-n)/100; return {h: t,s: e>0?2*e/(n+e)*100:0,v: n+e,a: o};}; const Kx=t => cE(tE(t)); const Zx=({h: t,s: e,v: n,a: o}) => {const i=(200-e)*n/100; return {h: Lx(t),s: Lx(i>0&&i<200?e*n/100/(i<=100?i:200-i)*100:0),l: Lx(i/2),a: Lx(o,2)};}; const Jx=t => {const {h: e,s: n,v: o}=dE(t); return `hsv(${e}, ${n}%, ${o}%)`;}; const Yx=t => {const {h: e,s: n,v: o,a: i}=dE(t); return `hsva(${e}, ${n}%, ${o}%, ${i})`;}; const Qx=t => {const {h: e,s: n,l: o}=Zx(t); return `hsl(${e}, ${n}%, ${o}%)`;}; const Xx=t => {const {h: e,s: n,l: o,a: i}=Zx(t); return `hsla(${e}, ${n}%, ${o}%, ${i})`;}; const tE=({h: t,s: e,v: n,a: o}) => {t=t/360*6; e/=100; n/=100; const i=Math.floor(t),r=n*(1-e),s=n*(1-(t-i)*e),a=n*(1-(1-t+i)*e),c=i%6; return {r: Lx([n,s,r,r,a,n][c]*255),g: Lx([a,n,n,s,r,r][c]*255),b: Lx([r,r,a,n,n,s][c]*255),a: Lx(o,2)};}; const eE=t => {const {r: e,g: n,b: o}=tE(t); return `rgb(${e}, ${n}, ${o})`;}; const nE=t => {const {r: e,g: n,b: o,a: i}=tE(t); return `rgba(${e}, ${n}, ${o}, ${i})`;}; const oE=t => {const e=/hsva?\(?\s*(-?\d*\.?\d+)(deg|rad|grad|turn)?[,\s]+(-?\d*\.?\d+)%?[,\s]+(-?\d*\.?\d+)%?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i; const n=e.exec(t); if (!n) return {h: 0,s: 0,v: 0,a: 1}; return dE({h: qx(n[1],n[2]),s: Number(n[3]),v: Number(n[4]),a: n[5]===undefined?1:Number(n[5])/(n[6]?100:1)});}; const iE=null&&oE; const rE=t => {const e=/rgba?\(?\s*(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?[,\s]+(-?\d*\.?\d+)(%)?,?\s*[/\s]*(-?\d*\.?\d+)?(%)?\s*\)?/i; const n=e.exec(t); if (!n) return {h: 0,s: 0,v: 0,a: 1}; return lE({r: Number(n[1])/(n[2]?100/255:1),g: Number(n[3])/(n[4]?100/255:1),b: Number(n[5])/(n[6]?100/255:1),a: n[7]===undefined?1:Number(n[7])/(n[8]?100:1)});}; const sE=null&&rE; const aE=t => {const e=t.toString(16); return e.length<2?`0${e}`:e;}; const cE=({r: t,g: e,b: n,a: o}) => {const i=o<1?aE(Lx(o*255)):""; return `#${aE(t)}${aE(e)}${aE(n)}${i}`;}; const lE=({r: t,g: e,b: n,a: o}) => {const i=Math.max(t,e,n); const r=i-Math.min(t,e,n); const s=r?i===t?(e-n)/r:i===e?2+(n-t)/r:4+(t-e)/r:0; return {h: Lx(60*(s<0?s+6:s)),s: Lx(i?r/i*100:0),v: Lx(i/255*100),a: o};}; const dE=t => ({h: round(t.h),s: round(t.s),v: round(t.v),a: round(t.a,2)}); const uE=({r: t,g: e,b: n}) => ({r: t,g: e,b: n}); const hE=({h: t,s: e,l: n}) => ({h: t,s: e,l: n}); const gE=t => {const {h: e,s: n,v: o}=dE(t); return {h: e,s: n,v: o};}; const fE=(t,e) => {if (t===e) return true; for (const n in t) {if (t[n]!==e[n]) return false;} return true;}; const mE=(t,e) => t.replace(/\s/g,"")===e.replace(/\s/g,""); const pE=(t,e) => {if (t.toLowerCase()===e.toLowerCase()) return true; return fE(Wx(t),Wx(e));}; const kE={}; const bE=t => {let e=kE[t]; if (!e) {e=document.createElement("template"); e.innerHTML=t; kE[t]=e;} return e;}; const wE=(t,e,n) => {t.dispatchEvent(new CustomEvent(e,{bubbles: true,detail: n}));}; let _E=false; const CE=t => "touches"in t; const AE=t => {if (_E&&!CE(t)) return false; if (!_E)_E=CE(t); return true;}; const vE=(t,e) => {const n=CE(e)?e.touches[0]:e; const o=t.el.getBoundingClientRect(); wE(t.el,"move",t.getMove({x: Nx((n.pageX-(o.left+window.pageXOffset))/o.width),y: Nx((n.pageY-(o.top+window.pageYOffset))/o.height)}));}; const yE=(t,e) => {const n=e.keyCode; if (n>40||t.xy&&n<37||n<33) return; e.preventDefault(); wE(t.el,"move",t.getMove({x: n===39?0.01:n===37?-0.01:n===34?0.05:n===33?-0.05:n===35?1:n===36?-1:0,y: n===40?0.01:n===38?-0.01:0},true));}; class xE {constructor(t,e,n,o) {const i=bE(`<div role="slider" tabindex="0" part="${e}" ${n}><div part="${e}-pointer"></div></div>`); t.appendChild(i.content.cloneNode(true)); const r=t.querySelector(`[part=${e}]`); r.addEventListener("mousedown",this); r.addEventListener("touchstart",this); r.addEventListener("keydown",this); this.el=r; this.xy=o; this.nodes=[r.firstChild,r];} set dragging(t) {const e=t?document.addEventListener:document.removeEventListener; e(_E?"touchmove":"mousemove",this); e(_E?"touchend":"mouseup",this);}handleEvent(t) {switch (t.type) {case "mousedown":case "touchstart":t.preventDefault(); if (!AE(t)||!_E&&t.button!=0) return; this.el.focus(); vE(this,t); this.dragging=true; break; case "mousemove":case "touchmove":t.preventDefault(); vE(this,t); break; case "mouseup":case "touchend":this.dragging=false; break; case "keydown":yE(this,t); break;}}style(t) {t.forEach(((t,e) => {for (const n in t) {this.nodes[e].style.setProperty(n,t[n]);}}));}} class EE extends xE {constructor(t) {super(t,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',false);}update({h: t}) {this.h=t; this.style([{left: `${t/360*100}%`,color: Qx({h: t,s: 100,v: 100,a: 1})}]); this.el.setAttribute("aria-valuenow",`${Lx(t)}`);}getMove(t,e) {return {h: e?Nx(this.h+t.x*360,0,360):360*t.x};}} class DE extends xE {constructor(t) {super(t,"saturation",'aria-label="Color"',true);}update(t) {this.hsva=t; this.style([{top: `${100-t.v}%`,left: `${t.s}%`,color: Qx(t)},{"background-color": Qx({h: t.h,s: 100,v: 100,a: 1})}]); this.el.setAttribute("aria-valuetext",`Saturation ${Lx(t.s)}%, Brightness ${Lx(t.v)}%`);}getMove(t,e) {return {s: e?Nx(this.hsva.s+t.x*100,0,100):t.x*100,v: e?Nx(this.hsva.v-t.y*100,0,100):Math.round(100-t.y*100)};}} const BE=`:host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}`; const TE=`[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}`; const SE=`[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}`; const IE=Symbol("same"); const PE=Symbol("color"); const RE=Symbol("hsva"); const VE=Symbol("update"); const ME=Symbol("parts"); const FE=Symbol("css"); const OE=Symbol("sliders"); class zE extends HTMLElement {static get observedAttributes() {return ["color"];} get [FE]() {return [BE,TE,SE];} get [OE]() {return [DE,EE];} get color() {return this[PE];} set color(t) {if (!this[IE](t)) {const e=this.colorModel.toHsva(t); this[VE](e); this[PE]=t;}}constructor() {super(); const t=bE(`<style>${this[FE].join("")}</style>`); const e=this.attachShadow({mode: "open"}); e.appendChild(t.content.cloneNode(true)); e.addEventListener("move",this); this[ME]=this[OE].map((t => new t(e)));}connectedCallback() {if (this.hasOwnProperty("color")) {const t=this.color; delete this["color"]; this.color=t;} else if (!this.color) {this.color=this.colorModel.defaultColor;}}attributeChangedCallback(t,e,n) {const o=this.colorModel.fromAttr(n); if (!this[IE](o)) {this.color=o;}}handleEvent(t) {const e=this[RE]; const n={...e,...t.detail}; this[VE](n); let o; if (!fE(n,e)&&!this[IE](o=this.colorModel.fromHsva(n))) {this[PE]=o; wE(this,"color-changed",{value: o});}}[IE](t) {return this.color&&this.colorModel.equal(t,this.color);}[VE](t) {this[RE]=t; this[ME].forEach((e => e.update(t)));}} const NE={defaultColor: "#000",toHsva: jx,fromHsva: ({h: t,s: e,v: n}) => Kx({h: t,s: e,v: n,a: 1}),equal: pE,fromAttr: t => t}; class LE extends zE {get colorModel() {return NE;}} const HE=n(3019); const jE={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; jE.insert="head"; jE.singleton=true; const WE=Id()(HE.A,jE); const qE=HE.A.locals||{}; const UE=150; class $E extends XA {constructor(t,e={}) {super(t); this.set({color: "",_hexColor: ""}); this.hexInputRow=this._createInputRow(); const n=this.createCollection(); if (!e.hideInput) {n.add(this.hexInputRow);} this.setTemplate({tag: "div",attributes: {class: ["ck","ck-color-picker"],tabindex: -1},children: n}); this._config=e; this._debounceColorPickerEvent=mf((t => {this.set("color",t); this.fire("colorSelected",{color: this.color});}),UE,{leading: true}); this.on("set:color",((t,e,n) => {t.return=ny(n,this._config.format||"hsl");})); this.on("change:color",(() => {this._hexColor=GE(this.color);})); this.on("change:_hexColor",(() => {if (document.activeElement!==this.picker) {this.picker.setAttribute("color",this._hexColor);} if (GE(this.color)!=GE(this._hexColor)) {this.color=this._hexColor;}}));}render() {super.render(); iy("hex-color-picker",LE); this.picker=nc.document.createElement("hex-color-picker"); this.picker.setAttribute("class","hex-color-picker"); this.picker.setAttribute("tabindex","-1"); this._createSlidersView(); if (this.element) {if (this.hexInputRow.element) {this.element.insertBefore(this.picker,this.hexInputRow.element);} else {this.element.appendChild(this.picker);} const t=document.createElement("style"); t.textContent='[role="slider"]:focus [part$="pointer"] {'+"border: 1px solid #fff;"+"outline: 1px solid var(--ck-color-focus-border);"+"box-shadow: 0 0 0 2px #fff;"+"}"; this.picker.shadowRoot.appendChild(t);} this.picker.addEventListener("color-changed",(t => {const e=t.detail.value; this._debounceColorPickerEvent(e);}));}focus() {if (!this._config.hideInput&&(l.isGecko||l.isiOS||l.isSafari)) {const t=this.hexInputRow.children.get(1); t.focus();} const t=this.slidersView.first; t.focus();}_createSlidersView() {const t=[...this.picker.shadowRoot.children]; const e=t.filter((t => t.getAttribute("role")==="slider")); const n=e.map((t => {const e=new KE(t); return e;})); this.slidersView=this.createCollection(); n.forEach((t => {this.slidersView.add(t);}));}_createInputRow() {const t=new ZE; const e=this._createColorInput(); return new JE(this.locale,[t,e]);}_createColorInput() {const t=new hy(this.locale,Mx); const {t: e}=this.locale; t.set({label: e("HEX"),class: "color-picker-hex-input"}); t.fieldView.bind("value").to(this,"_hexColor",(e => {if (t.isFocused) {return t.fieldView.value;} return e.startsWith("#")?e.substring(1):e;})); t.fieldView.on("input",(() => {const e=t.fieldView.element.value; if (e) {const t=e.trim(); const n=t.startsWith("#")?t.substring(1):t; const o=[3,4,6,8].includes(n.length)&&(/(([0-9a-fA-F]{2}){3,4}|([0-9a-fA-F]){3,4})/).test(n); if (o) {this._debounceColorPickerEvent(`#${n}`);}}})); return t;}} function GE(t) {let e=oy(t); if (!e) {e="#000";} if (e.length===4) {e=`#${[e[1],e[1],e[2],e[2],e[3],e[3]].join("")}`;} return e.toLowerCase();} class KE extends XA {constructor(t) {super(); this.element=t;}focus() {this.element.focus();}} class ZE extends XA {constructor(t) {super(t); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-color-picker__hash-view"]},children: "#"});}} class JE extends XA {constructor(t,e) {super(t); this.children=this.createCollection(e); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-color-picker__row"]},children: this.children});}} class YE extends (gt(id)) {constructor(t) {super(t); this.set("isEmpty",true); this.on("change",(() => {this.set("isEmpty",this.length===0);}));}add(t,e) {if (this.find((e => e.color===t.color))) {return this;} return super.add(t,e);}hasColor(t) {return !!this.find((e => e.color===t));}} const {eraser: QE,colorPalette: XE}=bA; class tD extends XA {constructor(t,{colors: e,columns: n,removeButtonLabel: o,documentColorsLabel: i,documentColorsCount: r,colorPickerLabel: s,focusTracker: a,focusables: c}) {super(t); const l=this.bindTemplate; this.set("isVisible",true); this.focusTracker=a; this.items=this.createCollection(); this.colorDefinitions=e; this.columns=n; this.documentColors=new YE; this.documentColorsCount=r; this._focusables=c; this._removeButtonLabel=o; this._colorPickerLabel=s; this._documentColorsLabel=i; this.setTemplate({tag: "div",attributes: {class: ["ck-color-grids-fragment",l.if("isVisible","ck-hidden",(t => !t))]},children: this.items}); this.removeColorButtonView=this._createRemoveColorButton(); this.items.add(this.removeColorButtonView);}updateDocumentColors(t,e) {const n=t.document; const o=this.documentColorsCount; this.documentColors.clear(); for (const i of n.getRoots()) {const n=t.createRangeIn(i); for (const t of n.getItems()) {if (t.is("$textProxy")&&t.hasAttribute(e)) {this._addColorToDocumentColors(t.getAttribute(e)); if (this.documentColors.length>=o) {return;}}}}}updateSelectedColors() {const t=this.documentColorsGrid; const e=this.staticColorsGrid; const n=this.selectedColor; e.selectedColor=n; if (t) {t.selectedColor=n;}}render() {super.render(); this.staticColorsGrid=this._createStaticColorsGrid(); this.items.add(this.staticColorsGrid); if (this.documentColorsCount) {const t=AA.bind(this.documentColors,this.documentColors); const e=new iv(this.locale); e.text=this._documentColorsLabel; e.extendTemplate({attributes: {class: ["ck","ck-color-grid__label",t.if("isEmpty","ck-hidden")]}}); this.items.add(e); this.documentColorsGrid=this._createDocumentColorsGrid(); this.items.add(this.documentColorsGrid);} this._createColorPickerButton(); this._addColorSelectorElementsToFocusTracker();}focus() {this.removeColorButtonView.focus();}destroy() {super.destroy();}addColorPickerButton() {if (this.colorPickerButtonView) {this.items.add(this.colorPickerButtonView); this.focusTracker.add(this.colorPickerButtonView.element); this._focusables.add(this.colorPickerButtonView);}}_addColorSelectorElementsToFocusTracker() {this.focusTracker.add(this.removeColorButtonView.element); this._focusables.add(this.removeColorButtonView); if (this.staticColorsGrid) {this.focusTracker.add(this.staticColorsGrid.element); this._focusables.add(this.staticColorsGrid);} if (this.documentColorsGrid) {this.focusTracker.add(this.documentColorsGrid.element); this._focusables.add(this.documentColorsGrid);}}_createColorPickerButton() {this.colorPickerButtonView=new Ev; this.colorPickerButtonView.set({label: this._colorPickerLabel,withText: true,icon: XE,class: "ck-color-selector__color-picker"}); this.colorPickerButtonView.on("execute",(() => {this.fire("colorPicker:show");}));}_createRemoveColorButton() {const t=new Ev; t.set({withText: true,icon: QE,label: this._removeButtonLabel}); t.class="ck-color-selector__remove-color"; t.on("execute",(() => {this.fire("execute",{value: null,source: "removeColorButton"});})); t.render(); return t;}_createStaticColorsGrid() {const t=new Zv(this.locale,{colorDefinitions: this.colorDefinitions,columns: this.columns}); t.on("execute",((t,e) => {this.fire("execute",{value: e.value,source: "staticColorsGrid"});})); return t;}_createDocumentColorsGrid() {const t=AA.bind(this.documentColors,this.documentColors); const e=new Zv(this.locale,{columns: this.columns}); e.extendTemplate({attributes: {class: t.if("isEmpty","ck-hidden")}}); e.items.bindTo(this.documentColors).using((t => {const e=new qv; e.set({color: t.color,hasBorder: t.options&&t.options.hasBorder}); if (t.label) {e.set({label: t.label,tooltip: true});}e.on("execute",(() => {this.fire("execute",{value: t.color,source: "documentColorsGrid"});})); return e;})); this.documentColors.on("change:isEmpty",((t,n,o) => {if (o) {e.selectedColor=null;}})); return e;}_addColorToDocumentColors(t) {const e=this.colorDefinitions.find((e => e.color===t)); if (!e) {this.documentColors.add({color: t,label: t,options: {hasBorder: false}});} else {this.documentColors.add(Object.assign({},e));}}} class eD extends XA {constructor(t,{focusTracker: e,focusables: n,keystrokes: o,colorPickerViewConfig: i}) {super(t); this.items=this.createCollection(); this.focusTracker=e; this.keystrokes=o; this.set("isVisible",false); this.set("selectedColor",undefined); this._focusables=n; this._colorPickerViewConfig=i; const r=this.bindTemplate; const {saveButtonView: s,cancelButtonView: a}=this._createActionButtons(); this.saveButtonView=s; this.cancelButtonView=a; this.actionBarView=this._createActionBarView({saveButtonView: s,cancelButtonView: a}); this.setTemplate({tag: "div",attributes: {class: ["ck-color-picker-fragment",r.if("isVisible","ck-hidden",(t => !t))]},children: this.items});}render() {super.render(); const t=new $E(this.locale,{...this._colorPickerViewConfig}); this.colorPickerView=t; this.colorPickerView.render(); if (this.selectedColor) {t.color=this.selectedColor;} this.listenTo(this,"change:selectedColor",((e,n,o) => {t.color=o;})); this.items.add(this.colorPickerView); this.items.add(this.actionBarView); this._addColorPickersElementsToFocusTracker(); this._stopPropagationOnArrowsKeys(); this._executeOnEnterPress(); this._executeUponColorChange();}destroy() {super.destroy();}focus() {this.colorPickerView.focus();}_executeOnEnterPress() {this.keystrokes.set("enter",(t => {if (this.isVisible&&this.focusTracker.focusedElement!==this.cancelButtonView.element) {this.fire("execute",{value: this.selectedColor}); t.stopPropagation(); t.preventDefault();}}));}_stopPropagationOnArrowsKeys() {const t=t => t.stopPropagation(); this.keystrokes.set("arrowright",t); this.keystrokes.set("arrowleft",t); this.keystrokes.set("arrowup",t); this.keystrokes.set("arrowdown",t);}_addColorPickersElementsToFocusTracker() {for (const t of this.colorPickerView.slidersView) {this.focusTracker.add(t.element); this._focusables.add(t);} const t=this.colorPickerView.hexInputRow.children.get(1); if (t.element) {this.focusTracker.add(t.element); this._focusables.add(t);} this.focusTracker.add(this.saveButtonView.element); this._focusables.add(this.saveButtonView); this.focusTracker.add(this.cancelButtonView.element); this._focusables.add(this.cancelButtonView);}_createActionBarView({saveButtonView: t,cancelButtonView: e}) {const n=new XA; const o=this.createCollection(); o.add(t); o.add(e); n.setTemplate({tag: "div",attributes: {class: ["ck","ck-color-selector_action-bar"]},children: o}); return n;}_createActionButtons() {const t=this.locale; const e=t.t; const n=new Ev(t); const o=new Ev(t); n.set({icon: bA.check,class: "ck-button-save",type: "button",withText: false,label: e("Accept")}); o.set({icon: bA.cancel,class: "ck-button-cancel",type: "button",withText: false,label: e("Cancel")}); n.on("execute",(() => {this.fire("execute",{source: "colorPickerSaveButton",value: this.selectedColor});})); o.on("execute",(() => {this.fire("colorPicker:cancel");})); return {saveButtonView: n,cancelButtonView: o};}_executeUponColorChange() {this.colorPickerView.on("colorSelected",((t,e) => {this.fire("execute",{value: e.color,source: "colorPicker"}); this.set("selectedColor",e.color);}));}} const nD=n(2927); const oD={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; oD.insert="head"; oD.singleton=true; const iD=Id()(nD.A,oD); const rD=nD.A.locals||{}; class sD extends XA {constructor(t,{colors: e,columns: n,removeButtonLabel: o,documentColorsLabel: i,documentColorsCount: r,colorPickerLabel: s,colorPickerViewConfig: a}) {super(t); this.items=this.createCollection(); this.focusTracker=new sd; this.keystrokes=new ad; this._focusables=new wA; this._colorPickerViewConfig=a; this._focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.colorGridsFragmentView=new tD(t,{colors: e,columns: n,removeButtonLabel: o,documentColorsLabel: i,documentColorsCount: r,colorPickerLabel: s,focusTracker: this.focusTracker,focusables: this._focusables}); this.colorPickerFragmentView=new eD(t,{focusables: this._focusables,focusTracker: this.focusTracker,keystrokes: this.keystrokes,colorPickerViewConfig: a}); this.set("_isColorGridsFragmentVisible",true); this.set("_isColorPickerFragmentVisible",false); this.set("selectedColor",undefined); this.colorGridsFragmentView.bind("isVisible").to(this,"_isColorGridsFragmentVisible"); this.colorPickerFragmentView.bind("isVisible").to(this,"_isColorPickerFragmentVisible"); this.on("change:selectedColor",((t,e,n) => {this.colorGridsFragmentView.set("selectedColor",n); this.colorPickerFragmentView.set("selectedColor",n);})); this.colorGridsFragmentView.on("change:selectedColor",((t,e,n) => {this.set("selectedColor",n);})); this.colorPickerFragmentView.on("change:selectedColor",((t,e,n) => {this.set("selectedColor",n);})); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-color-selector"]},children: this.items});}render() {super.render(); this.keystrokes.listenTo(this.element);}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}appendUI() {this._appendColorGridsFragment(); if (this._colorPickerViewConfig) {this._appendColorPickerFragment();}}showColorPickerFragment() {if (!this.colorPickerFragmentView.colorPickerView||this._isColorPickerFragmentVisible) {return;} this._isColorPickerFragmentVisible=true; this.colorPickerFragmentView.focus(); this._isColorGridsFragmentVisible=false;}showColorGridsFragment() {if (this._isColorGridsFragmentVisible) {return;} this._isColorGridsFragmentVisible=true; this.colorGridsFragmentView.focus(); this._isColorPickerFragmentVisible=false;}focus() {this._focusCycler.focusFirst();}focusLast() {this._focusCycler.focusLast();}updateDocumentColors(t,e) {this.colorGridsFragmentView.updateDocumentColors(t,e);}updateSelectedColors() {this.colorGridsFragmentView.updateSelectedColors();}_appendColorGridsFragment() {if (this.items.length) {return;} this.items.add(this.colorGridsFragmentView); this.colorGridsFragmentView.delegate("execute").to(this); this.colorGridsFragmentView.delegate("colorPicker:show").to(this);}_appendColorPickerFragment() {if (this.items.length===2) {return;} this.items.add(this.colorPickerFragmentView); if (this.colorGridsFragmentView.colorPickerButtonView) {this.colorGridsFragmentView.colorPickerButtonView.on("execute",(() => {this.showColorPickerFragment();}));} this.colorGridsFragmentView.addColorPickerButton(); this.colorPickerFragmentView.delegate("execute").to(this); this.colorPickerFragmentView.delegate("colorPicker:cancel").to(this);}} class aD {constructor(t) {this._components=new Map; this.editor=t;}*names() {for (const t of this._components.values()) {yield t.originalName;}}add(t,e) {this._components.set(cD(t),{callback: e,originalName: t});}create(t) {if (!this.has(t)) {throw new V("componentfactory-item-missing",this,{name: t});} return this._components.get(cD(t)).callback(this.editor.locale);}has(t) {return this._components.has(cD(t));}} function cD(t) {return String(t).toLowerCase();} const lD=n(8379); const dD={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; dD.insert="head"; dD.singleton=true; const uD=Id()(lD.A,dD); const hD=lD.A.locals||{}; class gD extends XA {constructor(t,e={}) {super(t); const n=this.bindTemplate; this.set("label",e.label||""); this.set("class",e.class||null); this.children=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-form__header",n.to("class")]},children: this.children}); if (e.icon) {this.iconView=new _v; this.iconView.content=e.icon; this.children.add(this.iconView);} const o=new XA(t); o.setTemplate({tag: "h2",attributes: {class: ["ck","ck-form__header__label"],role: "presentation"},children: [{text: n.to("label")}]}); this.children.add(o);}} function fD(t) {class e extends t {constructor(...t) {super(...t); this._onDragBound=this._onDrag.bind(this); this._onDragEndBound=this._onDragEnd.bind(this); this._lastDraggingCoordinates={x: 0,y: 0}; this.on("render",(() => {this._attachListeners();})); this.set("isDragging",false);}_attachListeners() {this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)); this.listenTo(this.element,"touchstart",this._onDragStart.bind(this));}_attachDragListeners() {this.listenTo(nc.document,"mouseup",this._onDragEndBound); this.listenTo(nc.document,"touchend",this._onDragEndBound); this.listenTo(nc.document,"mousemove",this._onDragBound); this.listenTo(nc.document,"touchmove",this._onDragBound);}_detachDragListeners() {this.stopListening(nc.document,"mouseup",this._onDragEndBound); this.stopListening(nc.document,"touchend",this._onDragEndBound); this.stopListening(nc.document,"mousemove",this._onDragBound); this.stopListening(nc.document,"touchmove",this._onDragBound);}_onDragStart(t,e) {if (!this._isHandleElementPressed(e)) {return;} this._attachDragListeners(); let n=0; let o=0; if (e instanceof MouseEvent) {n=e.clientX; o=e.clientY;} else {n=e.touches[0].clientX; o=e.touches[0].clientY;} this._lastDraggingCoordinates={x: n,y: o}; this.isDragging=true;}_onDrag(t,e) {if (!this.isDragging) {this._detachDragListeners(); return;} let n=0; let o=0; if (e instanceof MouseEvent) {n=e.clientX; o=e.clientY;} else {n=e.touches[0].clientX; o=e.touches[0].clientY;}e.preventDefault(); this.fire("drag",{deltaX: Math.round(n-this._lastDraggingCoordinates.x),deltaY: Math.round(o-this._lastDraggingCoordinates.y)}); this._lastDraggingCoordinates={x: n,y: o};}_onDragEnd() {this._detachDragListeners(); this.isDragging=false;}_isHandleElementPressed(t) {if (!this.dragHandleElement) {return false;} return this.dragHandleElement===t.target||t.target instanceof HTMLElement&&this.dragHandleElement.contains(t.target);}} return e;} const mD=n(7748); const pD={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; pD.insert="head"; pD.singleton=true; const kD=Id()(mD.A,pD); const bD=mD.A.locals||{}; class wD extends XA {constructor(t) {super(t); this.children=this.createCollection(); this.keystrokes=new ad; this._focusTracker=new sd; this._focusables=new wA; this.focusCycler=new Fy({focusables: this._focusables,focusTracker: this._focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-dialog__actions"]},children: this.children});}render() {super.render(); this.keystrokes.listenTo(this.element);}setButtons(t) {for (const e of t) {const t=new Ev(this.locale); let n; t.on("execute",(() => e.onExecute())); if (e.onCreate) {e.onCreate(t);} for (n in e) {if (n!="onExecute"&&n!="onCreate") {t.set(n,e[n]);}} this.children.add(t);} this._updateFocusCyclableItems();}focus(t) {if (t===-1) {this.focusCycler.focusLast();} else {this.focusCycler.focusFirst();}}_updateFocusCyclableItems() {Array.from(this.children).forEach((t => {this._focusables.add(t); this._focusTracker.add(t.element);}));}} class _D extends XA {constructor(t) {super(t); this.children=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-dialog__content"]},children: this.children});}reset() {while (this.children.length) {this.children.remove(0);}}} const CD=n(7197); const AD={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; AD.insert="head"; AD.singleton=true; const vD=Id()(CD.A,AD); const yD=CD.A.locals||{}; const xD={SCREEN_CENTER: "screen-center",EDITOR_CENTER: "editor-center",EDITOR_TOP_SIDE: "editor-top-side",EDITOR_TOP_CENTER: "editor-top-center",EDITOR_BOTTOM_CENTER: "editor-bottom-center",EDITOR_ABOVE_CENTER: "editor-above-center",EDITOR_BELOW_CENTER: "editor-below-center"}; const ED=Cc("px"); class DD extends (fD(XA)) {constructor(t,{getCurrentDomRoot: e,getViewportOffset: n}) {super(t); this.wasMoved=false; const o=this.bindTemplate; const i=t.t; this.set("className",""); this.set("ariaLabel",i("Editor dialog")); this.set("isModal",false); this.set("position",xD.SCREEN_CENTER); this.set("_isVisible",false); this.set("_isTransparent",false); this.set("_top",0); this.set("_left",0); this._getCurrentDomRoot=e; this._getViewportOffset=n; this.decorate("moveTo"); this.parts=this.createCollection(); this.keystrokes=new ad; this.focusTracker=new sd; this._focusables=new wA; this._focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",(t => !t)),o.if("_isVisible","ck-hidden",(t => !t))],tabindex: "-1"},children: [{tag: "div",attributes: {tabindex: "-1",class: ["ck","ck-dialog",o.to("className")],role: "dialog","aria-label": o.to("ariaLabel"),style: {top: o.to("_top",(t => ED(t))),left: o.to("_left",(t => ED(t))),visibility: o.if("_isTransparent","hidden")}},children: this.parts}]});}render() {super.render(); this.keystrokes.set("Esc",((t,e) => {this.fire("close",{source: "escKeyPress"}); e();})); this.on("drag",((t,{deltaX: e,deltaY: n}) => {this.wasMoved=true; this.moveBy(e,n);})); this.listenTo(nc.window,"resize",(() => {if (this._isVisible&&!this.wasMoved) {this.updatePosition();}})); this.listenTo(nc.document,"scroll",(() => {if (this._isVisible&&!this.wasMoved) {this.updatePosition();}})); this.on("change:_isVisible",((t,e,n) => {if (n) {this._isTransparent=true; setTimeout((() => {this.updatePosition(); this._isTransparent=false; this.focus();}),10);}})); this.keystrokes.listenTo(this.element);} get dragHandleElement() {if (this.headerView) {return this.headerView.element;} return null;}setupParts({icon: t,title: e,hasCloseButton: n=true,content: o,actionButtons: i}) {if (e) {this.headerView=new gD(this.locale,{icon: t}); if (n) {this.closeButtonView=this._createCloseButton(); this.headerView.children.add(this.closeButtonView);} this.headerView.label=e; this.ariaLabel=e; this.parts.add(this.headerView,0);} if (o) {if (o instanceof XA) {o=[o];} this.contentView=new _D(this.locale); this.contentView.children.addMany(o); this.parts.add(this.contentView);} if (i) {this.actionsView=new wD(this.locale); this.actionsView.setButtons(i); this.parts.add(this.actionsView);} this._updateFocusCyclableItems();}focus() {this._focusCycler.focusFirst();}moveTo(t,e) {const n=this._getViewportRect(); const o=this._getDialogRect(); if (t+o.width>n.right) {t=n.right-o.width;} if (t<n.left) {t=n.left;} if (e<n.top) {e=n.top;} this._moveTo(t,e);}_moveTo(t,e) {this._left=t; this._top=e;}moveBy(t,e) {this.moveTo(this._left+t,this._top+e);}_moveOffScreen() {this._moveTo(-9999,-9999);}updatePosition() {if (!this.element||!this.element.parentNode) {return;} const t=this._getViewportRect(); let e=this.position; let n; if (!this._getCurrentDomRoot()) {e=xD.SCREEN_CENTER;} else {n=this._getVisibleDomRootRect(t);} const o=DD.defaultOffset; const i=this._getDialogRect(); switch (e) {case xD.EDITOR_TOP_SIDE:{if (n) {const t=this.locale.contentLanguageDirection==="ltr"?n.right-i.width-o:n.left+o; this.moveTo(t,n.top+o);} else {this._moveOffScreen();} break;} case xD.EDITOR_CENTER:{if (n) {this.moveTo(Math.round(n.left+n.width/2-i.width/2),Math.round(n.top+n.height/2-i.height/2));} else {this._moveOffScreen();} break;} case xD.SCREEN_CENTER:{this.moveTo(Math.round((t.width-i.width)/2),Math.round((t.height-i.height)/2)); break;} case xD.EDITOR_TOP_CENTER:{if (n) {this.moveTo(Math.round(n.left+n.width/2-i.width/2),n.top+o);} else {this._moveOffScreen();} break;} case xD.EDITOR_BOTTOM_CENTER:{if (n) {this.moveTo(Math.round(n.left+n.width/2-i.width/2),n.bottom-i.height-o);} else {this._moveOffScreen();} break;} case xD.EDITOR_ABOVE_CENTER:{if (n) {this.moveTo(Math.round(n.left+n.width/2-i.width/2),n.top-i.height-o);} else {this._moveOffScreen();} break;} case xD.EDITOR_BELOW_CENTER:{if (n) {this.moveTo(Math.round(n.left+n.width/2-i.width/2),n.bottom+o);} else {this._moveOffScreen();} break;}}}_getVisibleDomRootRect(t) {let e=new uc(this._getCurrentDomRoot()).getVisible(); if (!e) {return null;} else {e=t.getIntersection(e); if (!e) {return null;}} return e;}_getDialogRect() {return new uc(this.element.firstElementChild);}_getViewportRect() {return TD(this._getViewportOffset());}_updateFocusCyclableItems() {const t=[]; if (this.contentView) {for (const e of this.contentView.children) {if (zy(e)) {t.push(e);}}} if (this.actionsView) {t.push(this.actionsView);} if (this.closeButtonView) {t.push(this.closeButtonView);}t.forEach((t => {this._focusables.add(t); this.focusTracker.add(t.element); if (Ny(t)) {this.listenTo(t.focusCycler,"forwardCycle",(t => {this._focusCycler.focusNext(); if (this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)) {t.stop();}})); this.listenTo(t.focusCycler,"backwardCycle",(t => {this._focusCycler.focusPrevious(); if (this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)) {t.stop();}}));}}));}_createCloseButton() {const t=new Ev(this.locale); const e=this.locale.t; t.set({label: e("Close"),tooltip: true,icon: bA.cancel}); t.on("execute",(() => this.fire("close",{source: "closeButton"}))); return t;}}DD.defaultOffset=15; const BD=DD; function TD(t) {t=Object.assign({top: 0,bottom: 0,left: 0,right: 0},t); const e=new uc(nc.window); e.top+=t.top; e.height-=t.top; e.bottom-=t.bottom; e.height-=t.bottom; e.left+=t.left; e.right-=t.right; e.width-=t.left+t.right; return e;} class SD extends Ad {static get pluginName() {return "Dialog";}constructor(t) {super(t); const e=t.t; this._initShowHideListeners(); this._initFocusToggler(); this._initMultiRootIntegration(); this.set("id",null); t.accessibility.addKeystrokeInfos({categoryId: "navigation",keystrokes: [{label: e("Move focus in and out of an active dialog window"),keystroke: "Ctrl+F6",mayRequireFn: true}]});}_initShowHideListeners() {this.on("show",((t,e) => {this._show(e);})); this.on("show",((t,e) => {if (e.onShow) {e.onShow(this);}}),{priority: "low"}); this.on("hide",(() => {if (SD._visibleDialogPlugin) {SD._visibleDialogPlugin._hide();}})); this.on("hide",(() => {if (this._onHide) {this._onHide(this); this._onHide=undefined;}}),{priority: "low"});}_initFocusToggler() {const t=this.editor; t.keystrokes.set("Ctrl+F6",((e,n) => {if (!this.isOpen||this.view.isModal) {return;} if (this.view.focusTracker.isFocused) {t.editing.view.focus();} else {this.view.focus();}n();}));}_initMultiRootIntegration() {const t=this.editor.model; t.document.on("change:data",(() => {if (!this.view) {return;} const e=t.document.differ.getChangedRoots(); for (const t of e) {if (t.state) {this.view.updatePosition();}}}));}show(t) {this.hide(); this.fire(`show:${t.id}`,t);}_show({id: t,icon: e,title: n,hasCloseButton: o=true,content: i,actionButtons: r,className: s,isModal: a,position: c,onHide: l}) {const d=this.editor; this.view=new BD(d.locale,{getCurrentDomRoot: () => d.editing.view.getDomRoot(d.model.document.selection.anchor.root.rootName),getViewportOffset: () => d.ui.viewportOffset}); const u=this.view; u.on("close",(() => {this.hide();})); d.ui.view.body.add(u); d.ui.focusTracker.add(u.element); d.keystrokes.listenTo(u.element); if (!c) {c=a?xD.SCREEN_CENTER:xD.EDITOR_CENTER;}u.set({position: c,_isVisible: true,className: s,isModal: a}); u.setupParts({icon: e,title: n,hasCloseButton: o,content: i,actionButtons: r}); this.id=t; if (l) {this._onHide=l;} this.isOpen=true; SD._visibleDialogPlugin=this;}hide() {if (SD._visibleDialogPlugin) {SD._visibleDialogPlugin.fire(`hide:${SD._visibleDialogPlugin.id}`);}}_hide() {if (!this.view) {return;} const t=this.editor; const e=this.view; if (e.contentView) {e.contentView.reset();}t.ui.view.body.remove(e); t.ui.focusTracker.remove(e.element); t.keystrokes.stopListening(e.element); e.destroy(); t.editing.view.focus(); this.id=null; this.isOpen=false; SD._visibleDialogPlugin=null;}} const ID=n(9316); const PD={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; PD.insert="head"; PD.singleton=true; const RD=Id()(ID.A,PD); const VD=ID.A.locals||{}; const MD=Cc("px"); const FD=nc.document.body; const OD={top: -99999,left: -99999,name: "arrowless",config: {withArrow: false}}; class zD extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.set("top",0); this.set("left",0); this.set("position","arrow_nw"); this.set("isVisible",false); this.set("withArrow",true); this.set("class",undefined); this._pinWhenIsVisibleCallback=null; this.content=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-balloon-panel",e.to("position",(t => `ck-balloon-panel_${t}`)),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style: {top: e.to("top",MD),left: e.to("left",MD)}},children: this.content});}show() {this.isVisible=true;}hide() {this.isVisible=false;}attachTo(t) {this.show(); const e=zD.defaultPositions; const n=Object.assign({},{element: this.element,positions: [e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter: FD,fitInViewport: true},t); const o=zD._getOptimalPosition(n)||OD; const i=parseInt(o.left); const r=parseInt(o.top); const s=o.name; const a=o.config||{}; const {withArrow: c=true}=a; this.top=r; this.left=i; this.position=s; this.withArrow=c;}pin(t) {this.unpin(); this._pinWhenIsVisibleCallback=() => {if (this.isVisible) {this._startPinning(t);} else {this._stopPinning();}}; this._startPinning(t); this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback);}unpin() {if (this._pinWhenIsVisibleCallback) {this._stopPinning(); this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback); this._pinWhenIsVisibleCallback=null; this.hide();}}_startPinning(t) {this.attachTo(t); const e=LD(t.target); const n=t.limiter?LD(t.limiter):FD; this.listenTo(nc.document,"scroll",((o,i) => {const r=i.target; const s=e&&r.contains(e); const a=n&&r.contains(n); if (s||a||!e||!n) {this.attachTo(t);}}),{useCapture: true}); this.listenTo(nc.window,"resize",(() => {this.attachTo(t);}));}_stopPinning() {this.stopListening(nc.document,"scroll"); this.stopListening(nc.window,"resize");}}zD.arrowSideOffset=25; zD.arrowHeightOffset=10; zD.stickyVerticalOffset=20; zD._getOptimalPosition=Dc; zD.defaultPositions=HD(); const ND=zD; function LD(t) {if (qa(t)) {return t;} if (cc(t)) {return t.commonAncestorContainer;} if (typeof t==="function") {return LD(t());} return null;} function HD(t={}) {const {sideOffset: e=zD.arrowSideOffset,heightOffset: n=zD.arrowHeightOffset,stickyVerticalOffset: o=zD.stickyVerticalOffset,config: i}=t; return {northWestArrowSouthWest: (t,n) => ({top: r(t,n),left: t.left-e,name: "arrow_sw",...i&&{config: i}}),northWestArrowSouthMiddleWest: (t,n) => ({top: r(t,n),left: t.left-n.width*0.25-e,name: "arrow_smw",...i&&{config: i}}),northWestArrowSouth: (t,e) => ({top: r(t,e),left: t.left-e.width/2,name: "arrow_s",...i&&{config: i}}),northWestArrowSouthMiddleEast: (t,n) => ({top: r(t,n),left: t.left-n.width*0.75+e,name: "arrow_sme",...i&&{config: i}}),northWestArrowSouthEast: (t,n) => ({top: r(t,n),left: t.left-n.width+e,name: "arrow_se",...i&&{config: i}}),northArrowSouthWest: (t,n) => ({top: r(t,n),left: t.left+t.width/2-e,name: "arrow_sw",...i&&{config: i}}),northArrowSouthMiddleWest: (t,n) => ({top: r(t,n),left: t.left+t.width/2-n.width*0.25-e,name: "arrow_smw",...i&&{config: i}}),northArrowSouth: (t,e) => ({top: r(t,e),left: t.left+t.width/2-e.width/2,name: "arrow_s",...i&&{config: i}}),northArrowSouthMiddleEast: (t,n) => ({top: r(t,n),left: t.left+t.width/2-n.width*0.75+e,name: "arrow_sme",...i&&{config: i}}),northArrowSouthEast: (t,n) => ({top: r(t,n),left: t.left+t.width/2-n.width+e,name: "arrow_se",...i&&{config: i}}),northEastArrowSouthWest: (t,n) => ({top: r(t,n),left: t.right-e,name: "arrow_sw",...i&&{config: i}}),northEastArrowSouthMiddleWest: (t,n) => ({top: r(t,n),left: t.right-n.width*0.25-e,name: "arrow_smw",...i&&{config: i}}),northEastArrowSouth: (t,e) => ({top: r(t,e),left: t.right-e.width/2,name: "arrow_s",...i&&{config: i}}),northEastArrowSouthMiddleEast: (t,n) => ({top: r(t,n),left: t.right-n.width*0.75+e,name: "arrow_sme",...i&&{config: i}}),northEastArrowSouthEast: (t,n) => ({top: r(t,n),left: t.right-n.width+e,name: "arrow_se",...i&&{config: i}}),southWestArrowNorthWest: t => ({top: s(t),left: t.left-e,name: "arrow_nw",...i&&{config: i}}),southWestArrowNorthMiddleWest: (t,n) => ({top: s(t),left: t.left-n.width*0.25-e,name: "arrow_nmw",...i&&{config: i}}),southWestArrowNorth: (t,e) => ({top: s(t),left: t.left-e.width/2,name: "arrow_n",...i&&{config: i}}),southWestArrowNorthMiddleEast: (t,n) => ({top: s(t),left: t.left-n.width*0.75+e,name: "arrow_nme",...i&&{config: i}}),southWestArrowNorthEast: (t,n) => ({top: s(t),left: t.left-n.width+e,name: "arrow_ne",...i&&{config: i}}),southArrowNorthWest: t => ({top: s(t),left: t.left+t.width/2-e,name: "arrow_nw",...i&&{config: i}}),southArrowNorthMiddleWest: (t,n) => ({top: s(t),left: t.left+t.width/2-n.width*0.25-e,name: "arrow_nmw",...i&&{config: i}}),southArrowNorth: (t,e) => ({top: s(t),left: t.left+t.width/2-e.width/2,name: "arrow_n",...i&&{config: i}}),southArrowNorthMiddleEast: (t,n) => ({top: s(t),left: t.left+t.width/2-n.width*0.75+e,name: "arrow_nme",...i&&{config: i}}),southArrowNorthEast: (t,n) => ({top: s(t),left: t.left+t.width/2-n.width+e,name: "arrow_ne",...i&&{config: i}}),southEastArrowNorthWest: t => ({top: s(t),left: t.right-e,name: "arrow_nw",...i&&{config: i}}),southEastArrowNorthMiddleWest: (t,n) => ({top: s(t),left: t.right-n.width*0.25-e,name: "arrow_nmw",...i&&{config: i}}),southEastArrowNorth: (t,e) => ({top: s(t),left: t.right-e.width/2,name: "arrow_n",...i&&{config: i}}),southEastArrowNorthMiddleEast: (t,n) => ({top: s(t),left: t.right-n.width*0.75+e,name: "arrow_nme",...i&&{config: i}}),southEastArrowNorthEast: (t,n) => ({top: s(t),left: t.right-n.width+e,name: "arrow_ne",...i&&{config: i}}),westArrowEast: (t,e) => ({top: t.top+t.height/2-e.height/2,left: t.left-e.width-n,name: "arrow_e",...i&&{config: i}}),eastArrowWest: (t,e) => ({top: t.top+t.height/2-e.height/2,left: t.right+n,name: "arrow_w",...i&&{config: i}}),viewportStickyNorth: (t,e,n,r) => {const s=r||n; if (!t.getIntersection(s)) {return null;} if (s.height-t.height>o) {return null;} return {top: s.top+o,left: t.left+t.width/2-e.width/2,name: "arrowless",config: {withArrow: false,...i}};}}; function r(t,e) {return t.top-e.height-n;} function s(t) {return t.bottom+n;}} const jD=n(3935); const WD={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; WD.insert="head"; WD.singleton=true; const qD=Id()(jD.A,WD); const UD=jD.A.locals||{}; const $D="ck-tooltip"; class GD extends (Ya()) {constructor(t) {super(); this._currentElementWithTooltip=null; this._currentTooltipPosition=null; this._resizeObserver=null; this._mutationObserver=null; GD._editors.add(t); if (GD._instance) {return GD._instance;}GD._instance=this; this.tooltipTextView=new XA(t.locale); this.tooltipTextView.set("text",""); this.tooltipTextView.setTemplate({tag: "span",attributes: {class: ["ck","ck-tooltip__text"]},children: [{text: this.tooltipTextView.bindTemplate.to("text")}]}); this.balloonPanelView=new ND(t.locale); this.balloonPanelView.class=$D; this.balloonPanelView.content.add(this.tooltipTextView); this._mutationObserver=YD((() => {this._updateTooltipPosition();})); this._pinTooltipDebounced=mf(this._pinTooltip,600); this._unpinTooltipDebounced=mf(this._unpinTooltip,400); this.listenTo(nc.document,"keydown",this._onKeyDown.bind(this),{useCapture: true}); this.listenTo(nc.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture: true}); this.listenTo(nc.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture: true}); this.listenTo(nc.document,"focus",this._onEnterOrFocus.bind(this),{useCapture: true}); this.listenTo(nc.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture: true}); this.listenTo(nc.document,"scroll",this._onScroll.bind(this),{useCapture: true}); this._watchdogExcluded=true;}destroy(t) {const e=t.ui.view&&t.ui.view.body; GD._editors.delete(t); this.stopListening(t.ui); if (e&&e.has(this.balloonPanelView)) {e.remove(this.balloonPanelView);} if (!GD._editors.size) {this._unpinTooltip(); this.balloonPanelView.destroy(); this.stopListening(); GD._instance=null;}} static getPositioningFunctions(t) {const e=GD.defaultBalloonPositions; return {s: [e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n: [e.northArrowSouth],e: [e.eastArrowWest],w: [e.westArrowEast],sw: [e.southArrowNorthEast],se: [e.southArrowNorthWest]}[t];}_onKeyDown(t,e) {if (e.key==="Escape"&&this._currentElementWithTooltip) {this._unpinTooltip(); e.stopPropagation();}}_onEnterOrFocus(t,{target: e}) {const n=ZD(e); if (!n) {if (t.name==="focus") {this._unpinTooltip();} return;} if (n===this._currentElementWithTooltip) {return;} this._unpinTooltip(); this._pinTooltipDebounced(n,JD(n));}_onLeaveOrBlur(t,{target: e,relatedTarget: n}) {if (t.name==="mouseleave") {if (!qa(e)) {return;} const t=this.balloonPanelView.element; const o=t&&(t===n||t.contains(n)); const i=!o&&e===t; if (o) {this._unpinTooltipDebounced.cancel(); return;} if (!i&&this._currentElementWithTooltip&&e!==this._currentElementWithTooltip) {return;} const r=ZD(e); const s=ZD(n); if (i||r&&r!==s) {this._unpinTooltipDebounced();}} else {if (this._currentElementWithTooltip&&e!==this._currentElementWithTooltip) {return;} this._unpinTooltipDebounced();}}_onScroll(t,{target: e}) {if (!this._currentElementWithTooltip) {return;} if (e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)) {return;} this._unpinTooltip();}_pinTooltip(t,{text: e,position: n,cssClass: o}) {this._unpinTooltip(); const i=rd(GD._editors.values()).ui.view.body; if (!i.has(this.balloonPanelView)) {i.add(this.balloonPanelView);} this.tooltipTextView.text=e; this.balloonPanelView.pin({target: t,positions: GD.getPositioningFunctions(n)}); this._resizeObserver=new wc(t,(() => {if (!Ec(t)) {this._unpinTooltip();}})); this._mutationObserver.attach(t); this.balloonPanelView.class=[$D,o].filter((t => t)).join(" "); for (const t of GD._editors) {this.listenTo(t.ui,"update",this._updateTooltipPosition.bind(this),{priority: "low"});} this._currentElementWithTooltip=t; this._currentTooltipPosition=n;}_unpinTooltip() {this._unpinTooltipDebounced.cancel(); this._pinTooltipDebounced.cancel(); this.balloonPanelView.unpin(); for (const t of GD._editors) {this.stopListening(t.ui,"update");} this._currentElementWithTooltip=null; this._currentTooltipPosition=null; this.tooltipTextView.text=""; if (this._resizeObserver) {this._resizeObserver.destroy();} this._mutationObserver.detach();}_updateTooltipPosition() {const t=JD(this._currentElementWithTooltip); if (!Ec(this._currentElementWithTooltip)||!t.text) {this._unpinTooltip(); return;} this.balloonPanelView.pin({target: this._currentElementWithTooltip,positions: GD.getPositioningFunctions(t.position)});}}GD.defaultBalloonPositions=HD({heightOffset: 5,sideOffset: 13}); GD._editors=new Set; GD._instance=null; const KD=GD; function ZD(t) {if (!qa(t)) {return null;} return t.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])");} function JD(t) {return {text: t.dataset.ckeTooltipText,position: t.dataset.ckeTooltipPosition||"s",cssClass: t.dataset.ckeTooltipClass||""};} function YD(t) {const e=new MutationObserver((() => {t();})); return {attach(t) {e.observe(t,{attributes: true,attributeFilter: ["data-cke-tooltip-text","data-cke-tooltip-position"]});},detach() {e.disconnect();}};} const QD="Expected a function"; function XD(t,e,n) {let o=true,i=true; if (typeof t!=="function") {throw new TypeError(QD);} if (st(n)) {o="leading"in n?!!n.leading:o; i="trailing"in n?!!n.trailing:i;} return mf(t,e,{leading: o,maxWait: e,trailing: i});} const tB=XD; const eB='<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n'; const nB=53; const oB=10; const iB=50; const rB=350; const sB="Powered by"; class aB extends (Ya()) {constructor(t) {super(); this.editor=t; this._balloonView=null; this._lastFocusedEditableElement=null; this._showBalloonThrottled=tB(this._showBalloon.bind(this),50,{leading: true}); t.on("ready",this._handleEditorReady.bind(this));}destroy() {const t=this._balloonView; if (t) {t.unpin(); this._balloonView=null;} this._showBalloonThrottled.cancel(); this.stopListening();}_handleEditorReady() {const t=this.editor; const e=!!t.config.get("ui.poweredBy.forceVisible"); if (!e&&gd(t.config.get("licenseKey"))==="VALID") {return;} if (!t.ui.view) {return;}t.ui.focusTracker.on("change:isFocused",((t,e,n) => {this._updateLastFocusedEditableElement(); if (n) {this._showBalloon();} else {this._hideBalloon();}})); t.ui.focusTracker.on("change:focusedElement",((t,e,n) => {this._updateLastFocusedEditableElement(); if (n) {this._showBalloon();}})); t.ui.on("update",(() => {this._showBalloonThrottled();}));}_createBalloonView() {const t=this.editor; const e=this._balloonView=new ND; const n=gB(t); const o=new cB(t.locale,n.label); e.content.add(o); e.set({class: "ck-powered-by-balloon"}); t.ui.view.body.add(e); t.ui.focusTracker.add(e.element); this._balloonView=e;}_showBalloon() {if (!this._lastFocusedEditableElement) {return;} const t=lB(this.editor,this._lastFocusedEditableElement); if (t) {if (!this._balloonView) {this._createBalloonView();} this._balloonView.pin(t);}}_hideBalloon() {if (this._balloonView) {this._balloonView.unpin();}}_updateLastFocusedEditableElement() {const t=this.editor; const e=t.ui.focusTracker.isFocused; const n=t.ui.focusTracker.focusedElement; if (!e||!n) {this._lastFocusedEditableElement=null; return;} const o=Array.from(t.ui.getEditableElementsNames()).map((e => t.ui.getEditableElement(e))); if (o.includes(n)) {this._lastFocusedEditableElement=n;} else {this._lastFocusedEditableElement=o[0];}}} class cB extends XA {constructor(t,e) {super(t); const n=new _v; const o=this.bindTemplate; n.set({content: eB,isColorInherited: false}); n.extendTemplate({attributes: {style: {width: `${nB}px`,height: `${oB}px`}}}); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-powered-by"],"aria-hidden": true},children: [{tag: "a",attributes: {href: "https://ckeditor.com/?utm_source=ckeditor&"+"utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target: "_blank",tabindex: "-1"},children: [...e?[{tag: "span",attributes: {class: ["ck","ck-powered-by__label"]},children: [e]}]:[],n],on: {dragstart: o.to((t => t.preventDefault()))}}]});}} function lB(t,e) {const n=gB(t); const o=n.side==="right"?dB(e,n):uB(e,n); return {target: e,positions: [o]};} function dB(t,e) {return hB(t,e,((t,n) => t.left+t.width-n.width-e.horizontalOffset));} function uB(t,e) {return hB(t,e,(t => t.left+e.horizontalOffset));} function hB(t,e,n) {return (o,i) => {const r=new uc(t); if (r.width<rB||r.height<iB) {return null;} let s; if (e.position==="inside") {s=r.bottom-i.height;} else {s=r.bottom-i.height/2;}s-=e.verticalOffset; const a=n(r,i); const c=o.clone().moveTo(a,s).getIntersection(i.clone().moveTo(a,s)); const l=c.getVisible(); if (!l||l.getArea()<i.getArea()) {return null;} return {top: s,left: a,name: `position_${e.position}-side_${e.side}`,config: {withArrow: false}};};} function gB(t) {const e=t.config.get("ui.poweredBy"); const n=e&&e.position||"border"; return {position: n,label: sB,verticalOffset: n==="inside"?5:0,horizontalOffset: 5,side: t.locale.contentLanguageDirection==="ltr"?"right":"left",...e};} const fB=n(1587); const mB={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; mB.insert="head"; mB.singleton=true; const pB=Id()(fB.A,mB); const kB=fB.A.locals||{}; const bB={POLITE: "polite",ASSERTIVE: "assertive"}; class wB {constructor(t) {this.editor=t;}announce(t,e,n=bB.POLITE) {const o=this.editor; if (!this.view) {this.view=new _B(o.locale); o.ui.view.body.add(this.view);} let i=this.view.regionViews.find((e => e.regionName===t)); if (!i) {i=new CB(this.view.locale); this.view.regionViews.add(i);}i.set({regionName: t,text: e,politeness: n});}} class _B extends XA {constructor(t) {super(t); this.regionViews=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-aria-live-announcer"]},children: this.regionViews});}} class CB extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.set("regionName",""); this.set("text",""); this.set("politeness",bB.POLITE); this.setTemplate({tag: "div",attributes: {role: "region","data-region": e.to("regionName"),"aria-live": e.to("politeness")},children: [{text: e.to("text")}]});}} class AB extends (gt()) {constructor(t) {super(); this.isReady=false; this._editableElementsMap=new Map; this._focusableToolbarDefinitions=[]; const e=t.editing.view; this.editor=t; this.componentFactory=new aD(t); this.focusTracker=new sd; this.tooltipManager=new KD(t); this.poweredBy=new aB(t); this.ariaLiveAnnouncer=new wB(t); this.set("viewportOffset",this._readViewportOffsetFromConfig()); this.once("ready",(() => {this.isReady=true;})); this.listenTo(e.document,"layoutChanged",this.update.bind(this)); this.listenTo(e,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)); this._initFocusTracking();} get element() {return null;}update() {this.fire("update");}destroy() {this.stopListening(); this.focusTracker.destroy(); this.tooltipManager.destroy(this.editor); this.poweredBy.destroy(); for (const t of this._editableElementsMap.values()) {t.ckeditorInstance=null; this.editor.keystrokes.stopListening(t);} this._editableElementsMap=new Map; this._focusableToolbarDefinitions=[];}setEditableElement(t,e) {this._editableElementsMap.set(t,e); if (!e.ckeditorInstance) {e.ckeditorInstance=this.editor;} this.focusTracker.add(e); const n=() => {if (this.editor.editing.view.getDomRoot(t)) {return;} this.editor.keystrokes.listenTo(e);}; if (this.isReady) {n();} else {this.once("ready",n);}}removeEditableElement(t) {const e=this._editableElementsMap.get(t); if (!e) {return;} this._editableElementsMap.delete(t); this.editor.keystrokes.stopListening(e); this.focusTracker.remove(e); e.ckeditorInstance=null;}getEditableElement(t="main") {return this._editableElementsMap.get(t);}getEditableElementsNames() {return this._editableElementsMap.keys();}addToolbar(t,e={}) {if (t.isRendered) {this.focusTracker.add(t.element); this.editor.keystrokes.listenTo(t.element);} else {t.once("render",(() => {this.focusTracker.add(t.element); this.editor.keystrokes.listenTo(t.element);}));} this._focusableToolbarDefinitions.push({toolbarView: t,options: e});} get _editableElements() {console.warn("editor-ui-deprecated-editable-elements: "+"The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI: this}); return this._editableElementsMap;}_readViewportOffsetFromConfig() {const t=this.editor; const e=t.config.get("ui.viewportOffset"); if (e) {return e;} const n=t.config.get("toolbar.viewportTopOffset"); if (n) {console.warn("editor-ui-deprecated-viewport-offset-config: "+"The `toolbar.vieportTopOffset` configuration option is deprecated. "+"It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."); return {top: n};} return {top: 0};}_initFocusTracking() {const t=this.editor; const e=t.editing.view; let n; let o; t.keystrokes.set("Alt+F10",((t,i) => {const r=this.focusTracker.focusedElement; if (Array.from(this._editableElementsMap.values()).includes(r)&&!Array.from(e.domRoots.values()).includes(r)) {n=r;} const s=this._getCurrentFocusedToolbarDefinition(); if (!s||!o) {o=this._getFocusableCandidateToolbarDefinitions();} for (let t=0; t<o.length; t++) {const t=o.shift(); o.push(t); if (t!==s&&this._focusFocusableCandidateToolbar(t)) {if (s&&s.options.afterBlur) {s.options.afterBlur();} break;}}i();})); t.keystrokes.set("Esc",((e,o) => {const i=this._getCurrentFocusedToolbarDefinition(); if (!i) {return;} if (n) {n.focus(); n=null;} else {t.editing.view.focus();} if (i.options.afterBlur) {i.options.afterBlur();}o();}));}_getFocusableCandidateToolbarDefinitions() {const t=[]; for (const e of this._focusableToolbarDefinitions) {const {toolbarView: n,options: o}=e; if (Ec(n.element)||o.beforeFocus) {t.push(e);}}t.sort(((t,e) => vB(t)-vB(e))); return t;}_getCurrentFocusedToolbarDefinition() {for (const t of this._focusableToolbarDefinitions) {if (t.toolbarView.element&&t.toolbarView.element.contains(this.focusTracker.focusedElement)) {return t;}} return null;}_focusFocusableCandidateToolbar(t) {const {toolbarView: e,options: {beforeFocus: n}}=t; if (n) {n();} if (!Ec(e.element)) {return false;}e.focus(); return true;}_handleScrollToTheSelection(t,e) {const n={top: 0,bottom: 0,left: 0,right: 0,...this.viewportOffset}; e.viewportOffset.top+=n.top; e.viewportOffset.bottom+=n.bottom; e.viewportOffset.left+=n.left; e.viewportOffset.right+=n.right;}} function vB(t) {const {toolbarView: e,options: n}=t; let o=10; if (Ec(e.element)) {o--;} if (n.isContextual) {o--;} return o;} const yB=n(5931); const xB={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; xB.insert="head"; xB.singleton=true; const EB=Id()(yB.A,xB); const DB=yB.A.locals||{}; class BB extends XA {constructor(t) {super(t); this.body=new fv(t);}render() {super.render(); this.body.attachToDom();}destroy() {this.body.detachFromDom(); return super.destroy();}} class TB extends BB {constructor(t) {super(t); this.top=this.createCollection(); this.main=this.createCollection(); this._voiceLabelView=this._createVoiceLabel(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-reset","ck-editor","ck-rounded-corners"],role: "application",dir: t.uiLanguageDirection,lang: t.uiLanguage,"aria-labelledby": this._voiceLabelView.id},children: [this._voiceLabelView,{tag: "div",attributes: {class: ["ck","ck-editor__top","ck-reset_all"],role: "presentation"},children: this.top},{tag: "div",attributes: {class: ["ck","ck-editor__main"],role: "presentation"},children: this.main}]});}_createVoiceLabel() {const t=this.t; const e=new iv; e.text=t("Rich Text Editor"); e.extendTemplate({attributes: {class: "ck-voice-label"}}); return e;}} class SB extends XA {constructor(t,e,n) {super(t); this.name=null; this.setTemplate({tag: "div",attributes: {class: ["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang: t.contentLanguage,dir: t.contentLanguageDirection}}); this.set("isFocused",false); this._editableElement=n; this._hasExternalElement=!!this._editableElement; this._editingView=e;}render() {super.render(); if (this._hasExternalElement) {this.template.apply(this.element=this._editableElement);} else {this._editableElement=this.element;} this.on("change:isFocused",(() => this._updateIsFocusedClasses())); this._updateIsFocusedClasses();}destroy() {if (this._hasExternalElement) {this.template.revert(this._editableElement);} super.destroy();} get hasExternalElement() {return this._hasExternalElement;}_updateIsFocusedClasses() {const t=this._editingView; if (t.isRenderingInProgress) {n(this);} else {e(this);} function e(e) {t.change((n => {const o=t.document.getRoot(e.name); n.addClass(e.isFocused?"ck-focused":"ck-blurred",o); n.removeClass(e.isFocused?"ck-blurred":"ck-focused",o);}));} function n(o) {t.once("change:isRenderingInProgress",((t,i,r) => {if (!r) {e(o);} else {n(o);}}));}}} class IB extends SB {constructor(t,e,n,o={}) {super(t,e,n); const i=t.t; this.extendTemplate({attributes: {role: "textbox",class: "ck-editor__editable_inline"}}); this._generateLabel=o.label||(() => i("Editor editing area: %0",this.name));}render() {super.render(); const t=this._editingView; t.change((e => {const n=t.document.getRoot(this.name); e.setAttribute("aria-label",this._generateLabel(this),n);}));}} class PB extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.setTemplate({tag: "iframe",attributes: {class: ["ck","ck-reset_all"],sandbox: "allow-same-origin allow-scripts"},on: {load: e.to("loaded")}});}render() {return new Promise((t => {this.on("loaded",t); return super.render();}));}} class RB extends Td {static get pluginName() {return "Notification";}init() {this.on("show:warning",((t,e) => {window.alert(e.message);}),{priority: "lowest"});}showSuccess(t,e={}) {this._showNotification({message: t,type: "success",namespace: e.namespace,title: e.title});}showInfo(t,e={}) {this._showNotification({message: t,type: "info",namespace: e.namespace,title: e.title});}showWarning(t,e={}) {this._showNotification({message: t,type: "warning",namespace: e.namespace,title: e.title});}_showNotification(t) {const e=t.namespace?`show:${t.type}:${t.namespace}`:`show:${t.type}`; this.fire(e,{message: t.message,type: t.type,title: t.title||""});}} class VB extends (gt()) {constructor(t,e) {super(); if (e) {Ug(this,e);} if (t) {this.set(t);}}} const MB=n(6841); const FB={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; FB.insert="head"; FB.singleton=true; const OB=Id()(MB.A,FB); const zB=MB.A.locals||{}; const NB=n(726); const LB={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; LB.insert="head"; LB.singleton=true; const HB=Id()(NB.A,LB); const jB=NB.A.locals||{}; const WB=Cc("px"); class qB extends Ad {static get pluginName() {return "ContextualBalloon";}constructor(t) {super(t); this._viewToStack=new Map; this._idToStack=new Map; this._view=null; this._rotatorView=null; this._fakePanelsView=null; this.positionLimiter=() => {const t=this.editor.editing.view; const e=t.document; const n=e.selection.editableElement; if (n) {return t.domConverter.mapViewToDom(n.root);} return null;}; this.set("visibleView",null); this.set("_numberOfStacks",0); this.set("_singleViewMode",false);}destroy() {super.destroy(); if (this._view) {this._view.destroy();} if (this._rotatorView) {this._rotatorView.destroy();} if (this._fakePanelsView) {this._fakePanelsView.destroy();}} get view() {if (!this._view) {this._createPanelView();} return this._view;}hasView(t) {return Array.from(this._viewToStack.keys()).includes(t);}add(t) {if (!this._view) {this._createPanelView();} if (this.hasView(t.view)) {throw new V("contextualballoon-add-view-exist",[this,t]);} const e=t.stackId||"main"; if (!this._idToStack.has(e)) {this._idToStack.set(e,new Map([[t.view,t]])); this._viewToStack.set(t.view,this._idToStack.get(e)); this._numberOfStacks=this._idToStack.size; if (!this._visibleStack||t.singleViewMode) {this.showStack(e);} return;} const n=this._idToStack.get(e); if (t.singleViewMode) {this.showStack(e);}n.set(t.view,t); this._viewToStack.set(t.view,n); if (n===this._visibleStack) {this._showView(t);}}remove(t) {if (!this.hasView(t)) {throw new V("contextualballoon-remove-view-not-exist",[this,t]);} const e=this._viewToStack.get(t); if (this._singleViewMode&&this.visibleView===t) {this._singleViewMode=false;} if (this.visibleView===t) {if (e.size===1) {if (this._idToStack.size>1) {this._showNextStack();} else {this.view.hide(); this.visibleView=null; this._rotatorView.hideView();}} else {this._showView(Array.from(e.values())[e.size-2]);}} if (e.size===1) {this._idToStack.delete(this._getStackId(e)); this._numberOfStacks=this._idToStack.size;} else {e.delete(t);} this._viewToStack.delete(t);}updatePosition(t) {if (t) {this._visibleStack.get(this.visibleView).position=t;} this.view.pin(this._getBalloonPosition()); this._fakePanelsView.updatePosition();}showStack(t) {this.visibleStack=t; const e=this._idToStack.get(t); if (!e) {throw new V("contextualballoon-showstack-stack-not-exist",this);} if (this._visibleStack===e) {return;} this._showView(Array.from(e.values()).pop());}_createPanelView() {this._view=new ND(this.editor.locale); this.editor.ui.view.body.add(this._view); this.editor.ui.focusTracker.add(this._view.element); this._rotatorView=this._createRotatorView(); this._fakePanelsView=this._createFakePanelsView();} get _visibleStack() {return this._viewToStack.get(this.visibleView);}_getStackId(t) {const e=Array.from(this._idToStack.entries()).find((e => e[1]===t)); return e[0];}_showNextStack() {const t=Array.from(this._idToStack.values()); let e=t.indexOf(this._visibleStack)+1; if (!t[e]) {e=0;} this.showStack(this._getStackId(t[e]));}_showPrevStack() {const t=Array.from(this._idToStack.values()); let e=t.indexOf(this._visibleStack)-1; if (!t[e]) {e=t.length-1;} this.showStack(this._getStackId(t[e]));}_createRotatorView() {const t=new UB(this.editor.locale); const e=this.editor.locale.t; this.view.content.add(t); t.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e) => !e&&t>1)); t.on("change:isNavigationVisible",(() => this.updatePosition()),{priority: "low"}); t.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((t,n) => {if (n<2) {return "";} const o=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1; return e("%0 of %1",[o,n]);})); t.buttonNextView.on("execute",(() => {if (t.focusTracker.isFocused) {this.editor.editing.view.focus();} this._showNextStack();})); t.buttonPrevView.on("execute",(() => {if (t.focusTracker.isFocused) {this.editor.editing.view.focus();} this._showPrevStack();})); return t;}_createFakePanelsView() {const t=new $B(this.editor.locale,this.view); t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((t,e) => {const n=!e&&t>=2; return n?Math.min(t-1,2):0;})); t.listenTo(this.view,"change:top",(() => t.updatePosition())); t.listenTo(this.view,"change:left",(() => t.updatePosition())); this.editor.ui.view.body.add(t); return t;}_showView({view: t,balloonClassName: e="",withArrow: n=true,singleViewMode: o=false}) {this.view.class=e; this.view.withArrow=n; this._rotatorView.showView(t); this.visibleView=t; this.view.pin(this._getBalloonPosition()); this._fakePanelsView.updatePosition(); if (o) {this._singleViewMode=true;}}_getBalloonPosition() {let t=Array.from(this._visibleStack.values()).pop().position; if (t) {if (!t.limiter) {t=Object.assign({},t,{limiter: this.positionLimiter});}t=Object.assign({},t,{viewportOffsetConfig: this.editor.ui.viewportOffset});} return t;}} class UB extends XA {constructor(t) {super(t); const e=t.t; const n=this.bindTemplate; this.set("isNavigationVisible",true); this.focusTracker=new sd; this.buttonPrevView=this._createButtonView(e("Previous"),bA.previousArrow); this.buttonNextView=this._createButtonView(e("Next"),bA.nextArrow); this.content=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-balloon-rotator"],"z-index": "-1"},children: [{tag: "div",attributes: {class: ["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(t => t?"":"ck-hidden"))]},children: [this.buttonPrevView,{tag: "span",attributes: {class: ["ck-balloon-rotator__counter"]},children: [{text: n.to("counter")}]},this.buttonNextView]},{tag: "div",attributes: {class: "ck-balloon-rotator__content"},children: this.content}]});}render() {super.render(); this.focusTracker.add(this.element);}destroy() {super.destroy(); this.focusTracker.destroy();}showView(t) {this.hideView(); this.content.add(t);}hideView() {this.content.clear();}_createButtonView(t,e) {const n=new Ev(this.locale); n.set({label: t,icon: e,tooltip: true}); return n;}} class $B extends XA {constructor(t,e) {super(t); const n=this.bindTemplate; this.set("top",0); this.set("left",0); this.set("height",0); this.set("width",0); this.set("numberOfPanels",0); this.content=this.createCollection(); this._balloonPanelView=e; this.setTemplate({tag: "div",attributes: {class: ["ck-fake-panel",n.to("numberOfPanels",(t => t?"":"ck-hidden"))],style: {top: n.to("top",WB),left: n.to("left",WB),width: n.to("width",WB),height: n.to("height",WB)}},children: this.content}); this.on("change:numberOfPanels",((t,e,n,o) => {if (n>o) {this._addPanels(n-o);} else {this._removePanels(o-n);} this.updatePosition();}));}_addPanels(t) {while (t--) {const t=new XA; t.setTemplate({tag: "div"}); this.content.add(t); this.registerChild(t);}}_removePanels(t) {while (t--) {const t=this.content.last; this.content.remove(t); this.deregisterChild(t); t.destroy();}}updatePosition() {if (this.numberOfPanels) {const {top: t,left: e}=this._balloonPanelView; const {width: n,height: o}=new uc(this._balloonPanelView.element); Object.assign(this,{top: t,left: e,width: n,height: o});}}} const GB=n(8016); const KB={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; KB.insert="head"; KB.singleton=true; const ZB=Id()(GB.A,KB); const JB=GB.A.locals||{}; const YB=Cc("px"); class QB extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.set("isActive",false); this.set("isSticky",false); this.set("limiterElement",null); this.set("limiterBottomOffset",50); this.set("viewportTopOffset",0); this.set("_marginLeft",null); this.set("_isStickyToTheBottomOfLimiter",false); this.set("_stickyTopOffset",null); this.set("_stickyBottomOffset",null); this.content=this.createCollection(); this._contentPanelPlaceholder=new AA({tag: "div",attributes: {class: ["ck","ck-sticky-panel__placeholder"],style: {display: e.to("isSticky",(t => t?"block":"none")),height: e.to("isSticky",(t => t?YB(this._contentPanelRect.height):null))}}}).render(); this.contentPanelElement=new AA({tag: "div",attributes: {class: ["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style: {width: e.to("isSticky",(t => t?YB(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top: e.to("_stickyTopOffset",(t => t?YB(t):t)),bottom: e.to("_stickyBottomOffset",(t => t?YB(t):t)),marginLeft: e.to("_marginLeft")}},children: this.content}).render(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-sticky-panel"]},children: [this._contentPanelPlaceholder,this.contentPanelElement]});}render() {super.render(); this.checkIfShouldBeSticky(); this.listenTo(nc.document,"scroll",(() => {this.checkIfShouldBeSticky();}),{useCapture: true}); this.listenTo(this,"change:isActive",(() => {this.checkIfShouldBeSticky();}));}checkIfShouldBeSticky() {if (!this.limiterElement||!this.isActive) {this._unstick(); return;} const t=new uc(this.limiterElement); let e=t.getVisible(); if (e) {const t=new uc(nc.window); t.top+=this.viewportTopOffset; t.height-=this.viewportTopOffset; e=e.getIntersection(t);} if (e&&t.top<e.top) {const n=e.top; if (n+this._contentPanelRect.height+this.limiterBottomOffset>e.bottom) {const n=Math.max(t.bottom-e.bottom,0)+this.limiterBottomOffset; if (t.bottom-n>t.top+this._contentPanelRect.height) {this._stickToBottomOfLimiter(n);} else {this._unstick();}} else if (this._contentPanelRect.height+this.limiterBottomOffset<t.height) {this._stickToTopOfAncestors(n);} else {this._unstick();}} else {this._unstick();}}_stickToTopOfAncestors(t) {this.isSticky=true; this._isStickyToTheBottomOfLimiter=false; this._stickyTopOffset=t; this._stickyBottomOffset=null; this._marginLeft=YB(-nc.window.scrollX);}_stickToBottomOfLimiter(t) {this.isSticky=true; this._isStickyToTheBottomOfLimiter=true; this._stickyTopOffset=null; this._stickyBottomOffset=t; this._marginLeft=YB(-nc.window.scrollX);}_unstick() {this.isSticky=false; this._isStickyToTheBottomOfLimiter=false; this._stickyTopOffset=null; this._stickyBottomOffset=null; this._marginLeft=null;} get _contentPanelRect() {return new uc(this.contentPanelElement);}} class XB extends hy {constructor(t,e) {const n=t.t; const o=Object.assign({},{showResetButton: true,showIcon: true,creator: Mx},e); super(t,o.creator); this.label=e.label; this._viewConfig=o; if (this._viewConfig.showIcon) {this.iconView=new _v; this.iconView.content=bA.loupe; this.fieldWrapperChildren.add(this.iconView,0); this.extendTemplate({attributes: {class: "ck-search__query_with-icon"}});} if (this._viewConfig.showResetButton) {this.resetButtonView=new Ev(t); this.resetButtonView.set({label: n("Clear"),icon: bA.cancel,class: "ck-search__reset",isVisible: false,tooltip: true}); this.resetButtonView.on("execute",(() => {this.reset(); this.focus(); this.fire("reset");})); this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(t => !t)); this.fieldWrapperChildren.add(this.resetButtonView); this.extendTemplate({attributes: {class: "ck-search__query_with-reset"}});}}reset() {this.fieldView.reset(); if (this._viewConfig.showResetButton) {this.resetButtonView.isVisible=false;}}} class tT extends XA {constructor() {super(); const t=this.bindTemplate; this.set({isVisible: false,primaryText: "",secondaryText: ""}); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-search__info",t.if("isVisible","ck-hidden",(t => !t))],tabindex: -1},children: [{tag: "span",children: [{text: [t.to("primaryText")]}]},{tag: "span",children: [{text: [t.to("secondaryText")]}]}]});}focus() {this.element.focus();}} class eT extends XA {constructor(t) {super(t); this.children=this.createCollection(); this.focusTracker=new sd; this.setTemplate({tag: "div",attributes: {class: ["ck","ck-search__results"],tabindex: -1},children: this.children}); this._focusCycler=new Fy({focusables: this.children,focusTracker: this.focusTracker});}render() {super.render(); for (const t of this.children) {this.focusTracker.add(t.element);}}focus() {this._focusCycler.focusFirst();}focusFirst() {this._focusCycler.focusFirst();}focusLast() {this._focusCycler.focusLast();}} const nT=/[\\^$.*+?()[\]{}|]/g,oT=RegExp(nT.source); function iT(t) {t=Mu(t); return t&&oT.test(t)?t.replace(nT,"\\$&"):t;} const rT=iT; const sT=n(9381); const aT={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; aT.insert="head"; aT.singleton=true; const cT=Id()(sT.A,aT); const lT=sT.A.locals||{}; class dT extends XA {constructor(t,e) {super(t); this._config=e; this.filteredView=e.filteredView; this.queryView=this._createSearchTextQueryView(); this.focusTracker=new sd; this.keystrokes=new ad; this.resultsView=new eT(t); this.children=this.createCollection(); this.focusableChildren=this.createCollection([this.queryView,this.resultsView]); this.set("isEnabled",true); this.set("resultsCount",0); this.set("totalItemsCount",0); if (e.infoView&&e.infoView.instance) {this.infoView=e.infoView.instance;} else {this.infoView=new tT; this._enableDefaultInfoViewBehavior(); this.on("render",(() => {this.search("");}));} this.resultsView.children.addMany([this.infoView,this.filteredView]); this.focusCycler=new Fy({focusables: this.focusableChildren,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.on("search",((t,{resultsCount: e,totalItemsCount: n}) => {this.resultsCount=e; this.totalItemsCount=n;})); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-search",e.class||null],tabindex: "-1"},children: this.children});}render() {super.render(); this.children.addMany([this.queryView,this.resultsView]); const t=t => t.stopPropagation(); for (const t of this.focusableChildren) {this.focusTracker.add(t.element);} this.keystrokes.listenTo(this.element); this.keystrokes.set("arrowright",t); this.keystrokes.set("arrowleft",t); this.keystrokes.set("arrowup",t); this.keystrokes.set("arrowdown",t);}focus() {this.queryView.focus();}reset() {this.queryView.reset(); this.search("");}search(t) {const e=t?new RegExp(rT(t),"ig"):null; const n=this.filteredView.filter(e); this.fire("search",{query: t,...n});}_createSearchTextQueryView() {const t=new XB(this.locale,this._config.queryView); this.listenTo(t.fieldView,"input",(() => {this.search(t.fieldView.element.value);})); t.on("reset",(() => this.reset())); t.bind("isEnabled").to(this); return t;}_enableDefaultInfoViewBehavior() {const t=this.locale.t; const e=this.infoView; this.on("search",((o,i) => {if (!i.resultsCount) {const o=this._config.infoView&&this._config.infoView.text; let r,s; if (i.totalItemsCount) {if (o&&o.notFound) {r=o.notFound.primary; s=o.notFound.secondary;} else {r=t("No results found"); s="";}} else if (o&&o.noSearchableItems) {r=o.noSearchableItems.primary; s=o.noSearchableItems.secondary;} else {r=t("No searchable items"); s="";}e.set({primaryText: n(r,i),secondaryText: n(s,i),isVisible: true});} else {e.set({isVisible: false});}})); function n(t,{query: e,resultsCount: n,totalItemsCount: o}) {return typeof t==="function"?t(e,n,o):t;}}} const uT=n(5169); const hT={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; hT.insert="head"; hT.singleton=true; const gT=Id()(uT.A,hT); const fT=uT.A.locals||{}; class mT extends dT {constructor(t,e) {super(t,e); this._config=e; const n=Cc("px"); this.extendTemplate({attributes: {class: ["ck-autocomplete"]}}); const o=this.resultsView.bindTemplate; this.resultsView.set("isVisible",false); this.resultsView.set("_position","s"); this.resultsView.set("_width",0); this.resultsView.extendTemplate({attributes: {class: [o.if("isVisible","ck-hidden",(t => !t)),o.to("_position",(t => `ck-search__results_${t}`))],style: {width: o.to("_width",n)}}}); this.focusTracker.on("change:isFocused",((t,n,o) => {this._updateResultsVisibility(); if (o) {this.resultsView.element.scrollTop=0;} else if (e.resetOnBlur) {this.queryView.reset();}})); this.on("search",(() => {this._updateResultsVisibility(); this._updateResultsViewWidthAndPosition();})); this.keystrokes.set("esc",((t,e) => {if (!this.resultsView.isVisible) {return;} this.queryView.focus(); this.resultsView.isVisible=false; e();})); this.listenTo(nc.document,"scroll",(() => {this._updateResultsViewWidthAndPosition();})); this.on("change:isEnabled",(() => {this._updateResultsVisibility();})); this.filteredView.on("execute",((t,{value: e}) => {this.focus(); this.reset(); this.queryView.fieldView.value=this.queryView.fieldView.element.value=e; this.resultsView.isVisible=false;})); this.resultsView.on("change:isVisible",(() => {this._updateResultsViewWidthAndPosition();}));}_updateResultsViewWidthAndPosition() {if (!this.resultsView.isVisible) {return;} this.resultsView._width=new uc(this.queryView.fieldView.element).width; const t=mT._getOptimalPosition({element: this.resultsView.element,target: this.queryView.element,fitInViewport: true,positions: mT.defaultResultsPositions}); this.resultsView._position=t?t.name:"s";}_updateResultsVisibility() {const t=typeof this._config.queryMinChars==="undefined"?0:this._config.queryMinChars; const e=this.queryView.fieldView.element.value.length; this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&e>=t;}}mT.defaultResultsPositions=[t => ({top: t.bottom,left: t.left,name: "s"}),(t,e) => ({top: t.top-e.height,left: t.left,name: "n"})]; mT._getOptimalPosition=Dc; const pT=null&&mT; function kT(t) {return function(e) {return t==null?undefined:t[e];};} const bT=kT; const wT={"&": "&amp;","<": "&lt;",">": "&gt;",'"': "&quot;","'": "&#39;"}; const _T=bT(wT); const CT=_T; const AT=/[&<>"']/g,vT=RegExp(AT.source); function yT(t) {t=Mu(t); return t&&vT.test(t)?t.replace(AT,CT):t;} const xT=yT; const ET=n(2859); const DT={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; DT.insert="head"; DT.singleton=true; const BT=Id()(ET.A,DT); const TT=ET.A.locals||{}; class ST extends XA {constructor() {super(); this.set("text",undefined); this.setTemplate({tag: "span",attributes: {class: ["ck","ck-highlighted-text"]}}); this.on("render",(() => {this.on("change:text",(() => {this._updateInnerHTML(this.text);})); this._updateInnerHTML(this.text);}));}highlightText(t) {this._updateInnerHTML(IT(this.text||"",t));}_updateInnerHTML(t) {this.element.innerHTML=t||"";}} function IT(t,e) {if (!e) {return xT(t);} const n=[]; let o=0; let i=e.exec(t); while (i!==null) {const r=i.index; if (r!==o) {n.push({text: t.substring(o,r),isMatch: false});}n.push({text: i[0],isMatch: true}); o=e.lastIndex; i=e.exec(t);} if (o!==t.length) {n.push({text: t.substring(o),isMatch: false});} const r=n.map((t => {t.text=xT(t.text); return t;})).map((t => t.isMatch?`<mark>${t.text}</mark>`:t.text)).join(""); return r;} const PT=n(6047); const RT={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; RT.insert="head"; RT.singleton=true; const VT=Id()(PT.A,RT); const MT=PT.A.locals||{}; class FT extends XA {constructor() {super(); this.set("isVisible",false); const t=this.bindTemplate; this.setTemplate({tag: "span",attributes: {class: ["ck","ck-spinner-container",t.if("isVisible","ck-hidden",(t => !t))]},children: [{tag: "span",attributes: {class: ["ck","ck-spinner"]}}]});}} const OT=Cc("px"); class zT extends Ad {static get pluginName() {return "BalloonToolbar";} static get requires() {return [qB];}constructor(t) {super(t); this._resizeObserver=null; this._balloonConfig=Wy(t.config.get("balloonToolbar")); this.toolbarView=this._createToolbarView(); this.focusTracker=new sd; t.ui.once("ready",(() => {this.focusTracker.add(t.ui.getEditableElement()); this.focusTracker.add(this.toolbarView.element);})); t.ui.addToolbar(this.toolbarView,{beforeFocus: () => this.show(true),afterBlur: () => this.hide(),isContextual: true}); this._balloon=t.plugins.get(qB); this._fireSelectionChangeDebounced=mf((() => this.fire("_selectionChangeDebounced")),200); this.decorate("show");}init() {const t=this.editor; const e=t.model.document.selection; this.listenTo(this.focusTracker,"change:isFocused",((t,e,n) => {const o=this._balloon.visibleView===this.toolbarView; if (!n&&o) {this.hide();} else if (n) {this.show();}})); this.listenTo(e,"change:range",((t,n) => {if (n.directChange||e.isCollapsed) {this.hide();} this._fireSelectionChangeDebounced();})); this.listenTo(this,"_selectionChangeDebounced",(() => {if (this.editor.editing.view.document.isFocused) {this.show();}})); if (!this._balloonConfig.shouldNotGroupWhenFull) {this.listenTo(t,"ready",(() => {const e=t.ui.view.editable.element; this._resizeObserver=new wc(e,(t => {this.toolbarView.maxWidth=OT(t.contentRect.width*0.9);}));}));} this.listenTo(this.toolbarView,"groupedItemsUpdate",(() => {this._updatePosition();})); t.ui.once("ready",(() => {this.toolbarView.fillFromConfig(this._balloonConfig,this.editor.ui.componentFactory);}));}_createToolbarView() {const t=this.editor.locale.t; const e=!this._balloonConfig.shouldNotGroupWhenFull; const n=new Jy(this.editor.locale,{shouldGroupWhenFull: e,isFloating: true}); n.ariaLabel=t("Editor contextual toolbar"); n.render(); return n;}show(t=false) {const e=this.editor; const n=e.model.document.selection; const o=e.model.schema; if (this._balloon.hasView(this.toolbarView)) {return;} if (n.isCollapsed&&!t) {return;} if (NT(n,o)) {return;} if (Array.from(this.toolbarView.items).every((t => t.isEnabled!==undefined&&!t.isEnabled))) {return;} this.listenTo(this.editor.ui,"update",(() => {this._updatePosition();})); this._balloon.add({view: this.toolbarView,position: this._getBalloonPositionData(),balloonClassName: "ck-toolbar-container"});}hide() {if (this._balloon.hasView(this.toolbarView)) {this.stopListening(this.editor.ui,"update"); this._balloon.remove(this.toolbarView);}}_getBalloonPositionData() {const t=this.editor; const e=t.editing.view; const n=e.document; const o=n.selection; const i=n.selection.isBackward; return {target: () => {const t=i?o.getFirstRange():o.getLastRange(); const n=uc.getDomRangeRects(e.domConverter.viewRangeToDom(t)); if (i) {return n[0];} if (n.length>1&&n[n.length-1].width===0) {n.pop();} return n[n.length-1];},positions: this._getBalloonPositions(i)};}_updatePosition() {this._balloon.updatePosition(this._getBalloonPositionData());}destroy() {super.destroy(); this.stopListening(); this._fireSelectionChangeDebounced.cancel(); this.toolbarView.destroy(); this.focusTracker.destroy(); if (this._resizeObserver) {this._resizeObserver.destroy();}}_getBalloonPositions(t) {const e=l.isSafari&&l.isiOS; const n=e?HD({heightOffset: Math.max(ND.arrowHeightOffset,Math.round(20/nc.window.visualViewport.scale))}):ND.defaultPositions; return t?[n.northWestArrowSouth,n.northWestArrowSouthWest,n.northWestArrowSouthEast,n.northWestArrowSouthMiddleEast,n.northWestArrowSouthMiddleWest,n.southWestArrowNorth,n.southWestArrowNorthWest,n.southWestArrowNorthEast,n.southWestArrowNorthMiddleWest,n.southWestArrowNorthMiddleEast]:[n.southEastArrowNorth,n.southEastArrowNorthEast,n.southEastArrowNorthWest,n.southEastArrowNorthMiddleEast,n.southEastArrowNorthMiddleWest,n.northEastArrowSouth,n.northEastArrowSouthEast,n.northEastArrowSouthWest,n.northEastArrowSouthMiddleEast,n.northEastArrowSouthMiddleWest];}} function NT(t,e) {if (t.rangeCount===1) {return false;} return [...t.getRanges()].every((t => {const n=t.getContainedElement(); return n&&e.isSelectable(n);}));} const LT=n(8604); const HT={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; HT.insert="head"; HT.singleton=true; const jT=Id()(LT.A,HT); const WT=LT.A.locals||{}; const qT=Cc("px"); class UT extends Ev {constructor(t) {super(t); const e=this.bindTemplate; this.isVisible=false; this.isToggleable=true; this.set("top",0); this.set("left",0); this.extendTemplate({attributes: {class: "ck-block-toolbar-button",style: {top: e.to("top",(t => qT(t))),left: e.to("left",(t => qT(t)))}}});}} const $T=Cc("px"); class GT extends Ad {static get pluginName() {return "BlockToolbar";}constructor(e) {super(e); this._resizeObserver=null; this._blockToolbarConfig=Wy(this.editor.config.get("blockToolbar")); this.toolbarView=this._createToolbarView(); this.panelView=this._createPanelView(); this.buttonView=this._createButtonView(); t({emitter: this.panelView,contextElements: [this.panelView.element,this.buttonView.element],activator: () => this.panelView.isVisible,callback: () => this._hidePanel()});}init() {const t=this.editor; const e=t.t; const n=e("Click to edit block"); const o=e("Drag to move"); const i=e("Edit block"); const r=t.plugins.has("DragDropBlockToolbar"); const s=r?`${n}\n${o}`:i; this.buttonView.label=s; if (r) {this.buttonView.element.dataset.ckeTooltipClass="ck-tooltip_multi-line";} this.listenTo(t.model.document.selection,"change:range",((t,e) => {if (e.directChange) {this._hidePanel();}})); this.listenTo(t.ui,"update",(() => this._updateButton())); this.listenTo(t,"change:isReadOnly",(() => this._updateButton()),{priority: "low"}); this.listenTo(t.ui.focusTracker,"change:isFocused",(() => this._updateButton())); this.listenTo(this.buttonView,"change:isVisible",((t,e,n) => {if (n) {this.buttonView.listenTo(window,"resize",(() => this._updateButton()));} else {this.buttonView.stopListening(window,"resize"); this._hidePanel();}})); t.ui.addToolbar(this.toolbarView,{beforeFocus: () => this._showPanel(),afterBlur: () => this._hidePanel()}); t.ui.once("ready",(() => {this.toolbarView.fillFromConfig(this._blockToolbarConfig,this.editor.ui.componentFactory); for (const t of this.toolbarView.items) {t.on("execute",(() => this._hidePanel(true)),{priority: "high"});}}));}destroy() {super.destroy(); this.panelView.destroy(); this.buttonView.destroy(); this.toolbarView.destroy(); if (this._resizeObserver) {this._resizeObserver.destroy();}}_createToolbarView() {const t=this.editor.locale.t; const e=!this._blockToolbarConfig.shouldNotGroupWhenFull; const n=new Jy(this.editor.locale,{shouldGroupWhenFull: e,isFloating: true}); n.ariaLabel=t("Editor block content toolbar"); return n;}_createPanelView() {const t=this.editor; const e=new ND(t.locale); e.content.add(this.toolbarView); e.class="ck-toolbar-container"; t.ui.view.body.add(e); t.ui.focusTracker.add(e.element); this.toolbarView.keystrokes.set("Esc",((t,e) => {this._hidePanel(true); e();})); return e;}_createButtonView() {const t=this.editor; const e=t.t; const n=new UT(t.locale); const o=this._blockToolbarConfig.icon; const i=Zy[o]||o||Zy.dragIndicator; n.set({label: e("Edit block"),icon: i,withText: false}); n.bind("isOn").to(this.panelView,"isVisible"); n.bind("tooltip").to(this.panelView,"isVisible",(t => !t)); this.listenTo(n,"execute",(() => {if (!this.panelView.isVisible) {this._showPanel();} else {this._hidePanel(true);}})); t.ui.view.body.add(n); t.ui.focusTracker.add(n.element); return n;}_updateButton() {const t=this.editor; const e=t.model; const n=t.editing.view; if (!t.ui.focusTracker.isFocused) {this._hideButton(); return;} if (!t.model.canEditAt(t.model.document.selection)) {this._hideButton(); return;} const o=Array.from(e.document.selection.getSelectedBlocks())[0]; if (!o||Array.from(this.toolbarView.items).every((t => !t.isEnabled))) {this._hideButton(); return;} const i=n.domConverter.mapViewToDom(t.editing.mapper.toViewElement(o)); this.buttonView.isVisible=true; this._setupToolbarResize(); this._attachButtonToElement(i); if (this.panelView.isVisible) {this._showPanel();}}_hideButton() {this.buttonView.isVisible=false;}_showPanel() {if (!this.buttonView.isVisible) {return;} const t=this.panelView.isVisible; this.panelView.show(); const e=this._getSelectedEditableElement(); this.toolbarView.maxWidth=this._getToolbarMaxWidth(e); this.panelView.pin({target: this.buttonView.element,limiter: e}); if (!t) {this.toolbarView.items.get(0).focus();}}_getSelectedEditableElement() {const t=this.editor.model.document.selection.getFirstRange().root.rootName; return this.editor.ui.getEditableElement(t);}_hidePanel(t) {this.panelView.isVisible=false; if (t) {this.editor.editing.view.focus();}}_attachButtonToElement(t) {const e=window.getComputedStyle(t); const n=new uc(this._getSelectedEditableElement()); const o=parseInt(e.paddingTop,10); const i=parseInt(e.lineHeight,10)||parseInt(e.fontSize,10)*1.2; const r=new uc(this.buttonView.element); const s=new uc(t); let a; if (this.editor.locale.uiLanguageDirection==="ltr") {a=n.left-r.width;} else {a=n.right;} const c=s.top+o+(i-r.height)/2; r.moveTo(a,c); const l=r.toAbsoluteRect(); this.buttonView.top=l.top; this.buttonView.left=l.left;}_setupToolbarResize() {const t=this._getSelectedEditableElement(); if (!this._blockToolbarConfig.shouldNotGroupWhenFull) {if (this._resizeObserver&&this._resizeObserver.element!==t) {this._resizeObserver.destroy(); this._resizeObserver=null;} if (!this._resizeObserver) {this._resizeObserver=new wc(t,(() => {this.toolbarView.maxWidth=this._getToolbarMaxWidth(t);}));}}}_getToolbarMaxWidth(t) {const e=new uc(t); const n=new uc(this.buttonView.element); const o=this.editor.locale.uiLanguageDirection==="rtl"; const i=o?n.left-e.right+n.width:e.left-n.left; return $T(e.width+i);}} const KT=n(6050); const ZT={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; ZT.insert="head"; ZT.singleton=true; const JT=Id()(KT.A,ZT); const YT=KT.A.locals||{}; class QT extends Ev {constructor(t) {super(t); const e=this.bindTemplate; this.set({withText: true,role: "menuitem"}); this.arrowView=this._createArrowView(); this.extendTemplate({attributes: {class: ["ck-menu-bar__menu__button"],"aria-haspopup": true,"aria-expanded": this.bindTemplate.to("isOn",(t => String(t))),"data-cke-tooltip-disabled": e.to("isOn")},on: {mouseenter: e.to("mouseenter")}});}render() {super.render(); this.children.add(this.arrowView);}_createArrowView() {const t=new _v; t.content=Vv; t.extendTemplate({attributes: {class: "ck-menu-bar__menu__button__arrow"}}); return t;}} const XT=n(3835); const tS={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; tS.insert="head"; tS.singleton=true; const eS=Id()(XT.A,tS); const nS=XT.A.locals||{}; class oS extends tx {constructor(t,e) {super(t); const n=this.bindTemplate; this.extendTemplate({attributes: {class: ["ck-menu-bar__menu__item"]},on: {mouseenter: n.to("mouseenter")}}); this.delegate("mouseenter").to(e);}} const iS=5; const rS={toggleMenusAndFocusItemsOnHover(t) {t.on("menu:mouseenter",(e => {if (!t.isOpen) {return;} for (const n of t.menus) {const t=e.path[0]; const o=t instanceof oS&&t.children.first===n; n.isOpen=(e.path.includes(n)||o)&&n.isEnabled;}e.source.focus();}));},focusCycleMenusOnArrows(t) {const e=t.locale.uiLanguageDirection==="rtl"; t.on("menu:arrowright",(t => {n(t.source,e?-1:1);})); t.on("menu:arrowleft",(t => {n(t.source,e?1:-1);})); function n(e,n) {const o=t.children.getIndex(e); const i=e.isOpen; const r=t.children.length; const s=t.children.get((o+r+n)%r); e.isOpen=false; if (i) {s.isOpen=true;}s.buttonView.focus();}},closeMenusWhenTheBarCloses(t) {t.on("change:isOpen",(() => {if (!t.isOpen) {t.menus.forEach((t => {t.isOpen=false;}));}}));},closeMenuWhenAnotherOnTheSameLevelOpens(t) {t.on("menu:change:isOpen",((e,n,o) => {if (o) {t.menus.filter((t => e.source.parentMenuView===t.parentMenuView&&e.source!==t&&t.isOpen)).forEach((t => {t.isOpen=false;}));}}));},closeOnClickOutside(e) {t({emitter: e,activator: () => e.isOpen,callback: () => e.close(),contextElements: () => e.children.map((t => t.element))});}}; const sS={openAndFocusPanelOnArrowDownKey(t) {t.keystrokes.set("arrowdown",((e,n) => {if (t.focusTracker.focusedElement===t.buttonView.element) {if (!t.isOpen) {t.isOpen=true;}t.panelView.focus(); n();}}));},openOnArrowRightKey(t) {const e=t.locale.uiLanguageDirection==="rtl"?"arrowleft":"arrowright"; t.keystrokes.set(e,((e,n) => {if (t.focusTracker.focusedElement!==t.buttonView.element||!t.isEnabled) {return;} if (!t.isOpen) {t.isOpen=true;}t.panelView.focus(); n();}));},openOnButtonClick(t) {t.buttonView.on("execute",(() => {t.isOpen=true; t.panelView.focus();}));},toggleOnButtonClick(t) {t.buttonView.on("execute",(() => {t.isOpen=!t.isOpen; if (t.isOpen) {t.panelView.focus();}}));},closeOnArrowLeftKey(t) {const e=t.locale.uiLanguageDirection==="rtl"?"arrowright":"arrowleft"; t.keystrokes.set(e,((e,n) => {if (t.isOpen) {t.isOpen=false; t.focus(); n();}}));},closeOnEscKey(t) {t.keystrokes.set("esc",((e,n) => {if (t.isOpen) {t.isOpen=false; t.focus(); n();}}));},closeOnParentClose(t) {t.parentMenuView.on("change:isOpen",((e,n,o) => {if (!o&&e.source===t.parentMenuView) {t.isOpen=false;}}));}}; const aS={southEast: t => ({top: t.bottom,left: t.left,name: "se"}),southWest: (t,e) => ({top: t.bottom,left: t.left-e.width+t.width,name: "sw"}),northEast: (t,e) => ({top: t.top-e.height,left: t.left,name: "ne"}),northWest: (t,e) => ({top: t.top-e.height,left: t.left-e.width+t.width,name: "nw"}),eastSouth: t => ({top: t.top,left: t.right-iS,name: "es"}),eastNorth: (t,e) => ({top: t.top-e.height,left: t.right-iS,name: "en"}),westSouth: (t,e) => ({top: t.top,left: t.left-e.width+iS,name: "ws"}),westNorth: (t,e) => ({top: t.top-e.height,left: t.left-e.width+iS,name: "wn"})}; const cS=[{menuId: "file",label: "File",groups: [{groupId: "export",items: ["menuBar:exportPdf","menuBar:exportWord"]},{groupId: "import",items: ["menuBar:importWord"]},{groupId: "revisionHistory",items: ["menuBar:revisionHistory"]}]},{menuId: "edit",label: "Edit",groups: [{groupId: "undo",items: ["menuBar:undo","menuBar:redo"]},{groupId: "selectAll",items: ["menuBar:selectAll"]},{groupId: "findAndReplace",items: ["menuBar:findAndReplace"]}]},{menuId: "view",label: "View",groups: [{groupId: "sourceEditing",items: ["menuBar:sourceEditing"]},{groupId: "showBlocks",items: ["menuBar:showBlocks"]},{groupId: "restrictedEditingException",items: ["menuBar:restrictedEditingException"]}]},{menuId: "insert",label: "Insert",groups: [{groupId: "insertMainWidgets",items: ["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId: "insertInline",items: ["menuBar:link","menuBar:comment"]},{groupId: "insertMinorWidgets",items: ["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId: "insertStructureWidgets",items: ["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId: "restrictedEditing",items: ["menuBar:restrictedEditing"]}]},{menuId: "format",label: "Format",groups: [{groupId: "textAndFont",items: [{menuId: "text",label: "Text",groups: [{groupId: "basicStyles",items: ["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId: "textPartLanguage",items: ["menuBar:textPartLanguage"]}]},{menuId: "font",label: "Font",groups: [{groupId: "fontProperties",items: ["menuBar:fontSize","menuBar:fontFamily"]},{groupId: "fontColors",items: ["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId: "highlight",items: ["menuBar:highlight"]}]},"menuBar:heading"]},{groupId: "list",items: ["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId: "indent",items: ["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId: "caseChange",items: ["menuBar:caseChange"]},{groupId: "removeFormat",items: ["menuBar:removeFormat"]}]},{menuId: "tools",label: "Tools",groups: [{groupId: "aiTools",items: ["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId: "tools",items: ["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId: "help",label: "Help",groups: [{groupId: "help",items: ["menuBar:accessibilityHelp"]}]}]; function lS(t) {let e; if (!("items"in t)||!t.items) {e={items: Tm(cS),addItems: [],removeItems: [],isVisible: true,isUsingDefaultConfig: true,...t};} else {e={items: t.items,removeItems: [],addItems: [],isVisible: true,isUsingDefaultConfig: false,...t};} return e;} function dS({normalizedConfig: t,locale: e,componentFactory: n}) {const o=Tm(t); uS(t,o); hS(t,o); fS(t,o,n); mS(t,o); kS(o,e); return o;} function uS(t,e) {const n=e.removeItems; const o=[]; e.items=e.items.filter((({menuId: t}) => {if (n.includes(t)) {o.push(t); return false;} return true;})); bS(e.items,(t => {t.groups=t.groups.filter((({groupId: t}) => {if (n.includes(t)) {o.push(t); return false;} return true;})); for (const e of t.groups) {e.items=e.items.filter((t => {const e=vS(t); if (n.includes(e)) {o.push(e); return false;} return true;}));}})); for (const e of n) {if (!o.includes(e)) {M("menu-bar-item-could-not-be-removed",{menuBarConfig: t,itemName: e});}}} function hS(t,e) {const n=e.addItems; const o=[]; for (const t of n) {const n=CS(t.position); const i=AS(t.position); if (wS(t)) {if (!i) {if (n==="start") {e.items.unshift(t.menu); o.push(t);} else if (n==="end") {e.items.push(t.menu); o.push(t);}} else {const r=e.items.findIndex((t => t.menuId===i)); if (r!=-1) {if (n==="before") {e.items.splice(r,0,t.menu); o.push(t);} else if (n==="after") {e.items.splice(r+1,0,t.menu); o.push(t);}} else {const r=gS(e,t.menu,i,n); if (r) {o.push(t);}}}} else if (_S(t)) {bS(e.items,(e => {if (e.menuId===i) {if (n==="start") {e.groups.unshift(t.group); o.push(t);} else if (n==="end") {e.groups.push(t.group); o.push(t);}} else {const r=e.groups.findIndex((t => t.groupId===i)); if (r!==-1) {if (n==="before") {e.groups.splice(r,0,t.group); o.push(t);} else if (n==="after") {e.groups.splice(r+1,0,t.group); o.push(t);}}}}));} else {const r=gS(e,t.item,i,n); if (r) {o.push(t);}}} for (const e of n) {if (!o.includes(e)) {M("menu-bar-item-could-not-be-added",{menuBarConfig: t,addedItemConfig: e});}}} function gS(t,e,n,o) {let i=false; bS(t.items,(t => {for (const {groupId: r,items: s} of t.groups) {if (i) {return;} if (r===n) {if (o==="start") {s.unshift(e); i=true;} else if (o==="end") {s.push(e); i=true;}} else {const t=s.findIndex((t => vS(t)===n)); if (t!==-1) {if (o==="before") {s.splice(t,0,e); i=true;} else if (o==="after") {s.splice(t+1,0,e); i=true;}}}}})); return i;} function fS(t,e,n) {bS(e.items,(o => {for (const i of o.groups) {i.items=i.items.filter((i => {const r=typeof i==="string"&&!n.has(i); if (r&&!e.isUsingDefaultConfig) {M("menu-bar-item-unavailable",{menuBarConfig: t,parentMenuConfig: Tm(o),componentName: i});} return !r;}));}}));} function mS(t,e) {const n=e.isUsingDefaultConfig; let o=false; e.items=e.items.filter((e => {if (!e.groups.length) {pS(t,e,n); return false;} return true;})); if (!e.items.length) {pS(t,t,n); return;}bS(e.items,(e => {e.groups=e.groups.filter((t => {if (!t.items.length) {o=true; return false;} return true;})); for (const i of e.groups) {i.items=i.items.filter((e => {if (yS(e)&&!e.groups.length) {pS(t,e,n); o=true; return false;} return true;}));}})); if (o) {mS(t,e);}} function pS(t,e,n) {if (n) {return;}M("menu-bar-menu-empty",{menuBarConfig: t,emptyMenuConfig: e});} function kS(t,e) {const n=e.t; const o={File: n({string: "File",id: "MENU_BAR_MENU_FILE"}),Edit: n({string: "Edit",id: "MENU_BAR_MENU_EDIT"}),View: n({string: "View",id: "MENU_BAR_MENU_VIEW"}),Insert: n({string: "Insert",id: "MENU_BAR_MENU_INSERT"}),Format: n({string: "Format",id: "MENU_BAR_MENU_FORMAT"}),Tools: n({string: "Tools",id: "MENU_BAR_MENU_TOOLS"}),Help: n({string: "Help",id: "MENU_BAR_MENU_HELP"}),Text: n({string: "Text",id: "MENU_BAR_MENU_TEXT"}),Font: n({string: "Font",id: "MENU_BAR_MENU_FONT"})}; bS(t.items,(t => {if (t.label in o) {t.label=o[t.label];}}));} function bS(t,e) {if (Array.isArray(t)) {for (const e of t) {n(e);}} function n(t) {e(t); for (const e of t.groups) {for (const t of e.items) {if (yS(t)) {n(t);}}}}} function wS(t) {return typeof t==="object"&&"menu"in t;} function _S(t) {return typeof t==="object"&&"group"in t;} function CS(t) {if (t.startsWith("start")) {return "start";} else if (t.startsWith("end")) {return "end";} else if (t.startsWith("after")) {return "after";} return "before";} function AS(t) {const e=t.match(/^[^:]+:(.+)/); if (e) {return e[1];} return null;} function vS(t) {return typeof t==="string"?t:t.menuId;} function yS(t) {return typeof t==="object"&&"menuId"in t;} const xS=n(5306); const ES={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; ES.insert="head"; ES.singleton=true; const DS=Id()(xS.A,ES); const BS=xS.A.locals||{}; class TS extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.set("isVisible",false); this.set("position","se"); this.children=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-reset","ck-menu-bar__menu__panel",e.to("position",(t => `ck-menu-bar__menu__panel_position_${t}`)),e.if("isVisible","ck-hidden",(t => !t))],tabindex: "-1"},children: this.children,on: {selectstart: e.to((t => {if (t.target.tagName.toLocaleLowerCase()==="input") {return;}t.preventDefault();}))}});}focus(t=1) {if (this.children.length) {if (t===1) {this.children.first.focus();} else {this.children.last.focus();}}}} const SS=n(5842); const IS={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; IS.insert="head"; IS.singleton=true; const PS=Id()(SS.A,IS); const RS=SS.A.locals||{}; class VS extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.buttonView=new QT(t); this.buttonView.delegate("mouseenter").to(this); this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"); this.panelView=new TS(t); this.panelView.bind("isVisible").to(this,"isOpen"); this.keystrokes=new ad; this.focusTracker=new sd; this.set("isOpen",false); this.set("isEnabled",true); this.set("panelPosition","w"); this.set("class",undefined); this.set("parentMenuView",null); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-menu-bar__menu",e.to("class"),e.if("isEnabled","ck-disabled",(t => !t)),e.if("parentMenuView","ck-menu-bar__menu_top-level",(t => !t))]},children: [this.buttonView,this.panelView]});}render() {super.render(); this.focusTracker.add(this.buttonView.element); this.focusTracker.add(this.panelView.element); this.keystrokes.listenTo(this.element); sS.closeOnEscKey(this); this._repositionPanelOnOpen();}_attachBehaviors() {if (!this.parentMenuView) {this._propagateArrowKeystrokeEvents(); sS.openAndFocusPanelOnArrowDownKey(this); sS.toggleOnButtonClick(this);} else {sS.openOnButtonClick(this); sS.openOnArrowRightKey(this); sS.closeOnArrowLeftKey(this); sS.closeOnParentClose(this);}}_propagateArrowKeystrokeEvents() {this.keystrokes.set("arrowright",((t,e) => {this.fire("arrowright"); e();})); this.keystrokes.set("arrowleft",((t,e) => {this.fire("arrowleft"); e();}));}_repositionPanelOnOpen() {this.on("change:isOpen",((t,e,n) => {if (!n) {return;} const o=VS._getOptimalPosition({element: this.panelView.element,target: this.buttonView.element,fitInViewport: true,positions: this._panelPositions}); this.panelView.position=o?o.name:this._panelPositions[0].name;}));}focus() {this.buttonView.focus();} get _panelPositions() {const {southEast: t,southWest: e,northEast: n,northWest: o,westSouth: i,eastSouth: r,westNorth: s,eastNorth: a}=aS; if (this.locale.uiLanguageDirection==="ltr") {if (this.parentMenuView) {return [r,a,i,s];} return [t,e,n,o];} if (this.parentMenuView) {return [i,s,r,a];} return [e,t,o,n];}}VS._getOptimalPosition=Dc; const MS=VS; class FS extends ax {constructor(t) {super(t); this.role="menu";}} const OS=n(5519); const zS={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; zS.insert="head"; zS.singleton=true; const NS=Id()(OS.A,zS); const LS=OS.A.locals||{}; class HS extends Ev {constructor(t) {super(t); this.set({withText: true,withKeystroke: true,tooltip: false,role: "menuitem"}); this.extendTemplate({attributes: {class: ["ck-menu-bar__menu__item__button"]}});}} class jS extends Pv {constructor(t) {super(t); this.set({withText: true,withKeystroke: true,tooltip: false,role: "menuitem"}); this.extendTemplate({attributes: {class: ["ck-menu-bar__menu__item__button"]}});}} const WS=n(3779); const qS={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; qS.insert="head"; qS.singleton=true; const US=Id()(WS.A,qS); const $S=WS.A.locals||{}; const GS=["mouseenter","arrowleft","arrowright","change:isOpen"]; class KS extends XA {constructor(t) {super(t); this.menus=[]; const e=t.t; this.set("isOpen",false); this._setupIsOpenUpdater(); this.children=this.createCollection(); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-menu-bar"],"aria-label": e("Editor menu bar"),role: "menubar"},children: this.children});}fillFromConfig(t,e) {const n=this.locale; const o=dS({normalizedConfig: t,locale: n,componentFactory: e}); const i=o.items.map((t => this._createMenu({componentFactory: e,menuDefinition: t}))); this.children.addMany(i);}render() {super.render(); rS.toggleMenusAndFocusItemsOnHover(this); rS.closeMenusWhenTheBarCloses(this); rS.closeMenuWhenAnotherOnTheSameLevelOpens(this); rS.focusCycleMenusOnArrows(this); rS.closeOnClickOutside(this);}focus() {if (this.children.first) {this.children.first.focus();}}close() {for (const t of this.children) {t.isOpen=false;}}registerMenu(t,e=null) {if (e) {t.delegate(...GS).to(e); t.parentMenuView=e;} else {t.delegate(...GS).to(this,(t => `menu:${t}`));}t._attachBehaviors(); this.menus.push(t);}_createMenu({componentFactory: t,menuDefinition: e,parentMenuView: n}) {const o=this.locale; const i=new MS(o); this.registerMenu(i,n); i.buttonView.set({label: e.label}); i.once("change:isOpen",(() => {const n=new FS(o); n.ariaLabel=e.label; i.panelView.children.add(n); n.items.addMany(this._createMenuItems({menuDefinition: e,parentMenuView: i,componentFactory: t}));})); return i;}_createMenuItems({menuDefinition: t,parentMenuView: e,componentFactory: n}) {const o=this.locale; const i=[]; for (const r of t.groups) {for (const t of r.items) {const r=new oS(o,e); if (st(t)) {r.children.add(this._createMenu({componentFactory: n,menuDefinition: t,parentMenuView: e}));} else {const o=this._createMenuItemContentFromFactory({componentName: t,componentFactory: n,parentMenuView: e}); if (!o) {continue;}r.children.add(o);}i.push(r);} if (r!==t.groups[t.groups.length-1]) {i.push(new ex(o));}} return i;}_createMenuItemContentFromFactory({componentName: t,parentMenuView: e,componentFactory: n}) {const o=n.create(t); if (!(o instanceof MS||o instanceof HS||o instanceof jS)) {M("menu-bar-component-unsupported",{componentName: t,componentView: o}); return null;} this._registerMenuTree(o,e); o.on("execute",(() => {this.close();})); return o;}_registerMenuTree(t,e) {if (!(t instanceof MS)) {t.delegate("mouseenter").to(e); return;} this.registerMenu(t,e); const n=t.panelView.children.filter((t => t instanceof FS))[0]; if (!n) {t.delegate("mouseenter").to(e); return;} const o=n.items.filter((t => t instanceof tx)); for (const e of o) {this._registerMenuTree(e.children.get(0),t);}}_setupIsOpenUpdater() {let t; this.on("menu:change:isOpen",((e,n,o) => {clearTimeout(t); if (o) {this.isOpen=true;} else {t=setTimeout((() => {this.isOpen=Array.from(this.children).some((t => t.isOpen));}),0);}}));}} class ZS extends AB {constructor(t,e) {super(t); this.view=e; this._toolbarConfig=Wy(t.config.get("toolbar")); this._menuBarConfig=lS(t.config.get("menuBar")||{}); this._elementReplacer=new yt; this.listenTo(t.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this));} get element() {return this.view.element;}init(t) {const e=this.editor; const n=this.view; const o=e.editing.view; const i=n.editable; const r=o.document.getRoot(); i.name=r.rootName; n.render(); const s=i.element; this.setEditableElement(i.name,s); n.editable.bind("isFocused").to(this.focusTracker); o.attachDomRoot(s); if (t) {this._elementReplacer.replace(t,this.element);} this._initPlaceholder(); this._initToolbar(); this._initMenuBar(); this._initDialogPluginIntegration(); this.fire("ready");}destroy() {super.destroy(); const t=this.view; const e=this.editor.editing.view; this._elementReplacer.restore(); e.detachDomRoot(t.editable.name); t.destroy();}_initToolbar() {const t=this.view; t.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"); t.stickyPanel.limiterElement=t.element; t.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(({top: t}) => t||0)); t.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory); this.addToolbar(t.toolbar);}_initMenuBar() {const t=this.view; if (!t.menuBarView) {return;} this._setupMenuBarBehaviors(t.menuBarView.element); t.menuBarView.fillFromConfig(this._menuBarConfig,this.componentFactory);}_initPlaceholder() {const t=this.editor; const e=t.editing.view; const n=e.document.getRoot(); const o=t.sourceElement; let i; const r=t.config.get("placeholder"); if (r) {i=typeof r==="string"?r:r[this.view.editable.name];} if (!i&&o&&o.tagName.toLowerCase()==="textarea") {i=o.getAttribute("placeholder");} if (i) {n.placeholder=i;}zd({view: e,element: n,isDirectHost: false,keepOnFocus: true});}_handleScrollToTheSelectionWithStickyPanel(t,e,n) {const o=this.view.stickyPanel; if (o.isSticky) {const t=new uc(o.element).height; e.viewportOffset.top+=t;} else {const t=() => {this.editor.editing.view.scrollToTheSelection(n);}; this.listenTo(o,"change:isSticky",t); setTimeout((() => {this.stopListening(o,"change:isSticky",t);}),20);}}_initDialogPluginIntegration() {if (!this.editor.plugins.has("Dialog")) {return;} const t=this.view.stickyPanel; const e=this.editor.plugins.get("Dialog"); e.on("show",(() => {const n=e.view; n.on("moveTo",((e,o) => {if (!t.isSticky||n.wasMoved) {return;} const i=new uc(t.contentPanelElement); if (o[1]<i.bottom+BD.defaultOffset) {o[1]=i.bottom+BD.defaultOffset;}}),{priority: "high"});}),{priority: "low"});}_setupMenuBarBehaviors(t) {const e=this.editor; this.focusTracker.add(t); e.keystrokes.listenTo(t); e.keystrokes.set("Esc",((n,o) => {if (t.contains(this.focusTracker.focusedElement)) {e.editing.view.focus(); o();}})); e.keystrokes.set("Alt+F9",((e,n) => {if (!t.contains(this.focusTracker.focusedElement)) {this.view.menuBarView.focus(); n();}}));}} const JS=n(3394); const YS={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; YS.insert="head"; YS.singleton=true; const QS=Id()(JS.A,YS); const XS=JS.A.locals||{}; class tI extends TB {constructor(t,e,n={}) {super(t); this.stickyPanel=new QB(t); this.toolbar=new Jy(t,{shouldGroupWhenFull: n.shouldToolbarGroupWhenFull}); if (n.useMenuBar) {this.menuBarView=new KS(t);} this.editable=new IB(t,e);}render() {super.render(); if (this.menuBarView) {this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]);} else {this.stickyPanel.content.add(this.toolbar);} this.top.add(this.stickyPanel); this.main.add(this.editable);}} class eI {constructor(t) {this.crashes=[]; this.state="initializing"; this._now=Date.now; this.crashes=[]; this._crashNumberLimit=typeof t.crashNumberLimit==="number"?t.crashNumberLimit:3; this._minimumNonErrorTimePeriod=typeof t.minimumNonErrorTimePeriod==="number"?t.minimumNonErrorTimePeriod:5e3; this._boundErrorHandler=t => {const e="error"in t?t.error:t.reason; if (e instanceof Error) {this._handleError(e,t);}}; this._listeners={}; if (!this._restart) {throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. "+"Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.");}}destroy() {this._stopErrorHandling(); this._listeners={};}on(t,e) {if (!this._listeners[t]) {this._listeners[t]=[];} this._listeners[t].push(e);}off(t,e) {this._listeners[t]=this._listeners[t].filter((t => t!==e));}_fire(t,...e) {const n=this._listeners[t]||[]; for (const t of n) {t.apply(this,[null,...e]);}}_startErrorHandling() {window.addEventListener("error",this._boundErrorHandler); window.addEventListener("unhandledrejection",this._boundErrorHandler);}_stopErrorHandling() {window.removeEventListener("error",this._boundErrorHandler); window.removeEventListener("unhandledrejection",this._boundErrorHandler);}_handleError(t,e) {if (this._shouldReactToError(t)) {this.crashes.push({message: t.message,stack: t.stack,filename: e instanceof ErrorEvent?e.filename:undefined,lineno: e instanceof ErrorEvent?e.lineno:undefined,colno: e instanceof ErrorEvent?e.colno:undefined,date: this._now()}); const n=this._shouldRestart(); this.state="crashed"; this._fire("stateChange"); this._fire("error",{error: t,causesRestart: n}); if (n) {this._restart();} else {this.state="crashedPermanently"; this._fire("stateChange");}}}_shouldReactToError(t) {return t.is&&t.is("CKEditorError")&&t.context!==undefined&&t.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(t);}_shouldRestart() {if (this.crashes.length<=this._crashNumberLimit) {return true;} const t=this.crashes[this.crashes.length-1].date; const e=this.crashes[this.crashes.length-1-this._crashNumberLimit].date; const n=(t-e)/this._crashNumberLimit; return n>this._minimumNonErrorTimePeriod;}} function nI(t,e=new Set) {const n=[t]; const o=new Set; let i=0; while (n.length>i) {const t=n[i++]; if (o.has(t)||!oI(t)||e.has(t)) {continue;}o.add(t); if (Symbol.iterator in t) {try {for (const e of t) {n.push(e);}} catch (t) {}} else {for (const e in t) {if (e==="defaultValue") {continue;}n.push(t[e]);}}} return o;} function oI(t) {const e=Object.prototype.toString.call(t); const n=typeof t; return !(n==="number"||n==="boolean"||n==="string"||n==="symbol"||n==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||t===undefined||t===null||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event);} function iI(t,e,n=new Set) {if (t===e&&sI(t)) {return true;} const o=nI(t,n); const i=nI(e,n); for (const t of o) {if (i.has(t)) {return true;}} return false;} function rI(t,e,n) {const {subNodes: o,prevNodeMap: i}=getSubNodes(t,n.subNodes); const {subNodes: r,prevNodeMap: s}=getSubNodes(e,n.subNodes); for (const n of o) {if (r.has(n)) {const o=[]; o.push(n); let r=i.get(n); while (r&&r!==t) {o.push(r); r=i.get(r);}r=s.get(n); while (r&&r!==e) {o.unshift(r); r=s.get(r);}console.log("--------"); console.log({target1: t}); console.log({sharedNode: n}); console.log({target2: e}); console.log({connection: o}); return true;}} return false;} function sI(t) {return typeof t==="object"&&t!==null;} class aI extends eI {constructor(t,e={}) {super(e); this._editor=null; this._lifecyclePromise=null; this._initUsingData=true; this._editables={}; this._throttledSave=tB(this._save.bind(this),typeof e.saveInterval==="number"?e.saveInterval:5e3); if (t) {this._creator=(e,n) => t.create(e,n);} this._destructor=t => t.destroy();} get editor() {return this._editor;} get _item() {return this._editor;}setCreator(t) {this._creator=t;}setDestructor(t) {this._destructor=t;}_restart() {return Promise.resolve().then((() => {this.state="initializing"; this._fire("stateChange"); return this._destroy();})).catch((t => {console.error("An error happened during the editor destroying.",t);})).then((() => {const t={}; const e=[]; const n=this._config.rootsAttributes||{}; const o={}; for (const [i,r] of Object.entries(this._data.roots)) {if (r.isLoaded) {t[i]=""; o[i]=n[i]||{};} else {e.push(i);}} const i={...this._config,extraPlugins: this._config.extraPlugins||[],lazyRoots: e,rootsAttributes: o,_watchdogInitialData: this._data}; delete i.initialData; i.extraPlugins.push(cI); if (this._initUsingData) {return this.create(t,i,i.context);} if (qa(this._elementOrData)) {return this.create(this._elementOrData,i,i.context);} return this.create(this._editables,i,i.context);})).then((() => {this._fire("restart");}));}create(t=this._elementOrData,e=this._config,n) {this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((() => {super._startErrorHandling(); this._elementOrData=t; this._initUsingData=typeof t==="string"||Object.keys(t).length>0&&typeof Object.values(t)[0]==="string"; this._config=this._cloneEditorConfiguration(e)||{}; this._config.context=n; return this._creator(t,this._config);})).then((t => {this._editor=t; t.model.document.on("change:data",this._throttledSave); this._lastDocumentVersion=t.model.document.version; this._data=this._getData(); if (!this._initUsingData) {this._editables=this._getEditables();} this.state="ready"; this._fire("stateChange");})).finally((() => {this._lifecyclePromise=null;})); return this._lifecyclePromise;}destroy() {this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((() => {this.state="destroyed"; this._fire("stateChange"); super.destroy(); return this._destroy();})).finally((() => {this._lifecyclePromise=null;})); return this._lifecyclePromise;}_destroy() {return Promise.resolve().then((() => {this._stopErrorHandling(); this._throttledSave.cancel(); const t=this._editor; this._editor=null; t.model.document.off("change:data",this._throttledSave); return this._destructor(t);}));}_save() {const t=this._editor.model.document.version; try {this._data=this._getData(); if (!this._initUsingData) {this._editables=this._getEditables();} this._lastDocumentVersion=t;} catch (t) {console.error(t,"An error happened during restoring editor data. "+"Editor will be restored from the previously saved data.");}}_setExcludedProperties(t) {this._excludedProps=t;}_getData() {const t=this._editor; const e=t.model.document.roots.filter((t => t.isAttached()&&t.rootName!="$graveyard")); const {plugins: n}=t; const o=n.has("CommentsRepository")&&n.get("CommentsRepository"); const i=n.has("TrackChanges")&&n.get("TrackChanges"); const r={roots: {},markers: {},commentThreads: JSON.stringify([]),suggestions: JSON.stringify([])}; e.forEach((t => {r.roots[t.rootName]={content: JSON.stringify(Array.from(t.getChildren())),attributes: JSON.stringify(Array.from(t.getAttributes())),isLoaded: t._isLoaded};})); for (const e of t.model.markers) {if (!e._affectsData) {continue;}r.markers[e.name]={rangeJSON: e.getRange().toJSON(),usingOperation: e._managedUsingOperations,affectsData: e._affectsData};} if (o) {r.commentThreads=JSON.stringify(o.getCommentThreads({toJSON: true,skipNotAttached: true}));} if (i) {r.suggestions=JSON.stringify(i.getSuggestions({toJSON: true,skipNotAttached: true}));} return r;}_getEditables() {const t={}; for (const e of this.editor.model.document.getRootNames()) {const n=this.editor.ui.getEditableElement(e); if (n) {t[e]=n;}} return t;}_isErrorComingFromThisItem(t) {return iI(this._editor,t.context,this._excludedProps);}_cloneEditorConfiguration(t) {return ja(t,((t,e) => {if (qa(t)) {return t;} if (e==="context") {return t;}}));}} class cI {constructor(t) {this.editor=t; this._data=t.config.get("_watchdogInitialData");}init() {this.editor.data.on("init",(t => {t.stop(); this.editor.model.enqueueChange({isUndoable: false},(t => {this._restoreCollaborationData(); this._restoreEditorData(t);})); this.editor.data.fire("ready");}),{priority: 1e3-1});}_createNode(t,e) {if ("name"in e) {const n=t.createElement(e.name,e.attributes); if (e.children) {for (const o of e.children) {n._appendChild(this._createNode(t,o));}} return n;} return t.createText(e.data,e.attributes);}_restoreEditorData(t) {const e=this.editor; Object.entries(this._data.roots).forEach((([n,{content: o,attributes: i}]) => {const r=JSON.parse(o); const s=JSON.parse(i); const a=e.model.document.getRoot(n); for (const [e,n] of s) {t.setAttribute(e,n,a);} for (const e of r) {const n=this._createNode(t,e); t.insert(n,a,"end");}})); Object.entries(this._data.markers).forEach((([n,o]) => {const {document: i}=e.model; const {rangeJSON: {start: r,end: s},...a}=o; const c=i.getRoot(r.root); const l=t.createPositionFromPath(c,r.path,r.stickiness); const d=t.createPositionFromPath(c,s.path,s.stickiness); const u=t.createRange(l,d); t.addMarker(n,{range: u,...a});}));}_restoreCollaborationData() {const t=JSON.parse(this._data.commentThreads); const e=JSON.parse(this._data.suggestions); t.forEach((t => {const e=this.editor.config.get("collaboration.channelId"); const n=this.editor.plugins.get("CommentsRepository"); if (n.hasCommentThread(t.threadId)) {const e=n.getCommentThread(t.threadId); e.remove();}n.addCommentThread({channelId: e,...t});})); e.forEach((t => {const e=this.editor.plugins.get("TrackChangesEditing"); if (e.hasSuggestion(t.id)) {const n=e.getSuggestion(t.id); n.attributes=t.attributes;} else {e.addSuggestionData(t);}}));}} const lI=Symbol("MainQueueId"); class dI extends eI {constructor(t,e={}) {super(e); this._watchdogs=new Map; this._context=null; this._contextProps=new Set; this._actionQueues=new uI; this._watchdogConfig=e; this._creator=e => t.create(e); this._destructor=t => t.destroy(); this._actionQueues.onEmpty((() => {if (this.state==="initializing") {this.state="ready"; this._fire("stateChange");}}));}setCreator(t) {this._creator=t;}setDestructor(t) {this._destructor=t;} get context() {return this._context;}create(t={}) {return this._actionQueues.enqueue(lI,(() => {this._contextConfig=t; return this._create();}));}getItem(t) {const e=this._getWatchdog(t); return e._item;}getItemState(t) {const e=this._getWatchdog(t); return e.state;}add(t) {const e=hI(t); return Promise.all(e.map((t => this._actionQueues.enqueue(t.id,(() => {if (this.state==="destroyed") {throw new Error("Cannot add items to destroyed watchdog.");} if (!this._context) {throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");} let e; if (this._watchdogs.has(t.id)) {throw new Error(`Item with the given id is already added: '${t.id}'.`);} if (t.type==="editor") {e=new aI(null,this._watchdogConfig); e.setCreator(t.creator); e._setExcludedProperties(this._contextProps); if (t.destructor) {e.setDestructor(t.destructor);} this._watchdogs.set(t.id,e); e.on("error",((n,{error: o,causesRestart: i}) => {this._fire("itemError",{itemId: t.id,error: o}); if (!i) {return;} this._actionQueues.enqueue(t.id,(() => new Promise((n => {const o=() => {e.off("restart",o); this._fire("itemRestart",{itemId: t.id}); n();}; e.on("restart",o);}))));})); return e.create(t.sourceElementOrData,t.config,this._context);} throw new Error(`Not supported item type: '${t.type}'.`);})))));}remove(t) {const e=hI(t); return Promise.all(e.map((t => this._actionQueues.enqueue(t,(() => {const e=this._getWatchdog(t); this._watchdogs.delete(t); return e.destroy();})))));}destroy() {return this._actionQueues.enqueue(lI,(() => {this.state="destroyed"; this._fire("stateChange"); super.destroy(); return this._destroy();}));}_restart() {return this._actionQueues.enqueue(lI,(() => {this.state="initializing"; this._fire("stateChange"); return this._destroy().catch((t => {console.error("An error happened during destroying the context or items.",t);})).then((() => this._create())).then((() => this._fire("restart")));}));}_create() {return Promise.resolve().then((() => {this._startErrorHandling(); return this._creator(this._contextConfig);})).then((t => {this._context=t; this._contextProps=nI(this._context); return Promise.all(Array.from(this._watchdogs.values()).map((t => {t._setExcludedProperties(this._contextProps); return t.create(undefined,undefined,this._context);})));}));}_destroy() {return Promise.resolve().then((() => {this._stopErrorHandling(); const t=this._context; this._context=null; this._contextProps=new Set; return Promise.all(Array.from(this._watchdogs.values()).map((t => t.destroy()))).then((() => this._destructor(t)));}));}_getWatchdog(t) {const e=this._watchdogs.get(t); if (!e) {throw new Error(`Item with the given id was not registered: ${t}.`);} return e;}_isErrorComingFromThisItem(t) {for (const e of this._watchdogs.values()) {if (e._isErrorComingFromThisItem(t)) {return false;}} return iI(this._context,t.context);}} class uI {constructor() {this._onEmptyCallbacks=[]; this._queues=new Map; this._activeActions=0;}onEmpty(t) {this._onEmptyCallbacks.push(t);}enqueue(t,e) {const n=t===lI; this._activeActions++; if (!this._queues.get(t)) {this._queues.set(t,Promise.resolve());} const o=n?Promise.all(this._queues.values()):Promise.all([this._queues.get(lI),this._queues.get(t)]); const i=o.then(e); const r=i.catch((() => {})); this._queues.set(t,r); return i.finally((() => {this._activeActions--; if (this._queues.get(t)===r&&this._activeActions===0) {this._onEmptyCallbacks.forEach((t => t()));}}));}} function hI(t) {return Array.isArray(t)?t:[t];} class gI extends (aC(iC)) {constructor(t,e={}) {if (!pI(t)&&e.initialData!==undefined) {throw new V("editor-create-initial-data",null);} super(e); this.config.define("menuBar.isVisible",false); if (this.config.get("initialData")===undefined) {this.config.set("initialData",mI(t));} if (pI(t)) {this.sourceElement=t;} this.model.document.createRoot(); const n=!this.config.get("toolbar.shouldNotGroupWhenFull"); const o=this.config.get("menuBar"); const i=new tI(this.locale,this.editing.view,{shouldToolbarGroupWhenFull: n,useMenuBar: o.isVisible}); this.ui=new ZS(this,i); rC(this);}destroy() {if (this.sourceElement) {this.updateSourceElement();} this.ui.destroy(); return super.destroy();} static create(t,e={}) {return new Promise((n => {const o=new this(t,e); n(o.initPlugins().then((() => o.ui.init(pI(t)?t:null))).then((() => o.data.init(o.config.get("initialData")))).then((() => o.fire("ready"))).then((() => o)));}));}}gI.Context=Bd; gI.EditorWatchdog=aI; gI.ContextWatchdog=dI; const fI=gI; function mI(t) {return pI(t)?rc(t):t;} function pI(t) {return qa(t);} const kI=["left","right","center","justify"]; function bI(t) {return kI.includes(t);} function wI(t,e) {if (e.contentLanguageDirection=="rtl") {return t==="right";} return t==="left";} function _I(t) {const e=t.map((t => {let e; if (typeof t==="string") {e={name: t};} else {e=t;} return e;})).filter((t => {const e=kI.includes(t.name); if (!e) {M("alignment-config-name-not-recognized",{option: t});} return e;})); const n=e.filter((t => Boolean(t.className))).length; if (n&&n<e.length) {throw new V("alignment-config-classnames-are-missing",{configuredOptions: t});}e.forEach(((e,n,o) => {const i=o.slice(n+1); const r=i.some((t => t.name==e.name)); if (r) {throw new V("alignment-config-name-already-defined",{option: e,configuredOptions: t});} if (e.className) {const n=i.some((t => t.className==e.className)); if (n) {throw new V("alignment-config-classname-already-defined",{option: e,configuredOptions: t});}}})); return e;} const CI="alignment"; class AI extends yd {refresh() {const t=this.editor; const e=t.locale; const n=rd(this.editor.model.document.selection.getSelectedBlocks()); this.isEnabled=Boolean(n)&&this._canBeAligned(n); if (this.isEnabled&&n.hasAttribute("alignment")) {this.value=n.getAttribute("alignment");} else {this.value=e.contentLanguageDirection==="rtl"?"right":"left";}}execute(t={}) {const e=this.editor; const n=e.locale; const o=e.model; const i=o.document; const r=t.value; o.change((t => {const e=Array.from(i.selection.getSelectedBlocks()).filter((t => this._canBeAligned(t))); const o=e[0].getAttribute("alignment"); const s=wI(r,n)||o===r||!r; if (s) {vI(e,t);} else {yI(e,t,r);}}));}_canBeAligned(t) {return this.editor.model.schema.checkAttribute(t,CI);}} function vI(t,e) {for (const n of t) {e.removeAttribute(CI,n);}} function yI(t,e,n) {for (const o of t) {e.setAttribute(CI,n,o);}} class xI extends Ad {static get pluginName() {return "AlignmentEditing";}constructor(t) {super(t); t.config.define("alignment",{options: kI.map((t => ({name: t})))});}init() {const t=this.editor; const e=t.locale; const n=t.model.schema; const o=_I(t.config.get("alignment.options")); const i=o.filter((t => bI(t.name)&&!wI(t.name,e))); const r=i.some((t => !!t.className)); n.extend("$block",{allowAttributes: "alignment"}); t.model.schema.setAttributeProperties("alignment",{isFormatting: true}); if (r) {t.conversion.attributeToAttribute(TI(i));} else {t.conversion.for("downcast").attributeToAttribute(EI(i));} const s=DI(i); for (const e of s) {t.conversion.for("upcast").attributeToAttribute(e);} const a=BI(i); for (const e of a) {t.conversion.for("upcast").attributeToAttribute(e);}t.commands.add("alignment",new AI(t));}} function EI(t) {const e={}; for (const {name: n} of t) {e[n]={key: "style",value: {"text-align": n}};} const n={model: {key: "alignment",values: t.map((t => t.name))},view: e}; return n;} function DI(t) {const e=[]; for (const {name: n} of t) {e.push({view: {key: "style",value: {"text-align": n}},model: {key: "alignment",value: n}});} return e;} function BI(t) {const e=[]; for (const {name: n} of t) {e.push({view: {key: "align",value: n},model: {key: "alignment",value: n}});} return e;} function TI(t) {const e={}; for (const n of t) {e[n.name]={key: "class",value: n.className};} const n={model: {key: "alignment",values: t.map((t => t.name))},view: e}; return n;} const SI=new Map([["left",bA.alignLeft],["right",bA.alignRight],["center",bA.alignCenter],["justify",bA.alignJustify]]); class II extends Ad {get localizedOptionTitles() {const t=this.editor.t; return {left: t("Align left"),right: t("Align right"),center: t("Align center"),justify: t("Justify")};} static get pluginName() {return "AlignmentUI";}init() {const t=this.editor; const e=_I(t.config.get("alignment.options")); e.map((t => t.name)).filter(bI).forEach((t => this._addButton(t))); this._addToolbarDropdown(e); this._addMenuBarMenu(e);}_addButton(t) {const e=this.editor; e.ui.componentFactory.add(`alignment:${t}`,(e => this._createButton(e,t)));}_createButton(t,e,n={}) {const o=this.editor; const i=o.commands.get("alignment"); const r=new Ev(t); r.set({label: this.localizedOptionTitles[e],icon: SI.get(e),tooltip: true,isToggleable: true,...n}); r.bind("isEnabled").to(i); r.bind("isOn").to(i,"value",(t => t===e)); this.listenTo(r,"execute",(() => {o.execute("alignment",{value: e}); o.editing.view.focus();})); return r;}_addToolbarDropdown(t) {const e=this.editor; const n=e.ui.componentFactory; n.add("alignment",(n => {const o=Cx(n); const i=n.uiLanguageDirection==="rtl"?"w":"e"; const r=n.t; Ax(o,(() => t.map((t => this._createButton(n,t.name,{tooltipPosition: i})))),{enableActiveItemFocusOnDropdownOpen: true,isVertical: true,ariaLabel: r("Text alignment toolbar")}); o.buttonView.set({label: r("Text alignment"),tooltip: true}); o.extendTemplate({attributes: {class: "ck-alignment-dropdown"}}); const s=n.contentLanguageDirection==="rtl"?SI.get("right"):SI.get("left"); const a=e.commands.get("alignment"); o.buttonView.bind("icon").to(a,"value",(t => SI.get(t)||s)); o.bind("isEnabled").to(a,"isEnabled"); this.listenTo(o,"execute",(() => {e.editing.view.focus();})); return o;}));}_addMenuBarMenu(t) {const e=this.editor; e.ui.componentFactory.add("menuBar:alignment",(n => {const o=e.commands.get("alignment"); const i=n.t; const r=new MS(n); const s=new FS(n); r.bind("isEnabled").to(o); s.set({ariaLabel: i("Text alignment"),role: "menu"}); r.buttonView.set({label: i("Text alignment")}); for (const i of t) {const t=new oS(n,r); const a=new HS(n); a.extendTemplate({attributes: {"aria-checked": a.bindTemplate.to("isOn")}}); a.delegate("execute").to(r); a.set({label: this.localizedOptionTitles[i.name],icon: SI.get(i.name)}); a.on("execute",(() => {e.execute("alignment",{value: i.name}); e.editing.view.focus();})); a.bind("isOn").to(o,"value",(t => t===i.name)); a.bind("isEnabled").to(o,"isEnabled"); t.children.add(a); s.items.add(t);}r.panelView.children.add(s); return r;}));}} class PI extends Ad {static get requires() {return [xI,II];} static get pluginName() {return "Alignment";}} class RI {constructor(t,e=20) {this._batch=null; this.model=t; this._size=0; this.limit=e; this._isLocked=false; this._changeCallback=(t,e) => {if (e.isLocal&&e.isUndoable&&e!==this._batch) {this._reset(true);}}; this._selectionChangeCallback=() => {this._reset();}; this.model.document.on("change",this._changeCallback); this.model.document.selection.on("change:range",this._selectionChangeCallback); this.model.document.selection.on("change:attribute",this._selectionChangeCallback);} get batch() {if (!this._batch) {this._batch=this.model.createBatch({isTyping: true});} return this._batch;} get size() {return this._size;}input(t) {this._size+=t; if (this._size>=this.limit) {this._reset(true);}} get isLocked() {return this._isLocked;}lock() {this._isLocked=true;}unlock() {this._isLocked=false;}destroy() {this.model.document.off("change",this._changeCallback); this.model.document.selection.off("change:range",this._selectionChangeCallback); this.model.document.selection.off("change:attribute",this._selectionChangeCallback);}_reset(t=false) {if (!this.isLocked||t) {this._batch=null; this._size=0;}}} class VI extends yd {constructor(t,e) {super(t); this._buffer=new RI(t.model,e); this._isEnabledBasedOnSelection=false;} get buffer() {return this._buffer;}destroy() {super.destroy(); this._buffer.destroy();}execute(t={}) {const e=this.editor.model; const n=e.document; const o=t.text||""; const i=o.length; let r=n.selection; if (t.selection) {r=t.selection;} else if (t.range) {r=e.createSelection(t.range);} if (!e.canEditAt(r)) {return;} const s=t.resultRange; e.enqueueChange(this._buffer.batch,(t => {this._buffer.lock(); const a=Array.from(n.selection.getAttributes()); e.deleteContent(r); if (o) {e.insertContent(t.createText(o,a),r);} if (s) {t.setSelection(s);} else if (!r.is("documentSelection")) {t.setSelection(r);} this._buffer.unlock(); this._buffer.input(i);}));}} const MI=["insertText","insertReplacementText"]; class FI extends Wg {constructor(t) {super(t); this.focusObserver=t.getObserver(bm); if (l.isAndroid) {MI.push("insertCompositionText");} const e=t.document; e.on("beforeinput",((n,o) => {if (!this.isEnabled) {return;} const {data: i,targetRanges: r,inputType: s,domEvent: a}=o; if (!MI.includes(s)) {return;} this.focusObserver.flush(); const c=new D(e,"insertText"); e.fire(c,new $g(t,a,{text: i,selection: t.createSelection(r)})); if (c.stop.called) {n.stop();}})); e.on("compositionend",((n,{data: o,domEvent: i}) => {if (!this.isEnabled||l.isAndroid) {return;} if (!o) {return;}e.fire("insertText",new $g(t,i,{text: o,selection: e.selection}));}),{priority: "lowest"});}observe() {}stopObserving() {}} class OI extends Ad {static get pluginName() {return "Input";}init() {const t=this.editor; const e=t.model; const n=t.editing.view; const o=e.document.selection; n.addObserver(FI); const i=new VI(t,t.config.get("typing.undoStep")||20); t.commands.add("insertText",i); t.commands.add("input",i); this.listenTo(n.document,"insertText",((o,i) => {if (!n.document.isComposing) {i.preventDefault();} const {text: r,selection: s,resultRange: a}=i; const c=Array.from(s.getRanges()).map((e => t.editing.mapper.toModelRange(e))); let d=r; if (l.isAndroid) {const t=Array.from(c[0].getItems()).reduce(((t,e) => t+(e.is("$textProxy")?e.data:"")),""); if (t) {if (t.length<=d.length) {if (d.startsWith(t)) {d=d.substring(t.length); c[0].start=c[0].start.getShiftedBy(t.length);}} else if (t.startsWith(d)) {c[0].start=c[0].start.getShiftedBy(d.length); d="";}}} const u={text: d,selection: e.createSelection(c)}; if (a) {u.resultRange=t.editing.mapper.toModelRange(a);}t.execute("insertText",u); n.scrollToTheSelection();})); if (l.isAndroid) {this.listenTo(n.document,"keydown",((t,r) => {if (o.isCollapsed||r.keyCode!=229||!n.document.isComposing) {return;}zI(e,i);}));} else {this.listenTo(n.document,"compositionstart",(() => {if (o.isCollapsed) {return;}zI(e,i);}));}}} function zI(t,e) {if (!e.isEnabled) {return;} const n=e.buffer; n.lock(); t.enqueueChange(n.batch,(() => {t.deleteContent(t.document.selection);})); n.unlock();} class NI extends yd {constructor(t,e) {super(t); this.direction=e; this._buffer=new RI(t.model,t.config.get("typing.undoStep")); this._isEnabledBasedOnSelection=false;} get buffer() {return this._buffer;}execute(t={}) {const e=this.editor.model; const n=e.document; e.enqueueChange(this._buffer.batch,(o => {this._buffer.lock(); const i=o.createSelection(t.selection||n.selection); if (!e.canEditAt(i)) {return;} const r=t.sequence||1; const s=i.isCollapsed; if (i.isCollapsed) {e.modifySelection(i,{direction: this.direction,unit: t.unit,treatEmojiAsSingleUnit: true});} if (this._shouldEntireContentBeReplacedWithParagraph(r)) {this._replaceEntireContentWithParagraph(o); return;} if (this._shouldReplaceFirstBlockWithParagraph(i,r)) {this.editor.execute("paragraph",{selection: i}); return;} if (i.isCollapsed) {return;} let a=0; i.getFirstRange().getMinimalFlatRanges().forEach((t => {a+=xt(t.getWalker({singleCharacters: true,ignoreElementEnd: true,shallow: true}));})); e.deleteContent(i,{doNotResetEntireContent: s,direction: this.direction}); this._buffer.input(a); o.setSelection(i); this._buffer.unlock();}));}_shouldEntireContentBeReplacedWithParagraph(t) {if (t>1) {return false;} const e=this.editor.model; const n=e.document; const o=n.selection; const i=e.schema.getLimitElement(o); const r=o.isCollapsed&&o.containsEntireContent(i); if (!r) {return false;} if (!e.schema.checkChild(i,"paragraph")) {return false;} const s=i.getChild(0); if (s&&s.is("element","paragraph")) {return false;} return true;}_replaceEntireContentWithParagraph(t) {const e=this.editor.model; const n=e.document; const o=n.selection; const i=e.schema.getLimitElement(o); const r=t.createElement("paragraph"); t.remove(t.createRangeIn(i)); t.insert(r,i); t.setSelection(r,0);}_shouldReplaceFirstBlockWithParagraph(t,e) {const n=this.editor.model; if (e>1||this.direction!="backward") {return false;} if (!t.isCollapsed) {return false;} const o=t.getFirstPosition(); const i=n.schema.getLimitElement(o); const r=i.getChild(0); if (o.parent!=r) {return false;} if (!t.containsEntireContent(r)) {return false;} if (!n.schema.checkChild(i,"paragraph")) {return false;} if (r.name=="paragraph") {return false;} return true;}} const LI="character"; const HI="word"; const jI="codePoint"; const WI="selection"; const qI="backward"; const UI="forward"; const $I={deleteContent: {unit: WI,direction: qI},deleteContentBackward: {unit: jI,direction: qI},deleteWordBackward: {unit: HI,direction: qI},deleteHardLineBackward: {unit: WI,direction: qI},deleteSoftLineBackward: {unit: WI,direction: qI},deleteContentForward: {unit: LI,direction: UI},deleteWordForward: {unit: HI,direction: UI},deleteHardLineForward: {unit: WI,direction: UI},deleteSoftLineForward: {unit: WI,direction: UI}}; class GI extends Wg {constructor(t) {super(t); const e=t.document; let n=0; e.on("keydown",(() => {n++;})); e.on("keyup",(() => {n=0;})); e.on("beforeinput",((o,i) => {if (!this.isEnabled) {return;} const {targetRanges: r,domEvent: s,inputType: a}=i; const c=$I[a]; if (!c) {return;} const d={direction: c.direction,unit: c.unit,sequence: n}; if (d.unit==WI) {d.selectionToRemove=t.createSelection(r[0]);} if (a==="deleteContentBackward") {if (l.isAndroid) {d.sequence=1;} if (ZI(r)) {d.unit=WI; d.selectionToRemove=t.createSelection(r);}} const u=new xh(e,"delete",r[0]); e.fire(u,new $g(t,s,d)); if (u.stop.called) {o.stop();}})); if (l.isBlink) {KI(this);}}observe() {}stopObserving() {}} function KI(t) {const e=t.view; const n=e.document; let o=null; let i=false; n.on("keydown",((t,{keyCode: e}) => {o=e; i=false;})); n.on("keyup",((a,{keyCode: c,domEvent: l}) => {const d=n.selection; const u=t.isEnabled&&c==o&&r(c)&&!d.isCollapsed&&!i; o=null; if (u) {const t=d.getFirstRange(); const o=new xh(n,"delete",t); const i={unit: WI,direction: s(c),selectionToRemove: d}; n.fire(o,new $g(e,l,i));}})); n.on("beforeinput",((t,{inputType: e}) => {const n=$I[e]; const a=r(o)&&n&&n.direction==s(o); if (a) {i=true;}}),{priority: "high"}); n.on("beforeinput",((t,{inputType: e,data: n}) => {const i=o==Kc.delete&&e=="insertText"&&n==""; if (i) {t.stop();}}),{priority: "high"}); function r(t) {return t==Kc.backspace||t==Kc.delete;} function s(t) {return t==Kc.backspace?qI:UI;}} function ZI(t) {if (t.length!=1||t[0].isCollapsed) {return false;} const e=t[0].getWalker({direction: "backward",singleCharacters: true,ignoreElementEnd: true}); let n=0; for (const {nextPosition: t} of e) {if (!t.parent.is("$text")) {n++;} else {const e=t.parent.data; const o=t.offset; if (kd(e,o)||bd(e,o)||_d(e,o)) {continue;}n++;} if (n>1) {return true;}} return false;} class JI extends Ad {static get pluginName() {return "Delete";}init() {const t=this.editor; const e=t.editing.view; const n=e.document; const o=t.model.document; e.addObserver(GI); this._undoOnBackspace=false; const i=new NI(t,"forward"); t.commands.add("deleteForward",i); t.commands.add("forwardDelete",i); t.commands.add("delete",new NI(t,"backward")); this.listenTo(n,"delete",((o,i) => {if (!n.isComposing) {i.preventDefault();} const {direction: r,sequence: s,selectionToRemove: a,unit: c}=i; const l=r==="forward"?"deleteForward":"delete"; const d={sequence: s}; if (c=="selection") {const e=Array.from(a.getRanges()).map((e => t.editing.mapper.toModelRange(e))); d.selection=t.model.createSelection(e);} else {d.unit=c;}t.execute(l,d); e.scrollToTheSelection();}),{priority: "low"}); if (this.editor.plugins.has("UndoEditing")) {this.listenTo(n,"delete",((e,n) => {if (this._undoOnBackspace&&n.direction=="backward"&&n.sequence==1&&n.unit=="codePoint") {this._undoOnBackspace=false; t.execute("undo"); n.preventDefault(); e.stop();}}),{context: "$capture"}); this.listenTo(o,"change",(() => {this._undoOnBackspace=false;}));}}requestUndoOnBackspace() {if (this.editor.plugins.has("UndoEditing")) {this._undoOnBackspace=true;}}} class YI extends Ad {static get requires() {return [OI,JI];} static get pluginName() {return "Typing";}} function QI(t,e) {let n=t.start; const o=Array.from(t.getWalker({ignoreElementEnd: false})).reduce(((t,{item: o}) => {if (!(o.is("$text")||o.is("$textProxy"))) {n=e.createPositionAfter(o); return "";} return t+o.data;}),""); return {text: o,range: e.createRange(n,t.end)};} class XI extends (gt()) {constructor(t,e) {super(); this.model=t; this.testCallback=e; this._hasMatch=false; this.set("isEnabled",true); this.on("change:isEnabled",(() => {if (this.isEnabled) {this._startListening();} else {this.stopListening(t.document.selection); this.stopListening(t.document);}})); this._startListening();} get hasMatch() {return this._hasMatch;}_startListening() {const t=this.model; const e=t.document; this.listenTo(e.selection,"change:range",((t,{directChange: n}) => {if (!n) {return;} if (!e.selection.isCollapsed) {if (this.hasMatch) {this.fire("unmatched"); this._hasMatch=false;} return;} this._evaluateTextBeforeSelection("selection");})); this.listenTo(e,"change:data",((t,e) => {if (e.isUndo||!e.isLocal) {return;} this._evaluateTextBeforeSelection("data",{batch: e});}));}_evaluateTextBeforeSelection(t,e={}) {const n=this.model; const o=n.document; const i=o.selection; const r=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus); const {text: s,range: a}=QI(r,n); const c=this.testCallback(s); if (!c&&this.hasMatch) {this.fire("unmatched");} this._hasMatch=!!c; if (c) {const n=Object.assign(e,{text: s,range: a}); if (typeof c==="object") {Object.assign(n,c);} this.fire(`matched:${t}`,n);}}} class tP extends Ad {static get pluginName() {return "TwoStepCaretMovement";}constructor(t) {super(t); this._isNextGravityRestorationSkipped=false; this.attributes=new Set; this._overrideUid=null;}init() {const t=this.editor; const e=t.model; const n=t.editing.view; const o=t.locale; const i=e.document.selection; this.listenTo(n.document,"arrowKey",((t,e) => {if (!i.isCollapsed) {return;} if (e.shiftKey||e.altKey||e.ctrlKey) {return;} const n=e.keyCode==Kc.arrowright; const r=e.keyCode==Kc.arrowleft; if (!n&&!r) {return;} const s=o.contentLanguageDirection; let a=false; if (s==="ltr"&&n||s==="rtl"&&r) {a=this._handleForwardMovement(e);} else {a=this._handleBackwardMovement(e);} if (a===true) {t.stop();}}),{context: "$text",priority: "highest"}); this.listenTo(i,"change:range",((t,e) => {if (this._isNextGravityRestorationSkipped) {this._isNextGravityRestorationSkipped=false; return;} if (!this._isGravityOverridden) {return;} if (!e.directChange&&sP(i.getFirstPosition(),this.attributes)) {return;} this._restoreGravity();})); this._enableClickingAfterNode(); this._enableInsertContentSelectionAttributesFixer(); this._handleDeleteContentAfterNode();}registerAttribute(t) {this.attributes.add(t);}_handleForwardMovement(t) {const e=this.attributes; const n=this.editor.model; const o=n.document.selection; const i=o.getFirstPosition(); if (this._isGravityOverridden) {return false;} if (i.isAtStart&&eP(o,e)) {return false;} if (sP(i,e)) {iP(t); if (eP(o,e)&&sP(i,e,true)) {oP(n,e);} else {this._overrideGravity();} return true;} return false;}_handleBackwardMovement(t) {const e=this.attributes; const n=this.editor.model; const o=n.document.selection; const i=o.getFirstPosition(); if (this._isGravityOverridden) {iP(t); this._restoreGravity(); if (sP(i,e,true)) {oP(n,e);} else {nP(n,e,i);} return true;} else {if (i.isAtStart) {if (eP(o,e)) {iP(t); nP(n,e,i); return true;} return false;} if (!eP(o,e)&&sP(i,e,true)) {iP(t); nP(n,e,i); return true;} if (rP(i,e)) {if (i.isAtEnd&&!eP(o,e)&&sP(i,e)) {iP(t); nP(n,e,i); return true;} this._isNextGravityRestorationSkipped=true; this._overrideGravity(); return false;}} return false;}_enableClickingAfterNode() {const t=this.editor; const e=t.model; const n=e.document.selection; const o=t.editing.view.document; t.editing.view.addObserver(s_); let i=false; this.listenTo(o,"mousedown",(() => {i=true;})); this.listenTo(o,"selectionChange",(() => {const t=this.attributes; if (!i) {return;}i=false; if (!n.isCollapsed) {return;} if (!eP(n,t)) {return;} const o=n.getFirstPosition(); if (!sP(o,t)) {return;} if (o.isAtStart||sP(o,t,true)) {oP(e,t);} else if (!this._isGravityOverridden) {this._overrideGravity();}}));}_enableInsertContentSelectionAttributesFixer() {const t=this.editor; const e=t.model; const n=e.document.selection; const o=this.attributes; this.listenTo(e,"insertContent",(() => {const t=n.getFirstPosition(); if (eP(n,o)&&sP(t,o)) {oP(e,o);}}),{priority: "low"});}_handleDeleteContentAfterNode() {const t=this.editor; const e=t.model; const n=e.document.selection; const o=t.editing.view; let i=false; let r=false; this.listenTo(o.document,"delete",((t,e) => {i=e.direction==="backward";}),{priority: "high"}); this.listenTo(e,"deleteContent",(() => {if (!i) {return;} const t=n.getFirstPosition(); r=eP(n,this.attributes)&&!rP(t,this.attributes);}),{priority: "high"}); this.listenTo(e,"deleteContent",(() => {if (!i) {return;}i=false; if (r) {return;}t.model.enqueueChange((() => {const t=n.getFirstPosition(); if (eP(n,this.attributes)&&sP(t,this.attributes)) {if (t.isAtStart||sP(t,this.attributes,true)) {oP(e,this.attributes);} else if (!this._isGravityOverridden) {this._overrideGravity();}}}));}),{priority: "low"});} get _isGravityOverridden() {return !!this._overrideUid;}_overrideGravity() {this._overrideUid=this.editor.model.change((t => t.overrideSelectionGravity()));}_restoreGravity() {this.editor.model.change((t => {t.restoreSelectionGravity(this._overrideUid); this._overrideUid=null;}));}} function eP(t,e) {for (const n of e) {if (t.hasAttribute(n)) {return true;}} return false;} function nP(t,e,n) {const o=n.nodeBefore; t.change((n => {if (o) {const e=[]; const i=t.schema.isObject(o)&&t.schema.isInline(o); for (const [n,r] of o.getAttributes()) {if (t.schema.checkAttribute("$text",n)&&(!i||t.schema.getAttributeProperties(n).copyFromObject!==false)) {e.push([n,r]);}}n.setSelectionAttribute(e);} else {n.removeSelectionAttribute(e);}}));} function oP(t,e) {t.change((t => {t.removeSelectionAttribute(e);}));} function iP(t) {t.preventDefault();} function rP(t,e) {const n=t.getShiftedBy(-1); return sP(n,e);} function sP(t,e,n=false) {const {nodeBefore: o,nodeAfter: i}=t; for (const t of e) {const e=o?o.getAttribute(t):undefined; const r=i?i.getAttribute(t):undefined; if (n&&(e===undefined||r===undefined)) {continue;} if (r!==e) {return true;}} return false;} const aP={copyright: {from: "(c)",to: "©"},registeredTrademark: {from: "(r)",to: "®"},trademark: {from: "(tm)",to: "™"},oneHalf: {from: /(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to: [null,"½",null]},oneThird: {from: /(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to: [null,"⅓",null]},twoThirds: {from: /(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to: [null,"⅔",null]},oneForth: {from: /(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to: [null,"¼",null]},threeQuarters: {from: /(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to: [null,"¾",null]},lessThanOrEqual: {from: "<=",to: "≤"},greaterThanOrEqual: {from: ">=",to: "≥"},notEqual: {from: "!=",to: "≠"},arrowLeft: {from: "<-",to: "←"},arrowRight: {from: "->",to: "→"},horizontalEllipsis: {from: "...",to: "…"},enDash: {from: /(^| )(--)( )$/,to: [null,"–",null]},emDash: {from: /(^| )(---)( )$/,to: [null,"—",null]},quotesPrimary: {from: fP('"'),to: [null,"“",null,"”"]},quotesSecondary: {from: fP("'"),to: [null,"‘",null,"’"]},quotesPrimaryEnGb: {from: fP("'"),to: [null,"‘",null,"’"]},quotesSecondaryEnGb: {from: fP('"'),to: [null,"“",null,"”"]},quotesPrimaryPl: {from: fP('"'),to: [null,"„",null,"”"]},quotesSecondaryPl: {from: fP("'"),to: [null,"‚",null,"’"]}}; const cP={symbols: ["copyright","registeredTrademark","trademark"],mathematical: ["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography: ["horizontalEllipsis","enDash","emDash"],quotes: ["quotesPrimary","quotesSecondary"]}; const lP=["symbols","mathematical","typography","quotes"]; class dP extends Ad {static get requires() {return ["Delete","Input"];} static get pluginName() {return "TextTransformation";}constructor(t) {super(t); t.config.define("typing",{transformations: {include: lP}});}init() {const t=this.editor.model; const e=t.document.selection; e.on("change:range",(() => {this.isEnabled=!e.anchor.parent.is("element","codeBlock");})); this._enableTransformationWatchers();}_enableTransformationWatchers() {const t=this.editor; const e=t.model; const n=t.plugins.get("Delete"); const o=mP(t.config.get("typing.transformations")); const i=t => {for (const e of o) {const n=e.from; const o=n.test(t); if (o) {return {normalizedTransformation: e};}}}; const r=new XI(t.model,i); r.on("matched:data",((t,o) => {if (!o.batch.isTyping) {return;} const {from: i,to: r}=o.normalizedTransformation; const s=i.exec(o.text); const a=r(s.slice(1)); const c=o.range; let l=s.index; e.enqueueChange((t => {for (let n=1; n<s.length; n++) {const o=s[n]; const i=a[n-1]; if (i==null) {l+=o.length; continue;} const r=c.start.getShiftedBy(l); const d=e.createRange(r,r.getShiftedBy(o.length)); const u=gP(r); e.insertContent(t.createText(i,u),d); l+=i.length;}e.enqueueChange((() => {n.requestUndoOnBackspace();}));}));})); r.bind("isEnabled").to(this);}} function uP(t) {if (typeof t==="string") {return new RegExp(`(${rT(t)})$`);} return t;} function hP(t) {if (typeof t==="string") {return () => [t];} else if (t instanceof Array) {return () => t;} return t;} function gP(t) {const e=t.textNode?t.textNode:t.nodeAfter; return e.getAttributes();} function fP(t) {return new RegExp(`(^|\\s)(${t})([^${t}]*)(${t})$`);} function mP(t) {const e=t.extra||[]; const n=t.remove||[]; const o=t => !n.includes(t); const i=t.include.concat(e).filter(o); return pP(i).filter(o).map((t => typeof t==="string"&&aP[t]?aP[t]:t)).filter((t => typeof t==="object")).map((t => ({from: uP(t.from),to: hP(t.to)})));} function pP(t) {const e=new Set; for (const n of t) {if (typeof n==="string"&&cP[n]) {for (const t of cP[n]) {e.add(t);}} else {e.add(n);}} return Array.from(e);} function kP(t,e,n,o) {return o.createRange(bP(t,e,n,true,o),bP(t,e,n,false,o));} function bP(t,e,n,o,i) {let r=t.textNode||(o?t.nodeBefore:t.nodeAfter); let s=null; while (r&&r.getAttribute(e)==n) {s=r; r=o?r.previousSibling:r.nextSibling;} return s?i.createPositionAt(s,o?"before":"after"):t;} function wP(t,e,n,o) {const i=t.editing.view; const r=new Set; i.document.registerPostFixer((i => {const s=t.model.document.selection; let a=false; if (s.hasAttribute(e)) {const c=kP(s.getFirstPosition(),e,s.getAttribute(e),t.model); const l=t.editing.mapper.toViewRange(c); for (const t of l.getItems()) {if (t.is("element",n)&&!t.hasClass(o)) {i.addClass(o,t); r.add(t); a=true;}}} return a;})); t.conversion.for("editingDowncast").add((t => {t.on("insert",e,{priority: "highest"}); t.on("remove",e,{priority: "highest"}); t.on("attribute",e,{priority: "highest"}); t.on("selection",e,{priority: "highest"}); function e() {i.change((t => {for (const e of r.values()) {t.removeClass(o,e); r.delete(e);}}));}}));} function _P(t,e,n,o) {let i; let r=null; if (typeof o==="function") {i=o;} else {r=t.commands.get(o); i=() => {t.execute(o);};}t.model.document.on("change:data",((s,a) => {if (r&&!r.isEnabled||!e.isEnabled) {return;} const c=rd(t.model.document.selection.getRanges()); if (!c.isCollapsed) {return;} if (a.isUndo||!a.isLocal) {return;} const l=Array.from(t.model.document.differ.getChanges()); const d=l[0]; if (l.length!=1||d.type!=="insert"||d.name!="$text"||d.length!=1) {return;} const u=d.position.parent; if (u.is("element","codeBlock")) {return;} if (u.is("element","listItem")&&typeof o!=="function"&&!["numberedList","bulletedList","todoList"].includes(o)) {return;} if (r&&r.value===true) {return;} const h=u.getChild(0); const g=t.model.createRangeOn(h); if (!g.containsRange(c)&&!c.end.isEqual(g.end)) {return;} const f=n.exec(h.data.substr(0,c.end.offset)); if (!f) {return;}t.model.enqueueChange((e => {const n=e.createPositionAt(u,0); const o=e.createPositionAt(u,f[0].length); const r=new lp(n,o); const s=i({match: f}); if (s!==false) {e.remove(r); const n=t.model.document.selection.getFirstRange(); const o=e.createRangeIn(u); if (u.isEmpty&&!o.isEqual(n)&&!o.containsRange(n,true)) {e.remove(u);}}r.detach(); t.model.enqueueChange((() => {const e=t.plugins.get("Delete"); e.requestUndoOnBackspace();}));}));}));} function CP(t,e,n,o) {let i; let r; if (n instanceof RegExp) {i=n;} else {r=n;}r=r||(t => {let e; const n=[]; const o=[]; while ((e=i.exec(t))!==null) {if (e&&e.length<4) {break;} let {index: t,1: i,2: r,3: s}=e; const a=i+r+s; t+=e[0].length-a.length; const c=[t,t+i.length]; const l=[t+i.length+r.length,t+i.length+r.length+s.length]; n.push(c); n.push(l); o.push([t+i.length,t+i.length+r.length]);} return {remove: n,format: o};}); t.model.document.on("change:data",((n,i) => {if (i.isUndo||!i.isLocal||!e.isEnabled) {return;} const s=t.model; const a=s.document.selection; if (!a.isCollapsed) {return;} const c=Array.from(s.document.differ.getChanges()); const l=c[0]; if (c.length!=1||l.type!=="insert"||l.name!="$text"||l.length!=1) {return;} const d=a.focus; const u=d.parent; const {text: h,range: g}=vP(s.createRange(s.createPositionAt(u,0),d),s); const f=r(h); const m=AP(g.start,f.format,s); const p=AP(g.start,f.remove,s); if (!(m.length&&p.length)) {return;}s.enqueueChange((e => {const n=o(e,m); if (n===false) {return;} for (const t of p.reverse()) {e.remove(t);}s.enqueueChange((() => {const e=t.plugins.get("Delete"); e.requestUndoOnBackspace();}));}));}));} function AP(t,e,n) {return e.filter((t => t[0]!==undefined&&t[1]!==undefined)).map((e => n.createRange(t.getShiftedBy(e[0]),t.getShiftedBy(e[1]))));} function vP(t,e) {let n=t.start; const o=Array.from(t.getItems()).reduce(((t,o) => {if (!(o.is("$text")||o.is("$textProxy"))||o.getAttribute("code")) {n=e.createPositionAfter(o); return "";} return t+o.data;}),""); return {text: o,range: e.createRange(n,t.end)};} class yP extends Ad {static get requires() {return [JI];} static get pluginName() {return "Autoformat";}afterInit() {const t=this.editor; const e=this.editor.t; this._addListAutoformats(); this._addBasicStylesAutoformats(); this._addHeadingAutoformats(); this._addBlockQuoteAutoformats(); this._addCodeBlockAutoformats(); this._addHorizontalLineAutoformats(); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Revert autoformatting action"),keystroke: "Backspace"}]});}_addListAutoformats() {const t=this.editor.commands; if (t.get("bulletedList")) {_P(this.editor,this,/^[*-]\s$/,"bulletedList");} if (t.get("numberedList")) {_P(this.editor,this,/^1[.|)]\s$/,"numberedList");} if (t.get("todoList")) {_P(this.editor,this,/^\[\s?\]\s$/,"todoList");} if (t.get("checkTodoList")) {_P(this.editor,this,/^\[\s?x\s?\]\s$/,(() => {this.editor.execute("todoList"); this.editor.execute("checkTodoList");}));}}_addBasicStylesAutoformats() {const t=this.editor.commands; if (t.get("bold")) {const t=xP(this.editor,"bold"); CP(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,t); CP(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,t);} if (t.get("italic")) {const t=xP(this.editor,"italic"); CP(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,t); CP(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,t);} if (t.get("code")) {const t=xP(this.editor,"code"); CP(this.editor,this,/(`)([^`]+)(`)$/g,t);} if (t.get("strikethrough")) {const t=xP(this.editor,"strikethrough"); CP(this.editor,this,/(~~)([^~]+)(~~)$/g,t);}}_addHeadingAutoformats() {const t=this.editor.commands.get("heading"); if (t) {t.modelElements.filter((t => t.match(/^heading[1-6]$/))).forEach((e => {const n=e[7]; const o=new RegExp(`^(#{${n}})\\s$`); _P(this.editor,this,o,(() => {if (!t.isEnabled||t.value===e) {return false;} this.editor.execute("heading",{value: e});}));}));}}_addBlockQuoteAutoformats() {if (this.editor.commands.get("blockQuote")) {_P(this.editor,this,/^>\s$/,"blockQuote");}}_addCodeBlockAutoformats() {const t=this.editor; const e=t.model.document.selection; if (t.commands.get("codeBlock")) {_P(t,this,/^```$/,(() => {if (e.getFirstPosition().parent.is("element","listItem")) {return false;} this.editor.execute("codeBlock",{usePreviousLanguageChoice: true});}));}}_addHorizontalLineAutoformats() {if (this.editor.commands.get("horizontalLine")) {_P(this.editor,this,/^---$/,"horizontalLine");}}} function xP(t,e) {return (n,o) => {const i=t.commands.get(e); if (!i.isEnabled) {return false;} const r=t.model.schema.getValidRanges(o,e); for (const t of r) {n.setAttribute(e,true,t);}n.removeSelectionAttribute(e);};} class EP extends Ad {static get pluginName() {return "Autosave";} static get requires() {return [lC];}constructor(t) {super(t); this._action=null; const e=t.config.get("autosave")||{}; const n=e.waitingTime||1e3; this.set("state","synchronized"); this._debouncedSave=mf(this._save.bind(this),n); this._lastDocumentVersion=t.model.document.version; this._savePromise=null; this._domEmitter=new (Ya()); this._config=e; this._pendingActions=t.plugins.get(lC); this._makeImmediateSave=false;}init() {const t=this.editor; const e=t.model.document; this.listenTo(t,"ready",(() => {this.listenTo(e,"change:data",((t,e) => {if (!this._saveCallbacks.length) {return;} if (!e.isLocal) {return;} if (this.state==="synchronized") {this.state="waiting"; this._setPendingAction();} if (this.state==="waiting") {this._debouncedSave();}}));})); this.listenTo(t,"destroy",(() => this._flush()),{priority: "highest"}); this._domEmitter.listenTo(window,"beforeunload",((t,e) => {if (this._pendingActions.hasAny) {e.returnValue=this._pendingActions.first.message;}}));}destroy() {this._domEmitter.stopListening(); super.destroy();}save() {this._debouncedSave.cancel(); return this._save();}_flush() {this._debouncedSave.flush();}_save() {if (this._savePromise) {this._makeImmediateSave=this.editor.model.document.version>this._lastDocumentVersion; return this._savePromise;} this._setPendingAction(); this.state="saving"; this._lastDocumentVersion=this.editor.model.document.version; this._savePromise=Promise.resolve().then((() => Promise.all(this._saveCallbacks.map((t => t(this.editor)))))).finally((() => {this._savePromise=null;})).then((() => {if (this._makeImmediateSave) {this._makeImmediateSave=false; return this._save();} if (this.editor.model.document.version>this._lastDocumentVersion) {this.state="waiting"; this._debouncedSave();} else {this.state="synchronized"; this._pendingActions.remove(this._action); this._action=null;}})).catch((t => {this.state="error"; this.state="saving"; this._debouncedSave(); throw t;})); return this._savePromise;}_setPendingAction() {const t=this.editor.t; if (!this._action) {this._action=this._pendingActions.add(t("Saving changes"));}} get _saveCallbacks() {const t=[]; if (this.adapter&&this.adapter.save) {t.push(this.adapter.save);} if (this._config.save) {t.push(this._config.save);} return t;}} class DP extends yd {constructor(t,e) {super(t); this.attributeKey=e;}refresh() {const t=this.editor.model; const e=t.document; this.value=this._getValueFromFirstAllowedNode(); this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey);}execute(t={}) {const e=this.editor.model; const n=e.document; const o=n.selection; const i=t.forceValue===undefined?!this.value:t.forceValue; e.change((t => {if (o.isCollapsed) {if (i) {t.setSelectionAttribute(this.attributeKey,true);} else {t.removeSelectionAttribute(this.attributeKey);}} else {const n=e.schema.getValidRanges(o.getRanges(),this.attributeKey); for (const e of n) {if (i) {t.setAttribute(this.attributeKey,i,e);} else {t.removeAttribute(this.attributeKey,e);}}}}));}_getValueFromFirstAllowedNode() {const t=this.editor.model; const e=t.schema; const n=t.document.selection; if (n.isCollapsed) {return n.hasAttribute(this.attributeKey);} for (const t of n.getRanges()) {for (const n of t.getItems()) {if (e.checkAttribute(n,this.attributeKey)) {return n.hasAttribute(this.attributeKey);}}} return false;}} const BP="bold"; class TP extends Ad {static get pluginName() {return "BoldEditing";}init() {const t=this.editor; const e=this.editor.t; t.model.schema.extend("$text",{allowAttributes: BP}); t.model.schema.setAttributeProperties(BP,{isFormatting: true,copyOnEnter: true}); t.conversion.attributeToElement({model: BP,view: "strong",upcastAlso: ["b",t => {const e=t.getStyle("font-weight"); if (!e) {return null;} if (e=="bold"||Number(e)>=600) {return {name: true,styles: ["font-weight"]};} return null;}]}); t.commands.add(BP,new DP(t,BP)); t.keystrokes.set("CTRL+B",BP); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Bold text"),keystroke: "CTRL+B"}]});}} function SP({editor: t,commandName: e,plugin: n,icon: o,label: i,keystroke: r}) {return s => {const a=t.commands.get(e); const c=new s(t.locale); c.set({label: i,icon: o,keystroke: r,isToggleable: true}); c.bind("isEnabled").to(a,"isEnabled"); n.listenTo(c,"execute",(() => {t.execute(e); t.editing.view.focus();})); return c;};} const IP="bold"; class PP extends Ad {static get pluginName() {return "BoldUI";}init() {const t=this.editor; const e=t.locale.t; const n=t.commands.get(IP); const o=SP({editor: t,commandName: IP,plugin: this,icon: bA.bold,label: e("Bold"),keystroke: "CTRL+B"}); t.ui.componentFactory.add(IP,(() => {const t=o(Ev); t.set({tooltip: true}); t.bind("isOn").to(n,"value"); return t;})); t.ui.componentFactory.add(`menuBar:${IP}`,(() => o(HS)));}} class RP extends Ad {static get requires() {return [TP,PP];} static get pluginName() {return "Bold";}} const VP="code"; const MP="ck-code_selected"; class FP extends Ad {static get pluginName() {return "CodeEditing";} static get requires() {return [tP];}init() {const t=this.editor; const e=this.editor.t; t.model.schema.extend("$text",{allowAttributes: VP}); t.model.schema.setAttributeProperties(VP,{isFormatting: true,copyOnEnter: false}); t.conversion.attributeToElement({model: VP,view: "code",upcastAlso: {styles: {"word-wrap": "break-word"}}}); t.commands.add(VP,new DP(t,VP)); t.plugins.get(tP).registerAttribute(VP); wP(t,VP,"code",MP); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Move out of an inline code style"),keystroke: [["arrowleft","arrowleft"],["arrowright","arrowright"]]}]});}} const OP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>'; const zP=n(2165); const NP={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; NP.insert="head"; NP.singleton=true; const LP=Id()(zP.A,NP); const HP=zP.A.locals||{}; const jP="code"; class WP extends Ad {static get pluginName() {return "CodeUI";}init() {const t=this.editor; const e=t.locale.t; const n=SP({editor: t,commandName: jP,plugin: this,icon: OP,label: e("Code")}); t.ui.componentFactory.add(jP,(() => {const e=n(Ev); const o=t.commands.get(jP); e.set({tooltip: true}); e.bind("isOn").to(o,"value"); return e;})); t.ui.componentFactory.add(`menuBar:${jP}`,(() => n(HS)));}} class qP extends Ad {static get requires() {return [FP,WP];} static get pluginName() {return "Code";}} const UP="italic"; class $P extends Ad {static get pluginName() {return "ItalicEditing";}init() {const t=this.editor; const e=this.editor.t; t.model.schema.extend("$text",{allowAttributes: UP}); t.model.schema.setAttributeProperties(UP,{isFormatting: true,copyOnEnter: true}); t.conversion.attributeToElement({model: UP,view: "i",upcastAlso: ["em",{styles: {"font-style": "italic"}}]}); t.commands.add(UP,new DP(t,UP)); t.keystrokes.set("CTRL+I",UP); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Italic text"),keystroke: "CTRL+I"}]});}} const GP='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>'; const KP="italic"; class ZP extends Ad {static get pluginName() {return "ItalicUI";}init() {const t=this.editor; const e=t.commands.get(KP); const n=t.locale.t; const o=SP({editor: t,commandName: KP,plugin: this,icon: GP,keystroke: "CTRL+I",label: n("Italic")}); t.ui.componentFactory.add(KP,(() => {const t=o(Ev); t.set({tooltip: true}); t.bind("isOn").to(e,"value"); return t;})); t.ui.componentFactory.add(`menuBar:${KP}`,(() => o(HS)));}} class JP extends Ad {static get requires() {return [$P,ZP];} static get pluginName() {return "Italic";}} const YP="strikethrough"; class QP extends (null&&Plugin) {static get pluginName() {return "StrikethroughEditing";}init() {const t=this.editor; const e=this.editor.t; t.model.schema.extend("$text",{allowAttributes: YP}); t.model.schema.setAttributeProperties(YP,{isFormatting: true,copyOnEnter: true}); t.conversion.attributeToElement({model: YP,view: "s",upcastAlso: ["del","strike",{styles: {"text-decoration": "line-through"}}]}); t.commands.add(YP,new AttributeCommand(t,YP)); t.keystrokes.set("CTRL+SHIFT+X","strikethrough"); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Strikethrough text"),keystroke: "CTRL+SHIFT+X"}]});}} const XP="strikethrough"; class tR extends (null&&Plugin) {static get pluginName() {return "StrikethroughUI";}init() {const t=this.editor; const e=t.locale.t; const n=getButtonCreator({editor: t,commandName: XP,plugin: this,icon: strikethroughIcon,keystroke: "CTRL+SHIFT+X",label: e("Strikethrough")}); t.ui.componentFactory.add(XP,(() => {const e=n(ButtonView); const o=t.commands.get(XP); e.set({tooltip: true}); e.bind("isOn").to(o,"value"); return e;})); t.ui.componentFactory.add(`menuBar:${XP}`,(() => n(MenuBarMenuListItemButtonView)));}} class eR extends (null&&Plugin) {static get requires() {return [StrikethroughEditing,StrikethroughUI];} static get pluginName() {return "Strikethrough";}} const nR="subscript"; class oR extends (null&&Plugin) {static get pluginName() {return "SubscriptEditing";}init() {const t=this.editor; t.model.schema.extend("$text",{allowAttributes: nR}); t.model.schema.setAttributeProperties(nR,{isFormatting: true,copyOnEnter: true}); t.conversion.attributeToElement({model: nR,view: "sub",upcastAlso: [{styles: {"vertical-align": "sub"}}]}); t.commands.add(nR,new AttributeCommand(t,nR));}} const iR="subscript"; class rR extends (null&&Plugin) {static get pluginName() {return "SubscriptUI";}init() {const t=this.editor; const e=t.locale.t; const n=getButtonCreator({editor: t,commandName: iR,plugin: this,icon: subscriptIcon,label: e("Subscript")}); t.ui.componentFactory.add(iR,(() => {const e=n(ButtonView); const o=t.commands.get(iR); e.set({tooltip: true}); e.bind("isOn").to(o,"value"); return e;})); t.ui.componentFactory.add(`menuBar:${iR}`,(() => n(MenuBarMenuListItemButtonView)));}} class sR extends (null&&Plugin) {static get requires() {return [SubscriptEditing,SubscriptUI];} static get pluginName() {return "Subscript";}} const aR="superscript"; class cR extends (null&&Plugin) {static get pluginName() {return "SuperscriptEditing";}init() {const t=this.editor; t.model.schema.extend("$text",{allowAttributes: aR}); t.model.schema.setAttributeProperties(aR,{isFormatting: true,copyOnEnter: true}); t.conversion.attributeToElement({model: aR,view: "sup",upcastAlso: [{styles: {"vertical-align": "super"}}]}); t.commands.add(aR,new AttributeCommand(t,aR));}} const lR="superscript"; class dR extends (null&&Plugin) {static get pluginName() {return "SuperscriptUI";}init() {const t=this.editor; const e=t.locale.t; const n=getButtonCreator({editor: t,commandName: lR,plugin: this,icon: superscriptIcon,label: e("Superscript")}); t.ui.componentFactory.add(lR,(() => {const e=n(ButtonView); const o=t.commands.get(lR); e.set({tooltip: true}); e.bind("isOn").to(o,"value"); return e;})); t.ui.componentFactory.add(`menuBar:${lR}`,(() => n(MenuBarMenuListItemButtonView)));}} class uR extends (null&&Plugin) {static get requires() {return [SuperscriptEditing,SuperscriptUI];} static get pluginName() {return "Superscript";}} const hR="underline"; class gR extends Ad {static get pluginName() {return "UnderlineEditing";}init() {const t=this.editor; const e=this.editor.t; t.model.schema.extend("$text",{allowAttributes: hR}); t.model.schema.setAttributeProperties(hR,{isFormatting: true,copyOnEnter: true}); t.conversion.attributeToElement({model: hR,view: "u",upcastAlso: {styles: {"text-decoration": "underline"}}}); t.commands.add(hR,new DP(t,hR)); t.keystrokes.set("CTRL+U","underline"); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Underline text"),keystroke: "CTRL+U"}]});}} const fR='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 18v-1.5h14V18zm2.2-8V3.6c0-.4.4-.6.8-.6.3 0 .7.2.7.6v6.2c0 2 1.3 2.8 3.2 2.8 1.9 0 3.4-.9 3.4-2.9V3.6c0-.3.4-.5.8-.5.3 0 .7.2.7.5V10c0 2.7-2.2 4-4.9 4-2.6 0-4.7-1.2-4.7-4z"/></svg>'; const mR="underline"; class pR extends Ad {static get pluginName() {return "UnderlineUI";}init() {const t=this.editor; const e=t.commands.get(mR); const n=t.locale.t; const o=SP({editor: t,commandName: mR,plugin: this,icon: fR,label: n("Underline"),keystroke: "CTRL+U"}); t.ui.componentFactory.add(mR,(() => {const t=o(Ev); t.set({tooltip: true}); t.bind("isOn").to(e,"value"); return t;})); t.ui.componentFactory.add(`menuBar:${mR}`,(() => o(HS)));}} class kR extends Ad {static get requires() {return [gR,pR];} static get pluginName() {return "Underline";}} const bR={autoRefresh: true}; const wR=36e5; class _R extends (gt()) {constructor(t,e={}) {super(); if (!t) {throw new V("token-missing-token-url",this);} if (e.initValue) {this._validateTokenValue(e.initValue);} this.set("value",e.initValue); if (typeof t==="function") {this._refresh=t;} else {this._refresh=() => CR(t);} this._options={...bR,...e};}init() {return new Promise(((t,e) => {if (!this.value) {this.refreshToken().then(t).catch(e); return;} if (this._options.autoRefresh) {this._registerRefreshTokenTimeout();}t(this);}));}refreshToken() {return this._refresh().then((t => {this._validateTokenValue(t); this.set("value",t); if (this._options.autoRefresh) {this._registerRefreshTokenTimeout();} return this;}));}destroy() {clearTimeout(this._tokenRefreshTimeout);}_validateTokenValue(t) {const e=typeof t==="string"; const n=!(/^".*"$/).test(t); const o=e&&t.split(".").length===3; if (!(n&&o)) {throw new V("token-not-in-jwt-format",this);}}_registerRefreshTokenTimeout() {const t=this._getTokenRefreshTimeoutTime(); clearTimeout(this._tokenRefreshTimeout); this._tokenRefreshTimeout=setTimeout((() => {this.refreshToken();}),t);}_getTokenRefreshTimeoutTime() {try {const [,t]=this.value.split("."); const {exp: e}=JSON.parse(atob(t)); if (!e) {return wR;} const n=Math.floor((e*1e3-Date.now())/2); return n;} catch (t) {return wR;}} static create(t,e={}) {const n=new _R(t,e); return n.init();}} function CR(t) {return new Promise(((e,n) => {const o=new XMLHttpRequest; o.open("GET",t); o.addEventListener("load",(() => {const t=o.status; const i=o.response; if (t<200||t>299) {return n(new V("token-cannot-download-new-token",null));} return e(i);})); o.addEventListener("error",(() => n(new Error("Network Error")))); o.addEventListener("abort",(() => n(new Error("Abort")))); o.send();}));} const AR=/^data:(\S*?);base64,/; class vR extends (G()) {constructor(t,e,n) {super(); if (!t) {throw new V("fileuploader-missing-file",null);} if (!e) {throw new V("fileuploader-missing-token",null);} if (!n) {throw new V("fileuploader-missing-api-address",null);} this.file=xR(t)?yR(t):t; this._token=e; this._apiAddress=n;}onProgress(t) {this.on("progress",((e,n) => t(n))); return this;}onError(t) {this.once("error",((e,n) => t(n))); return this;}abort() {this.xhr.abort();}send() {this._prepareRequest(); this._attachXHRListeners(); return this._sendRequest();}_prepareRequest() {const t=new XMLHttpRequest; t.open("POST",this._apiAddress); t.setRequestHeader("Authorization",this._token.value); t.responseType="json"; this.xhr=t;}_attachXHRListeners() {const t=this.xhr; const e=t => () => this.fire("error",t); t.addEventListener("error",e("Network Error")); t.addEventListener("abort",e("Abort")); if (t.upload) {t.upload.addEventListener("progress",(t => {if (t.lengthComputable) {this.fire("progress",{total: t.total,uploaded: t.loaded});}}));}t.addEventListener("load",(() => {const e=t.status; const n=t.response; if (e<200||e>299) {return this.fire("error",n.message||n.error);}}));}_sendRequest() {const t=new FormData; const e=this.xhr; t.append("file",this.file); return new Promise(((n,o) => {e.addEventListener("load",(() => {const t=e.status; const i=e.response; if (t<200||t>299) {if (i.message) {return o(new V("fileuploader-uploading-data-failed",this,{message: i.message}));} return o(i.error);} return n(i);})); e.addEventListener("error",(() => o(new Error("Network Error")))); e.addEventListener("abort",(() => o(new Error("Abort")))); e.send(t);}));}} function yR(t,e=512) {try {const n=t.match(AR)[1]; const o=atob(t.replace(AR,"")); const i=[]; for (let t=0; t<o.length; t+=e) {const n=o.slice(t,t+e); const r=new Array(n.length); for (let t=0; t<n.length; t++) {r[t]=n.charCodeAt(t);}i.push(new Uint8Array(r));} return new Blob(i,{type: n});} catch (t) {throw new V("fileuploader-decoding-image-data-error",null);}} function xR(t) {if (typeof t!=="string") {return false;} const e=t.match(AR); return !!(e&&e.length);} class ER {constructor(t,e) {if (!t) {throw new V("uploadgateway-missing-token",null);} if (!e) {throw new V("uploadgateway-missing-api-address",null);} this._token=t; this._apiAddress=e;}upload(t) {return new vR(t,this._token,this._apiAddress);}} class DR extends Td {static get pluginName() {return "CloudServicesCore";}createToken(t,e) {return new _R(t,e);}createUploadGateway(t,e) {return new ER(t,e);}} class BR extends Td {constructor() {super(...arguments); this.token=null; this._tokens=new Map;} static get pluginName() {return "CloudServices";} static get requires() {return [DR];} async init() {const t=this.context.config; const e=t.get("cloudServices")||{}; for (const [t,n] of Object.entries(e)) {this[t]=n;} if (!this.tokenUrl) {this.token=null; return;} const n=this.context.plugins.get("CloudServicesCore"); this.token=await n.createToken(this.tokenUrl).init(); this._tokens.set(this.tokenUrl,this.token);} async registerTokenUrl(t) {if (this._tokens.has(t)) {return this.getTokenFor(t);} const e=this.context.plugins.get("CloudServicesCore"); const n=await e.createToken(t).init(); this._tokens.set(t,n); return n;}getTokenFor(t) {const e=this._tokens.get(t); if (!e) {throw new V("cloudservices-token-not-registered",this);} return e;}destroy() {super.destroy(); for (const t of this._tokens.values()) {t.destroy();}}} function*TR(t,e) {for (const n of e) {if (n&&t.getAttributeProperties(n[0]).copyOnEnter) {yield n;}}} class SR extends yd {execute() {this.editor.model.change((t => {this.enterBlock(t); this.fire("afterExecute",{writer: t});}));}enterBlock(t) {const e=this.editor.model; const n=e.document.selection; const o=e.schema; const i=n.isCollapsed; const r=n.getFirstRange(); const s=r.start.parent; const a=r.end.parent; if (o.isLimit(s)||o.isLimit(a)) {if (!i&&s==a) {e.deleteContent(n);} return false;} if (i) {const e=TR(t.model.schema,n.getAttributes()); IR(t,r.start); t.setSelectionAttribute(e); return true;} else {const o=!(r.start.isAtStart&&r.end.isAtEnd); const i=s==a; e.deleteContent(n,{leaveUnmerged: o}); if (o) {if (i) {IR(t,n.focus); return true;}t.setSelection(a,0);}} return false;}} function IR(t,e) {t.split(e); t.setSelection(e.parent.nextSibling,0);} const PR={insertParagraph: {isSoft: false},insertLineBreak: {isSoft: true}}; class RR extends Wg {constructor(t) {super(t); const e=this.document; let n=false; e.on("keydown",((t,e) => {n=e.shiftKey;})); e.on("beforeinput",((o,i) => {if (!this.isEnabled) {return;} let r=i.inputType; if (l.isSafari&&n&&r=="insertParagraph") {r="insertLineBreak";} const s=i.domEvent; const a=PR[r]; if (!a) {return;} const c=new xh(e,"enter",i.targetRanges[0]); e.fire(c,new $g(t,s,{isSoft: a.isSoft})); if (c.stop.called) {o.stop();}}));}observe() {}stopObserving() {}} class VR extends Ad {static get pluginName() {return "Enter";}init() {const t=this.editor; const e=t.editing.view; const n=e.document; const o=this.editor.t; e.addObserver(RR); t.commands.add("enter",new SR(t)); this.listenTo(n,"enter",((o,i) => {if (!n.isComposing) {i.preventDefault();} if (i.isSoft) {return;}t.execute("enter"); e.scrollToTheSelection();}),{priority: "low"}); t.accessibility.addKeystrokeInfos({keystrokes: [{label: o("Insert a hard break (a new paragraph)"),keystroke: "Enter"}]});}} class MR extends yd {execute() {const t=this.editor.model; const e=t.document; t.change((n => {OR(t,n,e.selection); this.fire("afterExecute",{writer: n});}));}refresh() {const t=this.editor.model; const e=t.document; this.isEnabled=FR(t.schema,e.selection);}} function FR(t,e) {if (e.rangeCount>1) {return false;} const n=e.anchor; if (!n||!t.checkChild(n,"softBreak")) {return false;} const o=e.getFirstRange(); const i=o.start.parent; const r=o.end.parent; if ((NR(i,t)||NR(r,t))&&i!==r) {return false;} return true;} function OR(t,e,n) {const o=n.isCollapsed; const i=n.getFirstRange(); const r=i.start.parent; const s=i.end.parent; const a=r==s; if (o) {const o=TR(t.schema,n.getAttributes()); zR(t,e,i.end); e.removeSelectionAttribute(n.getAttributeKeys()); e.setSelectionAttribute(o);} else {const o=!(i.start.isAtStart&&i.end.isAtEnd); t.deleteContent(n,{leaveUnmerged: o}); if (a) {zR(t,e,n.focus);} else if (o) {e.setSelection(s,0);}}} function zR(t,e,n) {const o=e.createElement("softBreak"); t.insertContent(o,n); e.setSelection(o,"after");} function NR(t,e) {if (t.is("rootElement")) {return false;} return e.isLimit(t)||NR(t.parent,e);} class LR extends Ad {static get pluginName() {return "ShiftEnter";}init() {const t=this.editor; const e=t.model.schema; const n=t.conversion; const o=t.editing.view; const i=o.document; const r=this.editor.t; e.register("softBreak",{allowWhere: "$text",isInline: true}); n.for("upcast").elementToElement({model: "softBreak",view: "br"}); n.for("downcast").elementToElement({model: "softBreak",view: (t,{writer: e}) => e.createEmptyElement("br")}); o.addObserver(RR); t.commands.add("shiftEnter",new MR(t)); this.listenTo(i,"enter",((e,n) => {if (!i.isComposing) {n.preventDefault();} if (!n.isSoft) {return;}t.execute("shiftEnter"); o.scrollToTheSelection();}),{priority: "low"}); t.accessibility.addKeystrokeInfos({keystrokes: [{label: r("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke: "Shift+Enter"}]});}} function HR(t) {const e=t.t; const n=t.config.get("codeBlock.languages"); for (const t of n) {if (t.label==="Plain text") {t.label=e("Plain text");} if (t.class===undefined) {t.class=`language-${t.language}`;}} return n;} function jR(t,e,n) {const o={}; for (const i of t) {if (e==="class") {const t=i[e].split(" ").shift(); o[t]=i[n];} else {o[i[e]]=i[n];}} return o;} function WR(t) {return t.data.match(/^(\s*)/)[0];} function qR(t,e) {const n=t.createDocumentFragment(); const o=e.split("\n"); const i=o.reduce(((e,n,i) => {e.push(n); if (i<o.length-1) {e.push(t.createElement("br"));} return e;}),[]); t.appendChild(i,n); return n;} function UR(t) {const e=t.document.selection; const n=[]; if (e.isCollapsed) {return [e.anchor];} const o=e.getFirstRange().getWalker({ignoreElementEnd: true,direction: "backward"}); for (const {item: e} of o) {if (!e.is("$textProxy")) {continue;} const {parent: o,startOffset: i}=e.textNode; if (!o.is("element","codeBlock")) {continue;} const r=WR(e.textNode); const s=t.createPositionAt(o,i+r.length); n.push(s);} return n;} function $R(t) {const e=rd(t.getSelectedBlocks()); return !!e&&e.is("element","codeBlock");} function GR(t,e) {if (e.is("rootElement")||t.isLimit(e)) {return false;} return t.checkChild(e.parent,"codeBlock");} class KR extends yd {constructor(t) {super(t); this._lastLanguage=null;}refresh() {this.value=this._getValue(); this.isEnabled=this._checkEnabled();}execute(t={}) {const e=this.editor; const n=e.model; const o=n.document.selection; const i=HR(e); const r=i[0]; const s=Array.from(o.getSelectedBlocks()); const a=t.forceValue==undefined?!this.value:t.forceValue; const c=ZR(t,this._lastLanguage,r.language); n.change((t => {if (a) {this._applyCodeBlock(t,s,c);} else {this._removeCodeBlock(t,s);}}));}_getValue() {const t=this.editor.model.document.selection; const e=rd(t.getSelectedBlocks()); const n=!!(e&&e.is("element","codeBlock")); return n?e.getAttribute("language"):false;}_checkEnabled() {if (this.value) {return true;} const t=this.editor.model.document.selection; const e=this.editor.model.schema; const n=rd(t.getSelectedBlocks()); if (!n) {return false;} return GR(e,n);}_applyCodeBlock(t,e,n) {this._lastLanguage=n; const o=this.editor.model.schema; const i=e.filter((t => GR(o,t))); for (const e of i) {t.rename(e,"codeBlock"); t.setAttribute("language",n,e); o.removeDisallowedAttributes([e],t); Array.from(e.getChildren()).filter((t => !o.checkChild(e,t))).forEach((e => t.remove(e)));}i.reverse().forEach(((e,n) => {const o=i[n+1]; if (e.previousSibling===o) {t.appendElement("softBreak",o); t.merge(t.createPositionBefore(e));}}));}_removeCodeBlock(t,e) {const n=e.filter((t => t.is("element","codeBlock"))); for (const e of n) {const n=t.createRangeOn(e); for (const e of Array.from(n.getItems()).reverse()) {if (e.is("element","softBreak")&&e.parent.is("element","codeBlock")) {const {position: n}=t.split(t.createPositionBefore(e)); const o=n.nodeAfter; t.rename(o,"paragraph"); t.removeAttribute("language",o); t.remove(e);}}t.rename(e,"paragraph"); t.removeAttribute("language",e);}}} function ZR(t,e,n) {if (t.language) {return t.language;} if (t.usePreviousLanguageChoice&&e) {return e;} return n;} class JR extends yd {constructor(t) {super(t); this._indentSequence=t.config.get("codeBlock.indentSequence");}refresh() {this.isEnabled=this._checkEnabled();}execute() {const t=this.editor; const e=t.model; e.change((t => {const n=UR(e); for (const o of n) {const n=t.createText(this._indentSequence); e.insertContent(n,o);}}));}_checkEnabled() {if (!this._indentSequence) {return false;} return $R(this.editor.model.document.selection);}} class YR extends yd {constructor(t) {super(t); this._indentSequence=t.config.get("codeBlock.indentSequence");}refresh() {this.isEnabled=this._checkEnabled();}execute() {const t=this.editor; const e=t.model; e.change((() => {const t=UR(e); for (const n of t) {const t=QR(e,n,this._indentSequence); if (t) {e.deleteContent(e.createSelection(t));}}}));}_checkEnabled() {if (!this._indentSequence) {return false;} const t=this.editor.model; if (!$R(t.document.selection)) {return false;} return UR(t).some((e => QR(t,e,this._indentSequence)));}} function QR(t,e,n) {const o=XR(e); if (!o) {return null;} const i=WR(o); const r=i.lastIndexOf(n); if (r+n.length!==i.length) {return null;} if (r===-1) {return null;} const {parent: s,startOffset: a}=o; return t.createRange(t.createPositionAt(s,a+r),t.createPositionAt(s,a+r+n.length));} function XR(t) {let e=t.parent.getChild(t.index); if (!e||e.is("element","softBreak")) {e=t.nodeBefore;} if (!e||e.is("element","softBreak")) {return null;} return e;} function tV(t,e,n=false) {const o=jR(e,"language","class"); const i=jR(e,"language","label"); return (e,r,s) => {const {writer: a,mapper: c,consumable: l}=s; if (!l.consume(r.item,"insert")) {return;} const d=r.item.getAttribute("language"); const u=c.toViewPosition(t.createPositionBefore(r.item)); const h={}; if (n) {h["data-language"]=i[d]; h.spellcheck="false";} const g=o[d]?{class: o[d]}:undefined; const f=a.createContainerElement("code",g); const m=a.createContainerElement("pre",h,f); a.insert(u,m); c.bindElements(r.item,f);};} function eV(t) {return (e,n,o) => {if (n.item.parent.name!=="codeBlock") {return;} const {writer: i,mapper: r,consumable: s}=o; if (!s.consume(n.item,"insert")) {return;} const a=r.toViewPosition(t.createPositionBefore(n.item)); i.insert(a,i.createText("\n"));};} function nV(t,e) {const n=jR(e,"class","language"); const o=e[0].language; return (t,e,i) => {const r=e.viewItem; const s=r.parent; if (!s||!s.is("element","pre")) {return;} if (e.modelCursor.findAncestor("codeBlock")) {return;} const {consumable: a,writer: c}=i; if (!a.test(r,{name: true})) {return;} const l=c.createElement("codeBlock"); const d=[...r.getClassNames()]; if (!d.length) {d.push("");} for (const t of d) {const e=n[t]; if (e) {c.setAttribute("language",e,l); break;}} if (!l.hasAttribute("language")) {c.setAttribute("language",o,l);}i.convertChildren(r,l); if (!i.safeInsert(l,e.modelCursor)) {return;}a.consume(r,{name: true}); i.updateConversionResult(l,e);};} function oV() {return (t,e,{consumable: n,writer: o}) => {let i=e.modelCursor; if (!n.test(e.viewItem)) {return;} if (!i.findAncestor("codeBlock")) {return;}n.consume(e.viewItem); const r=e.viewItem.data; const s=r.split("\n").map((t => o.createText(t))); const a=s[s.length-1]; for (const t of s) {o.insert(t,i); i=i.getShiftedBy(t.offsetSize); if (t!==a) {const t=o.createElement("softBreak"); o.insert(t,i); i=o.createPositionAfter(t);}}e.modelRange=o.createRange(e.modelCursor,i); e.modelCursor=i;};} function iV() {return (t,e,{consumable: n}) => {const o=e.viewItem; if (o.findAncestor("pre")) {return;} const i=Array.from(o.getChildren()); const r=i.find((t => t.is("element","code"))); if (!r) {return;} for (const t of i) {if (t===r||!t.is("$text")) {continue;}n.consume(t,{name: true});}};} const rV="paragraph"; class sV extends Ad {static get pluginName() {return "CodeBlockEditing";} static get requires() {return [LR];}constructor(t) {super(t); t.config.define("codeBlock",{languages: [{language: "plaintext",label: "Plain text"},{language: "c",label: "C"},{language: "cs",label: "C#"},{language: "cpp",label: "C++"},{language: "css",label: "CSS"},{language: "diff",label: "Diff"},{language: "html",label: "HTML"},{language: "java",label: "Java"},{language: "javascript",label: "JavaScript"},{language: "php",label: "PHP"},{language: "python",label: "Python"},{language: "ruby",label: "Ruby"},{language: "typescript",label: "TypeScript"},{language: "xml",label: "XML"}],indentSequence: "\t"});}init() {const t=this.editor; const e=t.model.schema; const n=t.model; const o=t.editing.view; const i=t.plugins.has("ListEditing")?t.plugins.get("ListEditing"):null; const r=HR(t); t.commands.add("codeBlock",new KR(t)); t.commands.add("indentCodeBlock",new JR(t)); t.commands.add("outdentCodeBlock",new YR(t)); this.listenTo(o.document,"tab",((e,n) => {const o=n.shiftKey?"outdentCodeBlock":"indentCodeBlock"; const i=t.commands.get(o); if (!i.isEnabled) {return;}t.execute(o); n.stopPropagation(); n.preventDefault(); e.stop();}),{context: "pre"}); e.register("codeBlock",{allowWhere: "$block",allowChildren: "$text",isBlock: true,allowAttributes: ["language"]}); e.addAttributeCheck(((t,e) => {if (t.endsWith("codeBlock")&&i&&i.getListAttributeNames().includes(e)) {return true;} if (t.endsWith("codeBlock $text")) {return false;}})); t.model.schema.addChildCheck(((t,e) => {if (t.endsWith("codeBlock")&&e.isObject) {return false;}})); t.editing.downcastDispatcher.on("insert:codeBlock",tV(n,r,true)); t.data.downcastDispatcher.on("insert:codeBlock",tV(n,r)); t.data.downcastDispatcher.on("insert:softBreak",eV(n),{priority: "high"}); t.data.upcastDispatcher.on("element:code",nV(o,r)); t.data.upcastDispatcher.on("text",oV()); t.data.upcastDispatcher.on("element:pre",iV(),{priority: "high"}); this.listenTo(t.editing.view.document,"clipboardInput",((e,o) => {let i=n.createRange(n.document.selection.anchor); if (o.targetRanges) {i=t.editing.mapper.toModelRange(o.targetRanges[0]);} if (!i.start.parent.is("element","codeBlock")) {return;} const r=o.dataTransfer.getData("text/plain"); const s=new a_(t.editing.view.document); o.content=qR(s,r);})); this.listenTo(n,"getSelectedContent",((t,[o]) => {const i=o.anchor; if (o.isCollapsed||!i.parent.is("element","codeBlock")||!i.hasSameParentAs(o.focus)) {return;}n.change((n => {const r=t.return; if (i.parent.is("element")&&(r.childCount>1||o.containsEntireContent(i.parent))) {const e=n.createElement("codeBlock",i.parent.getAttributes()); n.append(r,e); const o=n.createDocumentFragment(); n.append(e,o); t.return=o; return;} const s=r.getChild(0); if (e.checkAttribute(s,"code")) {n.setAttribute("code",true,s);}}));}));}afterInit() {const t=this.editor; const e=t.commands; const n=e.get("indent"); const o=e.get("outdent"); if (n) {n.registerChildCommand(e.get("indentCodeBlock"),{priority: "highest"});} if (o) {o.registerChildCommand(e.get("outdentCodeBlock"));} this.listenTo(t.editing.view.document,"enter",((e,n) => {const o=t.model.document.selection.getLastPosition().parent; if (!o.is("element","codeBlock")) {return;} if (!cV(t,n.isSoft)&&!lV(t,n.isSoft)) {aV(t);}n.preventDefault(); e.stop();}),{context: "pre"});}} function aV(t) {const e=t.model; const n=e.document; const o=n.selection.getLastPosition(); const i=o.nodeBefore||o.textNode; let r; if (i&&i.is("$text")) {r=WR(i);}t.model.change((e => {t.execute("shiftEnter"); if (r) {e.insertText(r,n.selection.anchor);}}));} function cV(t,e) {const n=t.model; const o=n.document; const i=t.editing.view; const r=o.selection.getLastPosition(); const s=r.nodeAfter; if (e||!o.selection.isCollapsed||!r.isAtStart) {return false;} if (!uV(s)) {return false;}t.model.change((e => {t.execute("enter"); const n=o.selection.anchor.parent.previousSibling; e.rename(n,rV); e.setSelection(n,"in"); t.model.schema.removeDisallowedAttributes([n],e); e.remove(s);})); i.scrollToTheSelection(); return true;} function lV(t,e) {const n=t.model; const o=n.document; const i=t.editing.view; const r=o.selection.getLastPosition(); const s=r.nodeBefore; let a; if (e||!o.selection.isCollapsed||!r.isAtEnd||!s||!s.previousSibling) {return false;} if (uV(s)&&uV(s.previousSibling)) {a=n.createRange(n.createPositionBefore(s.previousSibling),n.createPositionAfter(s));} else if (dV(s)&&uV(s.previousSibling)&&uV(s.previousSibling.previousSibling)) {a=n.createRange(n.createPositionBefore(s.previousSibling.previousSibling),n.createPositionAfter(s));} else if (dV(s)&&uV(s.previousSibling)&&dV(s.previousSibling.previousSibling)&&s.previousSibling.previousSibling&&uV(s.previousSibling.previousSibling.previousSibling)) {a=n.createRange(n.createPositionBefore(s.previousSibling.previousSibling.previousSibling),n.createPositionAfter(s));} else {return false;}t.model.change((e => {e.remove(a); t.execute("enter"); const n=o.selection.anchor.parent; e.rename(n,rV); t.model.schema.removeDisallowedAttributes([n],e);})); i.scrollToTheSelection(); return true;} function dV(t) {return t&&t.is("$text")&&!t.data.match(/\S/);} function uV(t) {return t&&t.is("element","softBreak");} const hV=n(2440); const gV={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; gV.insert="head"; gV.singleton=true; const fV=Id()(hV.A,gV); const mV=hV.A.locals||{}; class pV extends Ad {static get pluginName() {return "CodeBlockUI";}init() {const t=this.editor; const e=t.t; const n=t.ui.componentFactory; const o=HR(t); const i=this._getLanguageListItemDefinitions(o); const r=t.commands.get("codeBlock"); n.add("codeBlock",(n => {const o=Cx(n,hx); const s=o.buttonView; const a=e("Insert code block"); s.set({label: a,tooltip: true,icon: bA.codeBlock,isToggleable: true}); s.bind("isOn").to(r,"value",(t => !!t)); s.on("execute",(() => {t.execute("codeBlock",{usePreviousLanguageChoice: true}); t.editing.view.focus();})); o.on("execute",(e => {t.execute("codeBlock",{language: e.source._codeBlockLanguage,forceValue: true}); t.editing.view.focus();})); o.class="ck-code-block-dropdown"; o.bind("isEnabled").to(r); yx(o,i,{role: "menu",ariaLabel: a}); return o;})); n.add("menuBar:codeBlock",(n => {const o=new MS(n); o.buttonView.set({label: e("Code block"),icon: bA.codeBlock}); o.bind("isEnabled").to(r); const s=new FS(n); s.set({ariaLabel: e("Insert code block")}); for (const e of i) {const i=new oS(n,o); const a=new HS(n); a.bind(...Object.keys(e.model)).to(e.model); a.bind("ariaChecked").to(a,"isOn"); a.delegate("execute").to(o); a.on("execute",(() => {t.execute("codeBlock",{language: e.model._codeBlockLanguage,forceValue: r.value==e.model._codeBlockLanguage?false:true}); t.editing.view.focus();})); i.children.add(a); s.items.add(i);}o.panelView.children.add(s); return o;}));}_getLanguageListItemDefinitions(t) {const e=this.editor; const n=e.commands.get("codeBlock"); const o=new id; for (const e of t) {const t={type: "button",model: new VB({_codeBlockLanguage: e.language,label: e.label,role: "menuitemradio",withText: true})}; t.model.bind("isOn").to(n,"value",(e => e===t.model._codeBlockLanguage)); o.add(t);} return o;}} class kV extends Ad {static get requires() {return [sV,pV];} static get pluginName() {return "CodeBlock";}} class bV extends Gg {constructor(t) {super(t); this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"]; const e=this.document; this.listenTo(e,"paste",n("clipboardInput"),{priority: "low"}); this.listenTo(e,"drop",n("clipboardInput"),{priority: "low"}); this.listenTo(e,"dragover",n("dragging"),{priority: "low"}); function n(t) {return (n,o) => {o.preventDefault(); const i=o.dropRange?[o.dropRange]:null; const r=new D(e,t); e.fire(r,{dataTransfer: o.dataTransfer,method: n.name,targetRanges: i,target: o.target,domEvent: o.domEvent}); if (r.stop.called) {o.stopPropagation();}};}}onDomEvent(t) {const e="clipboardData"in t?t.clipboardData:t.dataTransfer; const n=t.type=="drop"||t.type=="paste"; const o={dataTransfer: new Cm(e,{cacheFiles: n})}; if (t.type=="drop"||t.type=="dragover") {o.dropRange=wV(this.view,t);} this.fire(t.type,t,o);}} function wV(t,e) {const n=e.target.ownerDocument; const o=e.clientX; const i=e.clientY; let r; if (n.caretRangeFromPoint&&n.caretRangeFromPoint(o,i)) {r=n.caretRangeFromPoint(o,i);} else if (e.rangeParent) {r=n.createRange(); r.setStart(e.rangeParent,e.rangeOffset); r.collapse(true);} if (r) {return t.domConverter.domRangeToView(r);} return null;} function _V(t) {t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;"); if (t.includes("</p><p>")||t.includes("<br>")) {t=`<p>${t}</p>`;} return t;} function CV(t) {return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e) => {if (e.length==1) {return " ";} return e;})).replace(/<!--[\s\S]*?-->/g,"");} const AV=["figcaption","li"]; const vV=["ol","ul"]; function yV(t) {if (t.is("$text")||t.is("$textProxy")) {return t.data;} if (t.is("element","img")&&t.hasAttribute("alt")) {return t.getAttribute("alt");} if (t.is("element","br")) {return "\n";} let e=""; let n=null; for (const o of t.getChildren()) {e+=xV(o,n)+yV(o); n=o;} return e;} function xV(t,e) {if (!e) {return "";} if (t.is("element","li")&&!t.isEmpty&&t.getChild(0).is("containerElement")) {return "\n\n";} if (vV.includes(t.name)&&vV.includes(e.name)) {return "\n\n";} if (!t.is("containerElement")&&!e.is("containerElement")) {return "";} if (AV.includes(t.name)||AV.includes(e.name)) {return "\n";} return "\n\n";} function EV(t,e) {return t&&ul(t,e,Ui);} const DV=EV; const BV=1,TV=2; function SV(t,e,n,o) {let i=n.length,r=i,s=!o; if (t==null) {return !r;}t=Object(t); while (i--) {var a=n[i]; if (s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t)) {return false;}} while (++i<r) {a=n[i]; const c=a[0],l=t[c],d=a[1]; if (s&&a[2]) {if (l===undefined&&!(c in t)) {return false;}} else {const u=new ro; if (o) {var h=o(l,d,c,t,e,u);} if (!(h===undefined?gm(d,l,BV|TV,o,u):h)) {return false;}}} return true;} const IV=SV; function PV(t) {return t===t&&!st(t);} const RV=PV; function VV(t) {let e=Ui(t),n=e.length; while (n--) {const o=e[n],i=t[o]; e[n]=[o,i,RV(i)];} return e;} const MV=VV; function FV(t,e) {return function(n) {if (n==null) {return false;} return n[t]===e&&(e!==undefined||t in Object(n));};} const OV=FV; function zV(t) {const e=MV(t); if (e.length==1&&e[0][2]) {return OV(e[0][0],e[0][1]);} return function(n) {return n===t||IV(n,t,e);};} const NV=zV; function LV(t,e) {return t!=null&&e in Object(t);} const HV=LV; function jV(t,e,n) {e=Ou(e,t); let o=-1,i=e.length,r=false; while (++o<i) {var s=ju(e[o]); if (!(r=t!=null&&n(t,s))) {break;}t=t[s];} if (r||++o!=i) {return r;}i=t==null?0:t.length; return !!i&&qo(i)&&Ho(s,i)&&(Yt(t)||Bo(t));} const WV=jV; function qV(t,e) {return t!=null&&WV(t,e,HV);} const UV=qV; const $V=1,GV=2; function KV(t,e) {if (pu(t)&&RV(e)) {return OV(ju(t),e);} return function(n) {const o=th(n,t); return o===undefined&&o===e?UV(n,t):gm(e,o,$V|GV);};} const ZV=KV; function JV(t) {return function(e) {return e==null?undefined:e[t];};} const YV=JV; function QV(t) {return function(e) {return qu(e,t);};} const XV=QV; function tM(t) {return pu(t)?YV(ju(t)):XV(t);} const eM=tM; function nM(t) {if (typeof t==="function") {return t;} if (t==null) {return vl;} if (typeof t==="object") {return Yt(t)?ZV(t[0],t[1]):NV(t);} return eM(t);} const oM=nM; function iM(t,e) {const n={}; e=oM(e,3); DV(t,((t,o,i) => {ho(n,o,e(t,o,i));})); return n;} const rM=iM; class sM extends Ad {constructor() {super(...arguments); this._markersToCopy=new Map;} static get pluginName() {return "ClipboardMarkersUtils";}_registerMarkerToCopy(t,e) {this._markersToCopy.set(t,e);}_copySelectedFragmentWithMarkers(t,e,n=(t => t.model.getSelectedContent(t.model.document.selection))) {return this.editor.model.change((o => {const i=o.model.document.selection; o.setSelection(e); const r=this._insertFakeMarkersIntoSelection(o,o.model.document.selection,t); const s=n(o); const a=this._removeFakeMarkersInsideElement(o,s); for (const [t,e] of Object.entries(r)) {a[t]||(a[t]=o.createRangeIn(s)); for (const t of e) {o.remove(t);}}s.markers.clear(); for (const [t,e] of Object.entries(a)) {s.markers.set(t,e);}o.setSelection(i); return s;}));}_pasteMarkersIntoTransformedElement(t,e) {const n=this._getPasteMarkersFromRangeMap(t); return this.editor.model.change((t => {const o=this._insertFakeMarkersElements(t,n); const i=e(t); const r=this._removeFakeMarkersInsideElement(t,i); for (const e of Object.values(o).flat()) {t.remove(e);} for (const [e,n] of Object.entries(r)) {if (!t.model.markers.has(e)) {t.addMarker(e,{usingOperation: true,affectsData: true,range: n});}} return i;}));}_pasteFragmentWithMarkers(t) {const e=this._getPasteMarkersFromRangeMap(t.markers); t.markers.clear(); for (const n of e) {t.markers.set(n.name,n.range);} return this.editor.model.insertContent(t);}_forceMarkersCopy(t,e,n={allowedActions: "all",copyPartiallySelected: true,duplicateOnPaste: true}) {const o=this._markersToCopy.get(t); this._markersToCopy.set(t,n); e(); if (o) {this._markersToCopy.set(t,o);} else {this._markersToCopy.delete(t);}}_isMarkerCopyable(t,e) {const n=this._getMarkerClipboardConfig(t); if (!n) {return false;} if (!e) {return true;} const {allowedActions: o}=n; return o==="all"||o.includes(e);}_hasMarkerConfiguration(t) {return !!this._getMarkerClipboardConfig(t);}_getMarkerClipboardConfig(t) {const [e]=t.split(":"); return this._markersToCopy.get(e)||null;}_insertFakeMarkersIntoSelection(t,e,n) {const o=this._getCopyableMarkersFromSelection(t,e,n); return this._insertFakeMarkersElements(t,o);}_getCopyableMarkersFromSelection(t,e,n) {const o=Array.from(e.getRanges()); const i=new Set(o.flatMap((e => Array.from(t.model.markers.getMarkersIntersectingRange(e))))); const r=t => {const e=this._isMarkerCopyable(t.name,n); if (!e) {return false;} const {copyPartiallySelected: i}=this._getMarkerClipboardConfig(t.name); if (!i) {const e=t.getRange(); return o.some((t => t.containsRange(e,true)));} return true;}; return Array.from(i).filter(r).map((t => {const e=n==="dragstart"?this._getUniqueMarkerName(t.name):t.name; return {name: e,range: t.getRange()};}));}_getPasteMarkersFromRangeMap(t,e=null) {const {model: n}=this.editor; const o=t instanceof Map?Array.from(t.entries()):Object.entries(t); return o.flatMap((([t,o]) => {if (!this._hasMarkerConfiguration(t)) {return [{name: t,range: o}];} if (this._isMarkerCopyable(t,e)) {const e=this._getMarkerClipboardConfig(t); const i=n.markers.has(t)&&n.markers.get(t).getRange().root.rootName==="$graveyard"; if (e.duplicateOnPaste||i) {t=this._getUniqueMarkerName(t);} return [{name: t,range: o}];} return [];}));}_insertFakeMarkersElements(t,e) {const n={}; const o=e.flatMap((t => {const {start: e,end: n}=t.range; return [{position: e,marker: t,type: "start"},{position: n,marker: t,type: "end"}];})).sort((({position: t},{position: e}) => t.isBefore(e)?1:-1)); for (const {position: e,marker: i,type: r} of o) {const o=t.createElement("$marker",{"data-name": i.name,"data-type": r}); if (!n[i.name]) {n[i.name]=[];}n[i.name].push(o); t.insert(o,e);} return n;}_removeFakeMarkersInsideElement(t,e) {const n=this._getAllFakeMarkersFromElement(t,e); const o=n.reduce(((e,n) => {const o=n.markerElement&&t.createPositionBefore(n.markerElement); let i=e[n.name]; let r=false; if (i&&i.start&&i.end) {const t=this._getMarkerClipboardConfig(n.name); if (t.duplicateOnPaste) {e[this._getUniqueMarkerName(n.name)]=e[n.name];} else {r=true;}i=null;} if (!r) {e[n.name]={...i,[n.type]: o};} if (n.markerElement) {t.remove(n.markerElement);} return e;}),{}); return rM(o,(n => new Gm(n.start||t.createPositionFromPath(e,[0]),n.end||t.createPositionAt(e,"end"))));}_getAllFakeMarkersFromElement(t,e) {const n=Array.from(t.createRangeIn(e)).flatMap((({item: t}) => {if (!t.is("element","$marker")) {return [];} const e=t.getAttribute("data-name"); const n=t.getAttribute("data-type"); return [{markerElement: t,name: e,type: n}];})); const o=[]; const i=[]; for (const t of n) {if (t.type==="end") {const e=n.some((e => e.name===t.name&&e.type==="start")); if (!e) {o.push({markerElement: null,name: t.name,type: "start"});}} if (t.type==="start") {const e=n.some((e => e.name===t.name&&e.type==="end")); if (!e) {i.unshift({markerElement: null,name: t.name,type: "end"});}}} return [...o,...n,...i];}_getUniqueMarkerName(t) {const e=t.split(":"); const n=T().substring(1,6); if (e.length===3) {return `${e.slice(0,2).join(":")}:${n}`;} return `${e.join(":")}:${n}`;}} class aM extends Ad {static get pluginName() {return "ClipboardPipeline";} static get requires() {return [sM];}init() {const t=this.editor; const e=t.editing.view; e.addObserver(bV); this._setupPasteDrop(); this._setupCopyCut();}_fireOutputTransformationEvent(t,e,n) {const o=this.editor.plugins.get("ClipboardMarkersUtils"); this.editor.model.enqueueChange({isUndoable: n==="cut"},(() => {const i=o._copySelectedFragmentWithMarkers(n,e); this.fire("outputTransformation",{dataTransfer: t,content: i,method: n});}));}_setupPasteDrop() {const t=this.editor; const e=t.model; const n=t.editing.view; const o=n.document; const i=this.editor.plugins.get("ClipboardMarkersUtils"); this.listenTo(o,"clipboardInput",((e,n) => {if (n.method=="paste"&&!t.model.canEditAt(t.model.document.selection)) {e.stop();}}),{priority: "highest"}); this.listenTo(o,"clipboardInput",((t,e) => {const o=e.dataTransfer; let i; if (e.content) {i=e.content;} else {let t=""; if (o.getData("text/html")) {t=CV(o.getData("text/html"));} else if (o.getData("text/plain")) {t=_V(o.getData("text/plain"));}i=this.editor.data.htmlProcessor.toView(t);} const r=new D(this,"inputTransformation"); this.fire(r,{content: i,dataTransfer: o,targetRanges: e.targetRanges,method: e.method}); if (r.stop.called) {t.stop();}n.scrollToTheSelection();}),{priority: "low"}); this.listenTo(this,"inputTransformation",((t,n) => {if (n.content.isEmpty) {return;} const o=this.editor.data; const i=o.toModel(n.content,"$clipboardHolder"); if (i.childCount==0) {return;}t.stop(); e.change((() => {this.fire("contentInsertion",{content: i,method: n.method,dataTransfer: n.dataTransfer,targetRanges: n.targetRanges});}));}),{priority: "low"}); this.listenTo(this,"contentInsertion",((t,e) => {e.resultRange=i._pasteFragmentWithMarkers(e.content);}),{priority: "low"});}_setupCopyCut() {const t=this.editor; const e=t.model.document; const n=t.editing.view; const o=n.document; const i=(t,n) => {const o=n.dataTransfer; n.preventDefault(); this._fireOutputTransformationEvent(o,e.selection,t.name);}; this.listenTo(o,"copy",i,{priority: "low"}); this.listenTo(o,"cut",((e,n) => {if (!t.model.canEditAt(t.model.document.selection)) {n.preventDefault();} else {i(e,n);}}),{priority: "low"}); this.listenTo(this,"outputTransformation",((e,n) => {const i=t.data.toView(n.content); o.fire("clipboardOutput",{dataTransfer: n.dataTransfer,content: i,method: n.method});}),{priority: "low"}); this.listenTo(o,"clipboardOutput",((n,o) => {if (!o.content.isEmpty) {o.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(o.content)); o.dataTransfer.setData("text/plain",yV(o.content));} if (o.method=="cut") {t.model.deleteContent(e.selection);}}),{priority: "low"});}} class cM extends (G()) {constructor() {super(...arguments); this._stack=[];}add(t,e) {const n=this._stack; const o=n[0]; this._insertDescriptor(t); const i=n[0]; if (o!==i&&!lM(o,i)) {this.fire("change:top",{oldDescriptor: o,newDescriptor: i,writer: e});}}remove(t,e) {const n=this._stack; const o=n[0]; this._removeDescriptor(t); const i=n[0]; if (o!==i&&!lM(o,i)) {this.fire("change:top",{oldDescriptor: o,newDescriptor: i,writer: e});}}_insertDescriptor(t) {const e=this._stack; const n=e.findIndex((e => e.id===t.id)); if (lM(t,e[n])) {return;} if (n>-1) {e.splice(n,1);} let o=0; while (e[o]&&dM(e[o],t)) {o++;}e.splice(o,0,t);}_removeDescriptor(t) {const e=this._stack; const n=e.findIndex((e => e.id===t)); if (n>-1) {e.splice(n,1);}}} function lM(t,e) {return t&&e&&t.priority==e.priority&&uM(t.classes)==uM(e.classes);} function dM(t,e) {if (t.priority>e.priority) {return true;} else if (t.priority<e.priority) {return false;} return uM(t.classes)>uM(e.classes);} function uM(t) {return Array.isArray(t)?t.sort().join(","):t;} const hM='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'; const gM="ck-widget"; const fM="ck-widget_selected"; function mM(t) {if (!t.is("element")) {return false;} return !!t.getCustomProperty("widget");} function pM(t,e,n={}) {if (!t.is("containerElement")) {throw new V("widget-to-widget-wrong-element-type",null,{element: t});}e.setAttribute("contenteditable","false",t); e.addClass(gM,t); e.setCustomProperty("widget",true,t); t.getFillerOffset=xM; e.setCustomProperty("widgetLabel",[],t); if (n.label) {_M(t,n.label);} if (n.hasSelectionHandle) {EM(t,e);}wM(t,e); return t;} function kM(t,e,n) {if (e.classes) {n.addClass(rl(e.classes),t);} if (e.attributes) {for (const o in e.attributes) {n.setAttribute(o,e.attributes[o],t);}}} function bM(t,e,n) {if (e.classes) {n.removeClass(rl(e.classes),t);} if (e.attributes) {for (const o in e.attributes) {n.removeAttribute(o,t);}}} function wM(t,e,n=kM,o=bM) {const i=new cM; i.on("change:top",((e,i) => {if (i.oldDescriptor) {o(t,i.oldDescriptor,i.writer);} if (i.newDescriptor) {n(t,i.newDescriptor,i.writer);}})); const r=(t,e,n) => i.add(e,n); const s=(t,e,n) => i.remove(e,n); e.setCustomProperty("addHighlight",r,t); e.setCustomProperty("removeHighlight",s,t);} function _M(t,e) {const n=t.getCustomProperty("widgetLabel"); n.push(e);} function CM(t) {const e=t.getCustomProperty("widgetLabel"); return e.reduce(((t,e) => {if (typeof e==="function") {return t?`${t}. ${e()}`:e();} return t?`${t}. ${e}`:e;}),"");} function AM(t,e,n={}) {e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t); e.setAttribute("role","textbox",t); e.setAttribute("tabindex","-1",t); if (n.label) {e.setAttribute("aria-label",n.label,t);}e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t); t.on("change:isReadOnly",((n,o,i) => {e.setAttribute("contenteditable",i?"false":"true",t);})); t.on("change:isFocused",((n,o,i) => {if (i) {e.addClass("ck-editor__nested-editable_focused",t);} else {e.removeClass("ck-editor__nested-editable_focused",t);}})); wM(t,e); return t;} function vM(t,e) {const n=t.getSelectedElement(); if (n) {const o=PM(t); if (o) {return e.createRange(e.createPositionAt(n,o));}} return e.schema.findOptimalInsertionRange(t);} function yM(t,e) {return (n,o) => {const {mapper: i,viewPosition: r}=o; const s=i.findMappedViewAncestor(r); if (!e(s)) {return;} const a=i.toModelElement(s); o.modelPosition=t.createPositionAt(a,r.isAtStart?"before":"after");};} function xM() {return null;} function EM(t,e) {const n=e.createUIElement("div",{class: "ck ck-widget__selection-handle"},(function(t) {const e=this.toDomElement(t); const n=new _v; n.set("content",hM); n.render(); e.appendChild(n.element); return e;})); e.insert(e.createPositionAt(t,0),n); e.addClass(["ck-widget_with-selection-handle"],t);} const DM="widget-type-around"; function BM(t,e,n) {return !!t&&mM(t)&&!n.isInline(e);} function TM(t) {return t.closest(".ck-widget__type-around__button");} function SM(t) {return t.classList.contains("ck-widget__type-around__button_before")?"before":"after";} function IM(t,e) {const n=t.closest(".ck-widget"); return e.mapDomToView(n);} function PM(t) {return t.getAttribute(DM);} const RM='<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>'; const VM=n(698); const MM={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; MM.insert="head"; MM.singleton=true; const FM=Id()(VM.A,MM); const OM=VM.A.locals||{}; const zM=["before","after"]; const NM=(new DOMParser).parseFromString(RM,"image/svg+xml").firstChild; const LM="ck-widget__type-around_disabled"; class HM extends Ad {constructor() {super(...arguments); this._currentFakeCaretModelElement=null;} static get pluginName() {return "WidgetTypeAround";} static get requires() {return [VR,JI];}init() {const t=this.editor; const e=t.editing.view; this.on("change:isEnabled",((n,o,i) => {e.change((t => {for (const n of e.document.roots) {if (i) {t.removeClass(LM,n);} else {t.addClass(LM,n);}}})); if (!i) {t.model.change((t => {t.removeSelectionAttribute(DM);}));}})); this._enableTypeAroundUIInjection(); this._enableInsertingParagraphsOnButtonClick(); this._enableInsertingParagraphsOnEnterKeypress(); this._enableInsertingParagraphsOnTypingKeystroke(); this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(); this._enableDeleteIntegration(); this._enableInsertContentIntegration(); this._enableInsertObjectIntegration(); this._enableDeleteContentIntegration();}destroy() {super.destroy(); this._currentFakeCaretModelElement=null;}_insertParagraph(t,e) {const n=this.editor; const o=n.editing.view; const i=n.model.schema.getAttributesWithProperty(t,"copyOnReplace",true); n.execute("insertParagraph",{position: n.model.createPositionAt(t,e),attributes: i}); o.focus(); o.scrollToTheSelection();}_listenToIfEnabled(t,e,n,o) {this.listenTo(t,e,((...t) => {if (this.isEnabled) {n(...t);}}),o);}_insertParagraphAccordingToFakeCaretPosition() {const t=this.editor; const e=t.model; const n=e.document.selection; const o=PM(n); if (!o) {return false;} const i=n.getSelectedElement(); this._insertParagraph(i,o); return true;}_enableTypeAroundUIInjection() {const t=this.editor; const e=t.model.schema; const n=t.locale.t; const o={before: n("Insert paragraph before block"),after: n("Insert paragraph after block")}; t.editing.downcastDispatcher.on("insert",((t,i,r) => {const s=r.mapper.toViewElement(i.item); if (!s) {return;} if (BM(s,i.item,e)) {jM(r.writer,o,s); const t=s.getCustomProperty("widgetLabel"); t.push((() => this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):""));}}),{priority: "low"});}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows() {const t=this.editor; const e=t.model; const n=e.document.selection; const o=e.schema; const i=t.editing.view; this._listenToIfEnabled(i.document,"arrowKey",((t,e) => {this._handleArrowKeyPress(t,e);}),{context: [mM,"$text"],priority: "high"}); this._listenToIfEnabled(n,"change:range",((e,n) => {if (!n.directChange) {return;}t.model.change((t => {t.removeSelectionAttribute(DM);}));})); this._listenToIfEnabled(e.document,"change:data",(() => {const e=n.getSelectedElement(); if (e) {const n=t.editing.mapper.toViewElement(e); if (BM(n,e,o)) {return;}}t.model.change((t => {t.removeSelectionAttribute(DM);}));})); this._listenToIfEnabled(t.editing.downcastDispatcher,"selection",((t,e,n) => {const i=n.writer; if (this._currentFakeCaretModelElement) {const t=n.mapper.toViewElement(this._currentFakeCaretModelElement); if (t) {i.removeClass(zM.map(r),t); this._currentFakeCaretModelElement=null;}} const s=e.selection.getSelectedElement(); if (!s) {return;} const a=n.mapper.toViewElement(s); if (!BM(a,s,o)) {return;} const c=PM(e.selection); if (!c) {return;}i.addClass(r(c),a); this._currentFakeCaretModelElement=s;})); this._listenToIfEnabled(t.ui.focusTracker,"change:isFocused",((e,n,o) => {if (!o) {t.model.change((t => {t.removeSelectionAttribute(DM);}));}})); function r(t) {return `ck-widget_type-around_show-fake-caret_${t}`;}}_handleArrowKeyPress(t,e) {const n=this.editor; const o=n.model; const i=o.document.selection; const r=o.schema; const s=n.editing.view; const a=e.keyCode; const c=nl(a,n.locale.contentLanguageDirection); const l=s.document.selection.getSelectedElement(); const d=n.editing.mapper.toModelElement(l); let u; if (BM(l,d,r)) {u=this._handleArrowKeyPressOnSelectedWidget(c);} else if (i.isCollapsed) {u=this._handleArrowKeyPressWhenSelectionNextToAWidget(c);} else if (!e.shiftKey) {u=this._handleArrowKeyPressWhenNonCollapsedSelection(c);} if (u) {e.preventDefault(); t.stop();}}_handleArrowKeyPressOnSelectedWidget(t) {const e=this.editor; const n=e.model; const o=n.document.selection; const i=PM(o); return n.change((e => {if (i) {const n=i===(t?"after":"before"); if (!n) {e.removeSelectionAttribute(DM); return true;}} else {e.setSelectionAttribute(DM,t?"after":"before"); return true;} return false;}));}_handleArrowKeyPressWhenSelectionNextToAWidget(t) {const e=this.editor; const n=e.model; const o=n.schema; const i=e.plugins.get("Widget"); const r=i._getObjectElementNextToSelection(t); const s=e.editing.mapper.toViewElement(r); if (BM(s,r,o)) {n.change((e => {i._setSelectionOverElement(r); e.setSelectionAttribute(DM,t?"before":"after");})); return true;} return false;}_handleArrowKeyPressWhenNonCollapsedSelection(t) {const e=this.editor; const n=e.model; const o=n.schema; const i=e.editing.mapper; const r=n.document.selection; const s=t?r.getLastPosition().nodeBefore:r.getFirstPosition().nodeAfter; const a=i.toViewElement(s); if (BM(a,s,o)) {n.change((e => {e.setSelection(s,"on"); e.setSelectionAttribute(DM,t?"after":"before");})); return true;} return false;}_enableInsertingParagraphsOnButtonClick() {const t=this.editor; const e=t.editing.view; this._listenToIfEnabled(e.document,"mousedown",((n,o) => {const i=TM(o.domTarget); if (!i) {return;} const r=SM(i); const s=IM(i,e.domConverter); const a=t.editing.mapper.toModelElement(s); this._insertParagraph(a,r); o.preventDefault(); n.stop();}));}_enableInsertingParagraphsOnEnterKeypress() {const t=this.editor; const e=t.model.document.selection; const n=t.editing.view; this._listenToIfEnabled(n.document,"enter",((n,o) => {if (n.eventPhase!="atTarget") {return;} const i=e.getSelectedElement(); const r=t.editing.mapper.toViewElement(i); const s=t.model.schema; let a; if (this._insertParagraphAccordingToFakeCaretPosition()) {a=true;} else if (BM(r,i,s)) {this._insertParagraph(i,o.isSoft?"before":"after"); a=true;} if (a) {o.preventDefault(); n.stop();}}),{context: mM});}_enableInsertingParagraphsOnTypingKeystroke() {const t=this.editor; const e=t.editing.view.document; this._listenToIfEnabled(e,"insertText",((t,n) => {if (this._insertParagraphAccordingToFakeCaretPosition()) {n.selection=e.selection;}}),{priority: "high"}); if (l.isAndroid) {this._listenToIfEnabled(e,"keydown",((t,e) => {if (e.keyCode==229) {this._insertParagraphAccordingToFakeCaretPosition();}}));} else {this._listenToIfEnabled(e,"compositionstart",(() => {this._insertParagraphAccordingToFakeCaretPosition();}),{priority: "high"});}}_enableDeleteIntegration() {const t=this.editor; const e=t.editing.view; const n=t.model; const o=n.schema; this._listenToIfEnabled(e.document,"delete",((e,i) => {if (e.eventPhase!="atTarget") {return;} const r=PM(n.document.selection); if (!r) {return;} const s=i.direction; const a=n.document.selection.getSelectedElement(); const c=r==="before"; const l=s=="forward"; const d=c===l; if (d) {t.execute("delete",{selection: n.createSelection(a,"on")});} else {const e=o.getNearestSelectionRange(n.createPositionAt(a,r),s); if (e) {if (!e.isCollapsed) {n.change((n => {n.setSelection(e); t.execute(l?"deleteForward":"delete");}));} else {const i=n.createSelection(e.start); n.modifySelection(i,{direction: s}); if (!i.focus.isEqual(e.start)) {n.change((n => {n.setSelection(e); t.execute(l?"deleteForward":"delete");}));} else {const t=UM(o,e.start.parent); n.deleteContent(n.createSelection(t,"on"),{doNotAutoparagraph: true});}}}}i.preventDefault(); e.stop();}),{context: mM});}_enableInsertContentIntegration() {const t=this.editor; const e=this.editor.model; const n=e.document.selection; this._listenToIfEnabled(t.model,"insertContent",((t,[o,i]) => {if (i&&!i.is("documentSelection")) {return;} const r=PM(n); if (!r) {return;}t.stop(); return e.change((t => {const i=n.getSelectedElement(); const s=e.createPositionAt(i,r); const a=t.createSelection(s); const c=e.insertContent(o,a); t.setSelection(a); return c;}));}),{priority: "high"});}_enableInsertObjectIntegration() {const t=this.editor; const e=this.editor.model; const n=e.document.selection; this._listenToIfEnabled(t.model,"insertObject",((t,e) => {const [,o,i={}]=e; if (o&&!o.is("documentSelection")) {return;} const r=PM(n); if (!r) {return;}i.findOptimalPosition=r; e[3]=i;}),{priority: "high"});}_enableDeleteContentIntegration() {const t=this.editor; const e=this.editor.model; const n=e.document.selection; this._listenToIfEnabled(t.model,"deleteContent",((t,[e]) => {if (e&&!e.is("documentSelection")) {return;} const o=PM(n); if (o) {t.stop();}}),{priority: "high"});}} function jM(t,e,n) {const o=t.createUIElement("div",{class: "ck ck-reset_all ck-widget__type-around"},(function(t) {const n=this.toDomElement(t); WM(n,e); qM(n); return n;})); t.insert(t.createPositionAt(n,"end"),o);} function WM(t,e) {for (const n of zM) {const o=new AA({tag: "div",attributes: {class: ["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title: e[n],"aria-hidden": "true"},children: [t.ownerDocument.importNode(NM,true)]}); t.appendChild(o.render());}} function qM(t) {const e=new AA({tag: "div",attributes: {class: ["ck","ck-widget__type-around__fake-caret"]}}); t.appendChild(e.render());} function UM(t,e) {let n=e; for (const o of e.getAncestors({parentFirst: true})) {if (o.childCount>1||t.isLimit(o)) {break;}n=o;} return n;} function $M(t) {const e=t.model; return (n,o) => {const i=o.keyCode==Kc.arrowup; const r=o.keyCode==Kc.arrowdown; const s=o.shiftKey; const a=e.document.selection; if (!i&&!r) {return;} const c=r; if (s&&YM(a,c)) {return;} const l=GM(t,a,c); if (!l) {return;} if (l.isCollapsed) {if (a.isCollapsed) {return;} else if (s) {return;}} if (l.isCollapsed||JM(t,l,c)) {e.change((t => {const n=c?l.end:l.start; if (s) {const o=e.createSelection(a.anchor); o.setFocus(n); t.setSelection(o);} else {t.setSelection(n);}})); n.stop(); o.preventDefault(); o.stopPropagation();}};} function GM(t,e,n) {const o=t.model; if (n) {const t=e.isCollapsed?e.focus:e.getLastPosition(); const n=KM(o,t,"forward"); if (!n) {return null;} const i=o.createRange(t,n); const r=ZM(o.schema,i,"backward"); if (r) {return o.createRange(t,r);} return null;} else {const t=e.isCollapsed?e.focus:e.getFirstPosition(); const n=KM(o,t,"backward"); if (!n) {return null;} const i=o.createRange(n,t); const r=ZM(o.schema,i,"forward"); if (r) {return o.createRange(r,t);} return null;}} function KM(t,e,n) {const o=t.schema; const i=t.createRangeIn(e.root); const r=n=="forward"?"elementStart":"elementEnd"; for (const {previousPosition: t,item: s,type: a} of i.getWalker({startPosition: e,direction: n})) {if (o.isLimit(s)&&!o.isInline(s)) {return t;} if (a==r&&o.isBlock(s)) {return null;}} return null;} function ZM(t,e,n) {const o=n=="backward"?e.end:e.start; if (t.checkChild(o,"$text")) {return o;} for (const {nextPosition: o} of e.getWalker({direction: n})) {if (t.checkChild(o,"$text")) {return o;}} return null;} function JM(t,e,n) {const o=t.model; const i=t.view.domConverter; if (n) {const t=o.createSelection(e.start); o.modifySelection(t); if (!t.focus.isAtEnd&&!e.start.isEqual(t.focus)) {e=o.createRange(t.focus,e.end);}} const r=t.mapper.toViewRange(e); const s=i.viewRangeToDom(r); const a=uc.getDomRangeRects(s); let c; for (const t of a) {if (c===undefined) {c=Math.round(t.bottom); continue;} if (Math.round(t.top)>=c) {return false;}c=Math.max(c,Math.round(t.bottom));} return true;} function YM(t,e) {return !t.isCollapsed&&t.isBackward==e;} const QM=n(1089); const XM={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; XM.insert="head"; XM.singleton=true; const tF=Id()(QM.A,XM); const eF=QM.A.locals||{}; class nF extends Ad {constructor() {super(...arguments); this._previouslySelected=new Set;} static get pluginName() {return "Widget";} static get requires() {return [HM,JI];}init() {const t=this.editor; const e=t.editing.view; const n=e.document; const o=t.t; this.editor.editing.downcastDispatcher.on("selection",((e,n,o) => {const i=o.writer; const r=n.selection; if (r.isCollapsed) {return;} const s=r.getSelectedElement(); if (!s) {return;} const a=t.editing.mapper.toViewElement(s); if (!mM(a)) {return;} if (!o.consumable.consume(r,"selection")) {return;}i.setSelection(i.createRangeOn(a),{fake: true,label: CM(a)});})); this.editor.editing.downcastDispatcher.on("selection",((t,e,n) => {this._clearPreviouslySelectedWidgets(n.writer); const o=n.writer; const i=o.document.selection; let r=null; for (const t of i.getRanges()) {for (const e of t) {const t=e.item; if (mM(t)&&!iF(t,r)) {o.addClass(fM,t); this._previouslySelected.add(t); r=t;}}}}),{priority: "low"}); e.addObserver(s_); this.listenTo(n,"mousedown",((...t) => this._onMousedown(...t))); this.listenTo(n,"arrowKey",((...t) => {this._handleSelectionChangeOnArrowKeyPress(...t);}),{context: [mM,"$text"]}); this.listenTo(n,"arrowKey",((...t) => {this._preventDefaultOnArrowKeyPress(...t);}),{context: "$root"}); this.listenTo(n,"arrowKey",$M(this.editor.editing),{context: "$text"}); this.listenTo(n,"delete",((t,e) => {if (this._handleDelete(e.direction=="forward")) {e.preventDefault(); t.stop();}}),{context: "$root"}); this.listenTo(n,"tab",((t,e) => {if (t.eventPhase!="atTarget") {return;} if (e.shiftKey) {return;} if (this._selectFirstNestedEditable()) {e.preventDefault(); t.stop();}}),{context: mM,priority: "low"}); this.listenTo(n,"tab",((t,e) => {if (!e.shiftKey) {return;} if (this._selectAncestorWidget()) {e.preventDefault(); t.stop();}}),{priority: "low"}); this.listenTo(n,"keydown",((t,e) => {if (e.keystroke!=Kc.esc) {return;} if (this._selectAncestorWidget()) {e.preventDefault(); t.stop();}}),{priority: "low"}); t.accessibility.addKeystrokeInfoGroup({id: "widget",label: o("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes: [{label: o("Insert a new paragraph directly after a widget"),keystroke: "Enter"},{label: o("Insert a new paragraph directly before a widget"),keystroke: "Shift+Enter"},{label: o("Move the caret to allow typing directly before a widget"),keystroke: [["arrowup"],["arrowleft"]]},{label: o("Move the caret to allow typing directly after a widget"),keystroke: [["arrowdown"],["arrowright"]]}]});}_onMousedown(t,e) {const n=this.editor; const o=n.editing.view; const i=o.document; let r=e.target; if (e.domEvent.detail>=3) {if (this._selectBlockContent(r)) {e.preventDefault();} return;} if (oF(r)) {return;} if (!mM(r)) {r=r.findAncestor(mM); if (!r) {return;}} if (l.isAndroid) {e.preventDefault();} if (!i.isFocused) {o.focus();} const s=n.editing.mapper.toModelElement(r); this._setSelectionOverElement(s);}_selectBlockContent(t) {const e=this.editor; const n=e.model; const o=e.editing.mapper; const i=n.schema; const r=o.findMappedViewAncestor(this.editor.editing.view.createPositionAt(t,0)); const s=rF(o.toModelElement(r),n.schema); if (!s) {return false;}n.change((t => {const e=!i.isLimit(s)?sF(t.createPositionAfter(s),i):null; const n=t.createPositionAt(s,0); const o=e?t.createPositionAt(e,0):t.createPositionAt(s,"end"); t.setSelection(t.createRange(n,o));})); return true;}_handleSelectionChangeOnArrowKeyPress(t,e) {const n=e.keyCode; const o=this.editor.model; const i=o.schema; const r=o.document.selection; const s=r.getSelectedElement(); const a=tl(n,this.editor.locale.contentLanguageDirection); const c=a=="down"||a=="right"; const l=a=="up"||a=="down"; if (s&&i.isObject(s)) {const n=c?r.getLastPosition():r.getFirstPosition(); const s=i.getNearestSelectionRange(n,c?"forward":"backward"); if (s) {o.change((t => {t.setSelection(s);})); e.preventDefault(); t.stop();} return;} if (!r.isCollapsed&&!e.shiftKey) {const n=r.getFirstPosition(); const s=r.getLastPosition(); const a=n.nodeAfter; const l=s.nodeBefore; if (a&&i.isObject(a)||l&&i.isObject(l)) {o.change((t => {t.setSelection(c?s:n);})); e.preventDefault(); t.stop();} return;} if (!r.isCollapsed) {return;} const d=this._getObjectElementNextToSelection(c); if (d&&i.isObject(d)) {if (i.isInline(d)&&l) {return;} this._setSelectionOverElement(d); e.preventDefault(); t.stop();}}_preventDefaultOnArrowKeyPress(t,e) {const n=this.editor.model; const o=n.schema; const i=n.document.selection.getSelectedElement(); if (i&&o.isObject(i)) {e.preventDefault(); t.stop();}}_handleDelete(t) {const e=this.editor.model.document; const n=e.selection; if (!this.editor.model.canEditAt(n)) {return;} if (!n.isCollapsed) {return;} const o=this._getObjectElementNextToSelection(t); if (o) {this.editor.model.change((t => {let e=n.anchor.parent; while (e.isEmpty) {const n=e; e=n.parent; t.remove(n);} this._setSelectionOverElement(o);})); return true;}}_setSelectionOverElement(t) {this.editor.model.change((e => {e.setSelection(e.createRangeOn(t));}));}_getObjectElementNextToSelection(t) {const e=this.editor.model; const n=e.schema; const o=e.document.selection; const i=e.createSelection(o); e.modifySelection(i,{direction: t?"forward":"backward"}); if (i.isEqual(o)) {return null;} const r=t?i.focus.nodeBefore:i.focus.nodeAfter; if (!!r&&n.isObject(r)) {return r;} return null;}_clearPreviouslySelectedWidgets(t) {for (const e of this._previouslySelected) {t.removeClass(fM,e);} this._previouslySelected.clear();}_selectFirstNestedEditable() {const t=this.editor; const e=this.editor.editing.view; const n=e.document; for (const e of n.selection.getFirstRange().getItems()) {if (e.is("editableElement")) {const n=t.editing.mapper.toModelElement(e); if (!n) {continue;} const o=t.model.createPositionAt(n,0); const i=t.model.schema.getNearestSelectionRange(o,"forward"); t.model.change((t => {t.setSelection(i);})); return true;}} return false;}_selectAncestorWidget() {const t=this.editor; const e=t.editing.mapper; const n=t.editing.view.document.selection; const o=n.getFirstPosition().parent; const i=o.is("$text")?o.parent:o; const r=i.findAncestor(mM); if (!r) {return false;} const s=e.toModelElement(r); if (!s) {return false;}t.model.change((t => {t.setSelection(s,"on");})); return true;}} function oF(t) {let e=t; while (e) {if (e.is("editableElement")&&!e.is("rootElement")) {return true;} if (mM(e)) {return false;}e=e.parent;} return false;} function iF(t,e) {if (!e) {return false;} return Array.from(t.getAncestors()).includes(e);} function rF(t,e) {for (const n of t.getAncestors({includeSelf: true,parentFirst: true})) {if (e.checkChild(n,"$text")) {return n;} if (e.isLimit(n)&&!e.isObject(n)) {break;}} return null;} function sF(t,e) {const n=new zm({startPosition: t}); for (const {item: t} of n) {if (e.isLimit(t)||!t.is("element")) {return null;} if (e.checkChild(t,"$text")) {return t;}} return null;} class aF extends Ad {constructor() {super(...arguments); this._toolbarDefinitions=new Map;} static get requires() {return [qB];} static get pluginName() {return "WidgetToolbarRepository";}init() {const t=this.editor; if (t.plugins.has("BalloonToolbar")) {const e=t.plugins.get("BalloonToolbar"); this.listenTo(e,"show",(e => {if (dF(t.editing.view.document.selection)) {e.stop();}}),{priority: "high"});} this._balloon=this.editor.plugins.get("ContextualBalloon"); this.on("change:isEnabled",(() => {this._updateToolbarsVisibility();})); this.listenTo(t.ui,"update",(() => {this._updateToolbarsVisibility();})); this.listenTo(t.ui.focusTracker,"change:isFocused",(() => {this._updateToolbarsVisibility();}),{priority: "low"});}destroy() {super.destroy(); for (const t of this._toolbarDefinitions.values()) {t.view.destroy();}}register(t,{ariaLabel: e,items: n,getRelatedElement: o,balloonClassName: i="ck-toolbar-container"}) {if (!n.length) {M("widget-toolbar-no-items",{toolbarId: t}); return;} const r=this.editor; const s=r.t; const a=new Jy(r.locale); a.ariaLabel=e||s("Widget toolbar"); if (this._toolbarDefinitions.has(t)) {throw new V("widget-toolbar-duplicated",this,{toolbarId: t});} const c={view: a,getRelatedElement: o,balloonClassName: i,itemsConfig: n,initialized: false}; r.ui.addToolbar(a,{isContextual: true,beforeFocus: () => {const t=o(r.editing.view.document.selection); if (t) {this._showToolbar(c,t);}},afterBlur: () => {this._hideToolbar(c);}}); this._toolbarDefinitions.set(t,c);}_updateToolbarsVisibility() {let t=0; let e=null; let n=null; for (const o of this._toolbarDefinitions.values()) {const i=o.getRelatedElement(this.editor.editing.view.document.selection); if (!this.isEnabled||!i) {if (this._isToolbarInBalloon(o)) {this._hideToolbar(o);}} else if (!this.editor.ui.focusTracker.isFocused) {if (this._isToolbarVisible(o)) {this._hideToolbar(o);}} else {const r=i.getAncestors().length; if (r>t) {t=r; e=i; n=o;}}} if (n) {this._showToolbar(n,e);}}_hideToolbar(t) {this._balloon.remove(t.view); this.stopListening(this._balloon,"change:visibleView");}_showToolbar(t,e) {if (this._isToolbarVisible(t)) {cF(this.editor,e);} else if (!this._isToolbarInBalloon(t)) {if (!t.initialized) {t.initialized=true; t.view.fillFromConfig(t.itemsConfig,this.editor.ui.componentFactory);} this._balloon.add({view: t.view,position: lF(this.editor,e),balloonClassName: t.balloonClassName}); this.listenTo(this._balloon,"change:visibleView",(() => {for (const t of this._toolbarDefinitions.values()) {if (this._isToolbarVisible(t)) {const e=t.getRelatedElement(this.editor.editing.view.document.selection); cF(this.editor,e);}}}));}}_isToolbarVisible(t) {return this._balloon.visibleView===t.view;}_isToolbarInBalloon(t) {return this._balloon.hasView(t.view);}} function cF(t,e) {const n=t.plugins.get("ContextualBalloon"); const o=lF(t,e); n.updatePosition(o);} function lF(t,e) {const n=t.editing.view; const o=ND.defaultPositions; return {target: n.domConverter.mapViewToDom(e),positions: [o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]};} function dF(t) {const e=t.getSelectedElement(); return !!(e&&mM(e));} class uF extends (gt()) {constructor(t) {super(); this.set("activeHandlePosition",null); this.set("proposedWidthPercents",null); this.set("proposedWidth",null); this.set("proposedHeight",null); this.set("proposedHandleHostWidth",null); this.set("proposedHandleHostHeight",null); this._options=t; this._referenceCoordinates=null;} get originalWidth() {return this._originalWidth;} get originalHeight() {return this._originalHeight;} get originalWidthPercents() {return this._originalWidthPercents;} get aspectRatio() {return this._aspectRatio;}begin(t,e,n) {const o=new uc(e); this.activeHandlePosition=mF(t); this._referenceCoordinates=gF(e,pF(this.activeHandlePosition)); this._originalWidth=o.width; this._originalHeight=o.height; this._aspectRatio=o.width/o.height; const i=n.style.width; if (i&&i.match(/^\d+(\.\d*)?%$/)) {this._originalWidthPercents=parseFloat(i);} else {this._originalWidthPercents=hF(n,o);}}update(t) {this.proposedWidth=t.width; this.proposedHeight=t.height; this.proposedWidthPercents=t.widthPercents; this.proposedHandleHostWidth=t.handleHostWidth; this.proposedHandleHostHeight=t.handleHostHeight;}} function hF(t,e) {const n=t.parentElement; let o=parseFloat(n.ownerDocument.defaultView.getComputedStyle(n).width); const i=5; let r=0; let s=n; while (isNaN(o)) {s=s.parentElement; if (++r>i) {return 0;}o=parseFloat(n.ownerDocument.defaultView.getComputedStyle(s).width);} return e.width/o*100;} function gF(t,e) {const n=new uc(t); const o=e.split("-"); const i={x: o[1]=="right"?n.right:n.left,y: o[0]=="bottom"?n.bottom:n.top}; i.x+=t.ownerDocument.defaultView.scrollX; i.y+=t.ownerDocument.defaultView.scrollY; return i;} function fF(t) {return `ck-widget__resizer__handle-${t}`;} function mF(t) {const e=["top-left","top-right","bottom-right","bottom-left"]; for (const n of e) {if (t.classList.contains(fF(n))) {return n;}}} function pF(t) {const e=t.split("-"); const n={top: "bottom",bottom: "top",left: "right",right: "left"}; return `${n[e[0]]}-${n[e[1]]}`;} class kF extends XA {constructor() {super(); const t=this.bindTemplate; this.setTemplate({tag: "div",attributes: {class: ["ck","ck-size-view",t.to("_viewPosition",(t => t?`ck-orientation-${t}`:""))],style: {display: t.if("_isVisible","none",(t => !t))}},children: [{text: t.to("_label")}]});}_bindToState(t,e) {this.bind("_isVisible").to(e,"proposedWidth",e,"proposedHeight",((t,e) => t!==null&&e!==null)); this.bind("_label").to(e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",e,"proposedWidthPercents",((e,n,o) => {if (t.unit==="px") {return `${e}×${n}`;} return `${o}%`;})); this.bind("_viewPosition").to(e,"activeHandlePosition",e,"proposedHandleHostWidth",e,"proposedHandleHostHeight",((t,e,n) => e<50||n<50?"above-center":t));}_dismiss() {this.unbind(); this._isVisible=false;}} class bF extends (gt()) {constructor(t) {super(); this._viewResizerWrapper=null; this._options=t; this.set("isEnabled",true); this.set("isSelected",false); this.bind("isVisible").to(this,"isEnabled",this,"isSelected",((t,e) => t&&e)); this.decorate("begin"); this.decorate("cancel"); this.decorate("commit"); this.decorate("updateSize"); this.on("commit",(t => {if (!this.state.proposedWidth&&!this.state.proposedWidthPercents) {this._cleanup(); t.stop();}}),{priority: "high"});} get state() {return this._state;}show() {const t=this._options.editor.editing.view; t.change((t => {t.removeClass("ck-hidden",this._viewResizerWrapper);}));}hide() {const t=this._options.editor.editing.view; t.change((t => {t.addClass("ck-hidden",this._viewResizerWrapper);}));}attach() {const t=this; const e=this._options.viewElement; const n=this._options.editor.editing.view; n.change((n => {const o=n.createUIElement("div",{class: "ck ck-reset_all ck-widget__resizer"},(function(e) {const n=this.toDomElement(e); t._appendHandles(n); t._appendSizeUI(n); return n;})); n.insert(n.createPositionAt(e,"end"),o); n.addClass("ck-widget_with-resizer",e); this._viewResizerWrapper=o; if (!this.isVisible) {this.hide();}})); this.on("change:isVisible",(() => {if (this.isVisible) {this.show(); this.redraw();} else {this.hide();}}));}begin(t) {this._state=new uF(this._options); this._sizeView._bindToState(this._options,this.state); this._initialViewWidth=this._options.viewElement.getStyle("width"); this.state.begin(t,this._getHandleHost(),this._getResizeHost());}updateSize(t) {const e=this._proposeNewSize(t); const n=this._options.editor.editing.view; n.change((t => {const n=this._options.unit||"%"; const o=(n==="%"?e.widthPercents:e.width)+n; t.setStyle("width",o,this._options.viewElement);})); const o=this._getHandleHost(); const i=new uc(o); const r=Math.round(i.width); const s=Math.round(i.height); const a=new uc(o); e.width=Math.round(a.width); e.height=Math.round(a.height); this.redraw(i); this.state.update({...e,handleHostWidth: r,handleHostHeight: s});}commit() {const t=this._options.unit||"%"; const e=(t==="%"?this.state.proposedWidthPercents:this.state.proposedWidth)+t; this._options.editor.editing.view.change((() => {this._cleanup(); this._options.onCommit(e);}));}cancel() {this._cleanup();}destroy() {this.cancel();}redraw(t) {const e=this._domResizerWrapper; if (!CF(e)) {return;} const n=e.parentElement; const o=this._getHandleHost(); const i=this._viewResizerWrapper; const r=[i.getStyle("width"),i.getStyle("height"),i.getStyle("left"),i.getStyle("top")]; let s; if (n.isSameNode(o)) {const e=t||new uc(o); s=[`${e.width}px`,`${e.height}px`,undefined,undefined];} else {s=[`${o.offsetWidth}px`,`${o.offsetHeight}px`,`${o.offsetLeft}px`,`${o.offsetTop}px`];} if (Et(r,s)!=="same") {this._options.editor.editing.view.change((t => {t.setStyle({width: s[0],height: s[1],left: s[2],top: s[3]},i);}));}}containsHandle(t) {return this._domResizerWrapper.contains(t);} static isResizeHandle(t) {return t.classList.contains("ck-widget__resizer__handle");}_cleanup() {this._sizeView._dismiss(); const t=this._options.editor.editing.view; t.change((t => {t.setStyle("width",this._initialViewWidth,this._options.viewElement);}));}_proposeNewSize(t) {const e=this.state; const n=_F(t); const o=this._options.isCentered?this._options.isCentered(this):true; const i={x: e._referenceCoordinates.x-(n.x+e.originalWidth),y: n.y-e.originalHeight-e._referenceCoordinates.y}; if (o&&e.activeHandlePosition.endsWith("-right")) {i.x=n.x-(e._referenceCoordinates.x+e.originalWidth);} if (o) {i.x*=2;} let r=Math.abs(e.originalWidth+i.x); let s=Math.abs(e.originalHeight+i.y); const a=r/e.aspectRatio>s?"width":"height"; if (a=="width") {s=r/e.aspectRatio;} else {r=s*e.aspectRatio;} return {width: Math.round(r),height: Math.round(s),widthPercents: Math.min(Math.round(e.originalWidthPercents/e.originalWidth*r*100)/100,100)};}_getResizeHost() {const t=this._domResizerWrapper.parentElement; return this._options.getResizeHost(t);}_getHandleHost() {const t=this._domResizerWrapper.parentElement; return this._options.getHandleHost(t);} get _domResizerWrapper() {return this._options.editor.editing.view.domConverter.mapViewToDom(this._viewResizerWrapper);}_appendHandles(t) {const e=["top-left","top-right","bottom-right","bottom-left"]; for (const n of e) {t.appendChild(new AA({tag: "div",attributes: {class: `ck-widget__resizer__handle ${wF(n)}`}}).render());}}_appendSizeUI(t) {this._sizeView=new kF; this._sizeView.render(); t.appendChild(this._sizeView.element);}} function wF(t) {return `ck-widget__resizer__handle-${t}`;} function _F(t) {return {x: t.pageX,y: t.pageY};} function CF(t) {return t&&t.ownerDocument&&t.ownerDocument.contains(t);} const AF=n(6645); const vF={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; vF.insert="head"; vF.singleton=true; const yF=Id()(AF.A,vF); const xF=AF.A.locals||{}; class EF extends Ad {constructor() {super(...arguments); this._resizers=new Map;} static get pluginName() {return "WidgetResize";}init() {const t=this.editor.editing; const e=nc.window.document; this.set("selectedResizer",null); this.set("_activeResizer",null); t.view.addObserver(s_); this._observer=new (Ya()); this.listenTo(t.view.document,"mousedown",this._mouseDownListener.bind(this),{priority: "high"}); this._observer.listenTo(e,"mousemove",this._mouseMoveListener.bind(this)); this._observer.listenTo(e,"mouseup",this._mouseUpListener.bind(this)); this._redrawSelectedResizerThrottled=tB((() => this.redrawSelectedResizer()),200); this.editor.ui.on("update",this._redrawSelectedResizerThrottled); this.editor.model.document.on("change",(() => {for (const [t,e] of this._resizers) {if (!t.isAttached()) {this._resizers.delete(t); e.destroy();}}}),{priority: "lowest"}); this._observer.listenTo(nc.window,"resize",this._redrawSelectedResizerThrottled); const n=this.editor.editing.view.document.selection; n.on("change",(() => {const t=n.getSelectedElement(); const e=this.getResizerByViewElement(t)||null; if (e) {this.select(e);} else {this.deselect();}}));}redrawSelectedResizer() {if (this.selectedResizer&&this.selectedResizer.isVisible) {this.selectedResizer.redraw();}}destroy() {super.destroy(); this._observer.stopListening(); for (const t of this._resizers.values()) {t.destroy();} this._redrawSelectedResizerThrottled.cancel();}select(t) {this.deselect(); this.selectedResizer=t; this.selectedResizer.isSelected=true;}deselect() {if (this.selectedResizer) {this.selectedResizer.isSelected=false;} this.selectedResizer=null;}attachTo(t) {const e=new bF(t); const n=this.editor.plugins; e.attach(); if (n.has("WidgetToolbarRepository")) {const t=n.get("WidgetToolbarRepository"); e.on("begin",(() => {t.forceDisabled("resize");}),{priority: "lowest"}); e.on("cancel",(() => {t.clearForceDisabled("resize");}),{priority: "highest"}); e.on("commit",(() => {t.clearForceDisabled("resize");}),{priority: "highest"});} this._resizers.set(t.viewElement,e); const o=this.editor.editing.view.document.selection; const i=o.getSelectedElement(); if (this.getResizerByViewElement(i)==e) {this.select(e);} return e;}getResizerByViewElement(t) {return this._resizers.get(t);}_getResizerByHandle(t) {for (const e of this._resizers.values()) {if (e.containsHandle(t)) {return e;}}}_mouseDownListener(t,e) {const n=e.domTarget; if (!bF.isResizeHandle(n)) {return;} this._activeResizer=this._getResizerByHandle(n)||null; if (this._activeResizer) {this._activeResizer.begin(n); t.stop(); e.preventDefault();}}_mouseMoveListener(t,e) {if (this._activeResizer) {this._activeResizer.updateSize(e);}}_mouseUpListener() {if (this._activeResizer) {this._activeResizer.commit(); this._activeResizer=null;}}} const DF=Cc("px"); class BF extends XA {constructor() {super(); const t=this.bindTemplate; this.set({isVisible: false,left: null,top: null,width: null}); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-clipboard-drop-target-line",t.if("isVisible","ck-hidden",(t => !t))],style: {left: t.to("left",(t => DF(t))),top: t.to("top",(t => DF(t))),width: t.to("width",(t => DF(t)))}}});}} class TF extends Ad {constructor() {super(...arguments); this.removeDropMarkerDelayed=hd((() => this.removeDropMarker()),40); this._updateDropMarkerThrottled=tB((t => this._updateDropMarker(t)),40); this._reconvertMarkerThrottled=tB((() => {if (this.editor.model.markers.has("drop-target")) {this.editor.editing.reconvertMarker("drop-target");}}),0); this._dropTargetLineView=new BF; this._domEmitter=new (Ya()); this._scrollables=new Map;} static get pluginName() {return "DragDropTarget";}init() {this._setupDropMarker();}destroy() {this._domEmitter.stopListening(); for (const {resizeObserver: t} of this._scrollables.values()) {t.destroy();} this._updateDropMarkerThrottled.cancel(); this.removeDropMarkerDelayed.cancel(); this._reconvertMarkerThrottled.cancel(); return super.destroy();}updateDropMarker(t,e,n,o,i,r) {this.removeDropMarkerDelayed.cancel(); const s=SF(this.editor,t,e,n,o,i,r); if (!s) {return;} if (r&&r.containsRange(s)) {return this.removeDropMarker();} this._updateDropMarkerThrottled(s);}getFinalDropRange(t,e,n,o,i,r) {const s=SF(this.editor,t,e,n,o,i,r); this.removeDropMarker(); return s;}removeDropMarker() {const t=this.editor.model; this.removeDropMarkerDelayed.cancel(); this._updateDropMarkerThrottled.cancel(); this._dropTargetLineView.isVisible=false; if (t.markers.has("drop-target")) {t.change((t => {t.removeMarker("drop-target");}));}}_setupDropMarker() {const t=this.editor; t.ui.view.body.add(this._dropTargetLineView); t.conversion.for("editingDowncast").markerToHighlight({model: "drop-target",view: {classes: ["ck-clipboard-drop-target-range"]}}); t.conversion.for("editingDowncast").markerToElement({model: "drop-target",view: (e,{writer: n}) => {if (t.model.schema.checkChild(e.markerRange.start,"$text")) {this._dropTargetLineView.isVisible=false; return this._createDropTargetPosition(n);} if (e.markerRange.isCollapsed) {this._updateDropTargetLine(e.markerRange);} else {this._dropTargetLineView.isVisible=false;}}});}_updateDropMarker(t) {const e=this.editor; const n=e.model.markers; e.model.change((e => {if (n.has("drop-target")) {if (!n.get("drop-target").getRange().isEqual(t)) {e.updateMarker("drop-target",{range: t});}} else {e.addMarker("drop-target",{range: t,usingOperation: false,affectsData: false});}}));}_createDropTargetPosition(t) {return t.createUIElement("span",{class: "ck ck-clipboard-drop-target-position"},(function(t) {const e=this.toDomElement(t); e.append("⁠",t.createElement("span"),"⁠"); return e;}));}_updateDropTargetLine(t) {const e=this.editor.editing; const n=t.start.nodeBefore; const o=t.start.nodeAfter; const i=t.start.parent; const r=n?e.mapper.toViewElement(n):null; const s=r?e.view.domConverter.mapViewToDom(r):null; const a=o?e.mapper.toViewElement(o):null; const c=a?e.view.domConverter.mapViewToDom(a):null; const l=e.mapper.toViewElement(i); if (!l) {return;} const d=e.view.domConverter.mapViewToDom(l); const u=this._getScrollableRect(l); const {scrollX: h,scrollY: g}=nc.window; const f=s?new uc(s):null; const m=c?new uc(c):null; const p=new uc(d).excludeScrollbarsAndBorders(); const k=f?f.bottom:p.top; const b=m?m.top:p.bottom; const w=nc.window.getComputedStyle(d); const _=k<=b?(k+b)/2:b; if (u.top<_&&_<u.bottom) {const t=p.left+parseFloat(w.paddingLeft); const e=p.right-parseFloat(w.paddingRight); const n=Math.max(t+h,u.left); const o=Math.min(e+h,u.right); this._dropTargetLineView.set({isVisible: true,left: n,top: _+g,width: o-n});} else {this._dropTargetLineView.isVisible=false;}}_getScrollableRect(t) {const e=t.root.rootName; let n; if (this._scrollables.has(e)) {n=this._scrollables.get(e).domElement;} else {const o=this.editor.editing.view.domConverter.mapViewToDom(t); n=MF(o); this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive: true}); const i=new wc(n,this._reconvertMarkerThrottled); this._scrollables.set(e,{domElement: n,resizeObserver: i});} return new uc(n).excludeScrollbarsAndBorders();}} function SF(t,e,n,o,i,r,s) {const a=t.model; const c=t.editing.mapper; const l=VF(t,e); let d=l; while (d) {if (!r) {if (a.schema.checkChild(d,"$text")) {if (n) {const e=n[0].start; const r=c.toModelPosition(e); const l=!s||Array.from(s.getItems()).every((t => a.schema.checkChild(r,t))); if (l) {if (a.schema.checkChild(r,"$text")) {return a.createRange(r);} else if (e) {return PF(t,VF(t,e.parent),o,i);}}}} else if (a.schema.isInline(d)) {return PF(t,d,o,i);}} if (a.schema.isBlock(d)) {return PF(t,d,o,i);} else if (a.schema.checkChild(d,"$block")) {const e=Array.from(d.getChildren()).filter((e => e.is("element")&&!IF(t,e))); let n=0; let r=e.length; if (r==0) {return a.createRange(a.createPositionAt(d,"end"));} while (n<r-1) {const s=Math.floor((n+r)/2); const a=RF(t,e[s],o,i); if (a=="before") {r=s;} else {n=s;}} return PF(t,e[n],o,i);}d=d.parent;} return null;} function IF(t,e) {const n=t.editing.mapper; const o=t.editing.view.domConverter; const i=n.toViewElement(e); if (!i) {return true;} const r=o.mapViewToDom(i); return nc.window.getComputedStyle(r).float!="none";} function PF(t,e,n,o) {const i=t.model; return i.createRange(i.createPositionAt(e,RF(t,e,n,o)));} function RF(t,e,n,o) {const i=t.editing.mapper; const r=t.editing.view.domConverter; const s=i.toViewElement(e); const a=r.mapViewToDom(s); const c=new uc(a); if (t.model.schema.isInline(e)) {return n<(c.left+c.right)/2?"before":"after";} return o<(c.top+c.bottom)/2?"before":"after";} function VF(t,e) {const n=t.editing.mapper; const o=t.editing.view; const i=n.toModelElement(e); if (i) {return i;} const r=o.createPositionBefore(e); const s=n.findMappedViewAncestor(r); return n.toModelElement(s);} function MF(t) {let e=t; do {e=e.parentElement; const t=nc.window.getComputedStyle(e).overflowY; if (t=="auto"||t=="scroll") {break;}} while (e.tagName!="BODY"); return e;} class FF extends Ad {constructor() {super(...arguments); this._isBlockDragging=false; this._domEmitter=new (Ya());} static get pluginName() {return "DragDropBlockToolbar";}init() {const t=this.editor; this.listenTo(t,"change:isReadOnly",((t,e,n) => {if (n) {this.forceDisabled("readOnlyMode"); this._isBlockDragging=false;} else {this.clearForceDisabled("readOnlyMode");}})); if (l.isAndroid) {this.forceDisabled("noAndroidSupport");} if (t.plugins.has("BlockToolbar")) {const e=t.plugins.get("BlockToolbar"); const n=e.buttonView.element; this._domEmitter.listenTo(n,"dragstart",((t,e) => this._handleBlockDragStart(e))); this._domEmitter.listenTo(nc.document,"dragover",((t,e) => this._handleBlockDragging(e))); this._domEmitter.listenTo(nc.document,"drop",((t,e) => this._handleBlockDragging(e))); this._domEmitter.listenTo(nc.document,"dragend",(() => this._handleBlockDragEnd()),{useCapture: true}); if (this.isEnabled) {n.setAttribute("draggable","true");} this.on("change:isEnabled",((t,e,o) => {n.setAttribute("draggable",o?"true":"false");}));}}destroy() {this._domEmitter.stopListening(); return super.destroy();}_handleBlockDragStart(t) {if (!this.isEnabled) {return;} const e=this.editor.model; const n=e.document.selection; const o=this.editor.editing.view; const i=Array.from(n.getSelectedBlocks()); const r=e.createRange(e.createPositionBefore(i[0]),e.createPositionAfter(i[i.length-1])); e.change((t => t.setSelection(r))); this._isBlockDragging=true; o.focus(); o.getObserver(bV).onDomEvent(t);}_handleBlockDragging(t) {if (!this.isEnabled||!this._isBlockDragging) {return;} const e=t.clientX+(this.editor.locale.contentLanguageDirection=="ltr"?100:-100); const n=t.clientY; const o=document.elementFromPoint(e,n); const i=this.editor.editing.view; if (!o||!o.closest(".ck-editor__editable")) {return;}i.getObserver(bV).onDomEvent({...t,type: t.type,dataTransfer: t.dataTransfer,target: o,clientX: e,clientY: n,preventDefault: () => t.preventDefault(),stopPropagation: () => t.stopPropagation()});}_handleBlockDragEnd() {this._isBlockDragging=false;}} const OF=n(8643); const zF={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; zF.insert="head"; zF.singleton=true; const NF=Id()(OF.A,zF); const LF=OF.A.locals||{}; class HF extends Ad {constructor() {super(...arguments); this._clearDraggableAttributesDelayed=hd((() => this._clearDraggableAttributes()),40); this._blockMode=false; this._domEmitter=new (Ya());} static get pluginName() {return "DragDrop";} static get requires() {return [aM,nF,TF,FF];}init() {const t=this.editor; const e=t.editing.view; this._draggedRange=null; this._draggingUid=""; this._draggableElement=null; e.addObserver(bV); e.addObserver(s_); this._setupDragging(); this._setupContentInsertionIntegration(); this._setupClipboardInputIntegration(); this._setupDraggableAttributeHandling(); this.listenTo(t,"change:isReadOnly",((t,e,n) => {if (n) {this.forceDisabled("readOnlyMode");} else {this.clearForceDisabled("readOnlyMode");}})); this.on("change:isEnabled",((t,e,n) => {if (!n) {this._finalizeDragging(false);}})); if (l.isAndroid) {this.forceDisabled("noAndroidSupport");}}destroy() {if (this._draggedRange) {this._draggedRange.detach(); this._draggedRange=null;} if (this._previewContainer) {this._previewContainer.remove();} this._domEmitter.stopListening(); this._clearDraggableAttributesDelayed.cancel(); return super.destroy();}_setupDragging() {const t=this.editor; const e=t.model; const n=t.editing.view; const o=n.document; const i=t.plugins.get(TF); this.listenTo(o,"dragstart",((t,n) => {if (n.target&&n.target.is("editableElement")) {n.preventDefault(); return;} this._prepareDraggedRange(n.target); if (!this._draggedRange) {n.preventDefault(); return;} this._draggingUid=T(); n.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy"; n.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid); const o=e.createSelection(this._draggedRange.toRange()); const i=this.editor.plugins.get("ClipboardPipeline"); i._fireOutputTransformationEvent(n.dataTransfer,o,"dragstart"); const {dataTransfer: r,domTarget: s,domEvent: a}=n; const {clientX: c}=a; this._updatePreview({dataTransfer: r,domTarget: s,clientX: c}); n.stopPropagation(); if (!this.isEnabled) {this._draggedRange.detach(); this._draggedRange=null; this._draggingUid="";}}),{priority: "low"}); this.listenTo(o,"dragend",((t,e) => {this._finalizeDragging(!e.dataTransfer.isCanceled&&e.dataTransfer.dropEffect=="move");}),{priority: "low"}); this._domEmitter.listenTo(nc.document,"dragend",(() => {this._blockMode=false;}),{useCapture: true}); this.listenTo(o,"dragenter",(() => {if (!this.isEnabled) {return;}n.focus();})); this.listenTo(o,"dragleave",(() => {i.removeDropMarkerDelayed();})); this.listenTo(o,"dragging",((t,e) => {if (!this.isEnabled) {e.dataTransfer.dropEffect="none"; return;} const {clientX: n,clientY: o}=e.domEvent; i.updateDropMarker(e.target,e.targetRanges,n,o,this._blockMode,this._draggedRange); if (!this._draggedRange) {e.dataTransfer.dropEffect="copy";} if (!l.isGecko) {if (e.dataTransfer.effectAllowed=="copy") {e.dataTransfer.dropEffect="copy";} else if (["all","copyMove"].includes(e.dataTransfer.effectAllowed)) {e.dataTransfer.dropEffect="move";}}t.stop();}),{priority: "low"});}_setupClipboardInputIntegration() {const t=this.editor; const e=t.editing.view; const n=e.document; const o=t.plugins.get(TF); this.listenTo(n,"clipboardInput",((e,n) => {if (n.method!="drop") {return;} const {clientX: i,clientY: r}=n.domEvent; const s=o.getFinalDropRange(n.target,n.targetRanges,i,r,this._blockMode,this._draggedRange); if (!s) {this._finalizeDragging(false); e.stop(); return;} if (this._draggedRange&&this._draggingUid!=n.dataTransfer.getData("application/ckeditor5-dragging-uid")) {this._draggedRange.detach(); this._draggedRange=null; this._draggingUid="";} const a=jF(n.dataTransfer)=="move"; if (a&&this._draggedRange&&this._draggedRange.containsRange(s,true)) {this._finalizeDragging(false); e.stop(); return;}n.targetRanges=[t.editing.mapper.toViewRange(s)];}),{priority: "high"});}_setupContentInsertionIntegration() {const t=this.editor.plugins.get(aM); t.on("contentInsertion",((t,e) => {if (!this.isEnabled||e.method!=="drop") {return;} const n=e.targetRanges.map((t => this.editor.editing.mapper.toModelRange(t))); this.editor.model.change((t => t.setSelection(n)));}),{priority: "high"}); t.on("contentInsertion",((t,e) => {if (!this.isEnabled||e.method!=="drop") {return;} const n=jF(e.dataTransfer)=="move"; const o=!e.resultRange||!e.resultRange.isCollapsed; this._finalizeDragging(o&&n);}),{priority: "lowest"});}_setupDraggableAttributeHandling() {const t=this.editor; const e=t.editing.view; const n=e.document; this.listenTo(n,"mousedown",((o,i) => {if (l.isAndroid||!i) {return;} this._clearDraggableAttributesDelayed.cancel(); let r=WF(i.target); if (l.isBlink&&!t.isReadOnly&&!r&&!n.selection.isCollapsed) {const t=n.selection.getSelectedElement(); if (!t||!mM(t)) {r=n.selection.editableElement;}} if (r) {e.change((t => {t.setAttribute("draggable","true",r);})); this._draggableElement=t.editing.mapper.toModelElement(r);}})); this.listenTo(n,"mouseup",(() => {if (!l.isAndroid) {this._clearDraggableAttributesDelayed();}}));}_clearDraggableAttributes() {const t=this.editor.editing; t.view.change((e => {if (this._draggableElement&&this._draggableElement.root.rootName!="$graveyard") {e.removeAttribute("draggable",t.mapper.toViewElement(this._draggableElement));} this._draggableElement=null;}));}_finalizeDragging(t) {const e=this.editor; const n=e.model; const o=e.plugins.get(TF); o.removeDropMarker(); this._clearDraggableAttributes(); if (e.plugins.has("WidgetToolbarRepository")) {const t=e.plugins.get("WidgetToolbarRepository"); t.clearForceDisabled("dragDrop");} this._draggingUid=""; if (this._previewContainer) {this._previewContainer.remove(); this._previewContainer=undefined;} if (!this._draggedRange) {return;} if (t&&this.isEnabled) {n.change((t => {const e=n.createSelection(this._draggedRange); n.deleteContent(e,{doNotAutoparagraph: true}); const o=e.getFirstPosition().parent; if (o.isEmpty&&!n.schema.checkChild(o,"$text")&&n.schema.checkChild(o,"paragraph")) {t.insertElement("paragraph",o,0);}}));} this._draggedRange.detach(); this._draggedRange=null;}_prepareDraggedRange(t) {const e=this.editor; const n=e.model; const o=n.document.selection; const i=t?WF(t):null; if (i) {const t=e.editing.mapper.toModelElement(i); this._draggedRange=lp.fromRange(n.createRangeOn(t)); this._blockMode=n.schema.isBlock(t); if (e.plugins.has("WidgetToolbarRepository")) {const t=e.plugins.get("WidgetToolbarRepository"); t.forceDisabled("dragDrop");} return;} if (o.isCollapsed&&!o.getFirstPosition().parent.isEmpty) {return;} const r=Array.from(o.getSelectedBlocks()); const s=o.getFirstRange(); if (r.length==0) {this._draggedRange=lp.fromRange(s); return;} const a=qF(n,r); if (r.length>1) {this._draggedRange=lp.fromRange(a); this._blockMode=true;} else if (r.length==1) {const t=s.start.isTouching(a.start)&&s.end.isTouching(a.end); this._draggedRange=lp.fromRange(t?a:s); this._blockMode=t;}n.change((t => t.setSelection(this._draggedRange.toRange())));}_updatePreview({dataTransfer: t,domTarget: e,clientX: n}) {const o=this.editor.editing.view; const i=o.document.selection.editableElement; const r=o.domConverter.mapViewToDom(i); const s=nc.window.getComputedStyle(r); if (!this._previewContainer) {this._previewContainer=oe(nc.document,"div",{style: "position: fixed; left: -999999px;"}); nc.document.body.appendChild(this._previewContainer);} else if (this._previewContainer.firstElementChild) {this._previewContainer.removeChild(this._previewContainer.firstElementChild);} const a=new uc(r); if (r.contains(e)) {return;} const c=parseFloat(s.paddingLeft); const d=oe(nc.document,"div"); d.className="ck ck-content"; d.style.width=s.width; d.style.paddingLeft=`${a.left-n+c}px`; if (l.isiOS) {d.style.backgroundColor="white";}d.innerHTML=t.getData("text/html"); t.setDragImage(d,0,0); this._previewContainer.appendChild(d);}} function jF(t) {if (l.isGecko) {return t.dropEffect;} return ["all","copyMove"].includes(t.effectAllowed)?"move":"copy";} function WF(t) {if (t.is("editableElement")) {return null;} if (t.hasClass("ck-widget__selection-handle")) {return t.findAncestor(mM);} if (mM(t)) {return t;} const e=t.findAncestor((t => mM(t)||t.is("editableElement"))); if (mM(e)) {return e;} return null;} function qF(t,e) {const n=e[0]; const o=e[e.length-1]; const i=n.getCommonAncestor(o); const r=t.createPositionBefore(n); const s=t.createPositionAfter(o); if (i&&i.is("element")&&!t.schema.isLimit(i)) {const e=t.createRangeOn(i); const n=r.isTouching(e.start); const o=s.isTouching(e.end); if (n&&o) {return qF(t,[i]);}} return t.createRange(r,s);} class UF extends Ad {static get pluginName() {return "PastePlainText";} static get requires() {return [aM];}init() {const t=this.editor; const e=t.model; const n=t.editing.view; const o=n.document; const i=e.document.selection; let r=false; n.addObserver(bV); this.listenTo(o,"keydown",((t,e) => {r=e.shiftKey;})); t.plugins.get(aM).on("contentInsertion",((t,n) => {if (!r&&!$F(n.content,e.schema)) {return;}e.change((t => {const o=Array.from(i.getAttributes()).filter((([t]) => e.schema.getAttributeProperties(t).isFormatting)); if (!i.isCollapsed) {e.deleteContent(i,{doNotAutoparagraph: true});}o.push(...i.getAttributes()); const r=t.createRangeIn(n.content); for (const e of r.getItems()) {if (e.is("$textProxy")) {t.setAttributes(o,e);}}}));}));}} function $F(t,e) {if (t.childCount>1) {return false;} const n=t.getChild(0); if (e.isObject(n)) {return false;} return Array.from(n.getAttributeKeys()).length==0;} class GF extends Ad {static get pluginName() {return "Clipboard";} static get requires() {return [sM,aM,HF,UF];}init() {const t=this.editor; const e=this.editor.t; t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Copy selected content"),keystroke: "CTRL+C"},{label: e("Paste content"),keystroke: "CTRL+V"},{label: e("Paste content as plain text"),keystroke: "CTRL+SHIFT+V"}]});}} class KF extends yd {constructor(t) {super(t); this.affectsData=false;}execute() {const t=this.editor.model; const e=t.document.selection; let n=t.schema.getLimitElement(e); if (e.containsEntireContent(n)||!ZF(t.schema,n)) {do {n=n.parent; if (!n) {return;}} while (!ZF(t.schema,n));}t.change((t => {t.setSelection(n,"in");}));}} function ZF(t,e) {return t.isLimit(e)&&(t.checkChild(e,"$text")||t.checkChild(e,"paragraph"));} const JF=Yc("Ctrl+A"); class YF extends Ad {static get pluginName() {return "SelectAllEditing";}init() {const t=this.editor; const e=t.t; const n=t.editing.view; const o=n.document; t.commands.add("selectAll",new KF(t)); this.listenTo(o,"keydown",((e,n) => {if (Jc(n)===JF) {t.execute("selectAll"); n.preventDefault();}})); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Select all"),keystroke: "CTRL+A"}]});}} const QF='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>'; class XF extends Ad {static get pluginName() {return "SelectAllUI";}init() {const t=this.editor; t.ui.componentFactory.add("selectAll",(() => {const t=this._createButton(Ev); t.set({tooltip: true}); return t;})); t.ui.componentFactory.add("menuBar:selectAll",(() => this._createButton(HS)));}_createButton(t) {const e=this.editor; const n=e.locale; const o=e.commands.get("selectAll"); const i=new t(e.locale); const r=n.t; i.set({label: r("Select all"),icon: QF,keystroke: "Ctrl+A"}); i.bind("isEnabled").to(o,"isEnabled"); this.listenTo(i,"execute",(() => {e.execute("selectAll"); e.editing.view.focus();})); return i;}} class tO extends Ad {static get requires() {return [YF,XF];} static get pluginName() {return "SelectAll";}} class eO extends yd {constructor(t) {super(t); this._stack=[]; this._createdBatches=new WeakSet; this.refresh(); this._isEnabledBasedOnSelection=false; this.listenTo(t.data,"set",((t,e) => {e[1]={...e[1]}; const n=e[1]; if (!n.batchType) {n.batchType={isUndoable: false};}}),{priority: "high"}); this.listenTo(t.data,"set",((t,e) => {const n=e[1]; if (!n.batchType.isUndoable) {this.clearStack();}}));}refresh() {this.isEnabled=this._stack.length>0;} get createdBatches() {return this._createdBatches;}addBatch(t) {const e=this.editor.model.document.selection; const n={ranges: e.hasOwnRange?Array.from(e.getRanges()):[],isBackward: e.isBackward}; this._stack.push({batch: t,selection: n}); this.refresh();}clearStack() {this._stack=[]; this.refresh();}_restoreSelection(t,e,n) {const o=this.editor.model; const i=o.document; const r=[]; const s=t.map((t => t.getTransformedByOperations(n))); const a=s.flat(); for (const t of s) {const e=t.filter((t => t.root!=i.graveyard)).filter((t => !oO(t,a))); if (!e.length) {continue;}nO(e); r.push(e[0]);} if (r.length) {o.change((t => {t.setSelection(r,{backward: e});}));}}_undo(t,e) {const n=this.editor.model; const o=n.document; this._createdBatches.add(e); const i=t.operations.slice().filter((t => t.isDocumentOperation)); i.reverse(); for (const t of i) {const i=t.baseVersion+1; const r=Array.from(o.history.getOperations(i)); const s=Jb([t.getReversed()],r,{useRelations: true,document: this.editor.model.document,padWithNoOps: false,forceWeakRemove: true}); const a=s.operationsA; for (let i of a) {const r=i.affectedSelectable; if (r&&!n.canEditAt(r)) {i=new Nb(i.baseVersion);}e.addOperation(i); n.applyOperation(i); o.history.setOperationAsUndone(t,i);}}}} function nO(t) {t.sort(((t,e) => t.start.isBefore(e.start)?-1:1)); for (let e=1; e<t.length; e++) {const n=t[e-1]; const o=n.getJoined(t[e],true); if (o) {e--; t.splice(e,2,o);}}} function oO(t,e) {return e.some((e => e!==t&&e.containsRange(t,true)));} class iO extends eO {execute(t=null) {const e=t?this._stack.findIndex((e => e.batch==t)):this._stack.length-1; const n=this._stack.splice(e,1)[0]; const o=this.editor.model.createBatch({isUndo: true}); this.editor.model.enqueueChange(o,(() => {this._undo(n.batch,o); const t=this.editor.model.document.history.getOperations(n.batch.baseVersion); this._restoreSelection(n.selection.ranges,n.selection.isBackward,t);})); this.fire("revert",n.batch,o); this.refresh();}} class rO extends eO {execute() {const t=this._stack.pop(); const e=this.editor.model.createBatch({isUndo: true}); this.editor.model.enqueueChange(e,(() => {const n=t.batch.operations[t.batch.operations.length-1]; const o=n.baseVersion+1; const i=this.editor.model.document.history.getOperations(o); this._restoreSelection(t.selection.ranges,t.selection.isBackward,i); this._undo(t.batch,e);})); this.refresh();}} class sO extends Ad {constructor() {super(...arguments); this._batchRegistry=new WeakSet;} static get pluginName() {return "UndoEditing";}init() {const t=this.editor; const e=t.t; this._undoCommand=new iO(t); this._redoCommand=new rO(t); t.commands.add("undo",this._undoCommand); t.commands.add("redo",this._redoCommand); this.listenTo(t.model,"applyOperation",((t,e) => {const n=e[0]; if (!n.isDocumentOperation) {return;} const o=n.batch; const i=this._redoCommand.createdBatches.has(o); const r=this._undoCommand.createdBatches.has(o); const s=this._batchRegistry.has(o); if (s) {return;} this._batchRegistry.add(o); if (!o.isUndoable) {return;} if (i) {this._undoCommand.addBatch(o);} else if (!r) {this._undoCommand.addBatch(o); this._redoCommand.clearStack();}}),{priority: "highest"}); this.listenTo(this._undoCommand,"revert",((t,e,n) => {this._redoCommand.addBatch(n);})); t.keystrokes.set("CTRL+Z","undo"); t.keystrokes.set("CTRL+Y","redo"); t.keystrokes.set("CTRL+SHIFT+Z","redo"); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Undo"),keystroke: "CTRL+Z"},{label: e("Redo"),keystroke: [["CTRL+Y"],["CTRL+SHIFT+Z"]]}]});}} class aO extends Ad {static get pluginName() {return "UndoUI";}init() {const t=this.editor; const e=t.locale; const n=t.t; const o=e.uiLanguageDirection=="ltr"?bA.undo:bA.redo; const i=e.uiLanguageDirection=="ltr"?bA.redo:bA.undo; this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",o); this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",i);}_addButtonsToFactory(t,e,n,o) {const i=this.editor; i.ui.componentFactory.add(t,(() => {const i=this._createButton(Ev,t,e,n,o); i.set({tooltip: true}); return i;})); i.ui.componentFactory.add(`menuBar:${t}`,(() => this._createButton(HS,t,e,n,o)));}_createButton(t,e,n,o,i) {const r=this.editor; const s=r.locale; const a=r.commands.get(e); const c=new t(s); c.set({label: n,icon: i,keystroke: o}); c.bind("isEnabled").to(a,"isEnabled"); this.listenTo(c,"execute",(() => {r.execute(e); r.editing.view.focus();})); return c;}} class cO extends Ad {static get requires() {return [sO,aO];} static get pluginName() {return "Undo";}} class lO extends Ad {static get requires() {return [gv,GF,VR,tO,LR,YI,cO];} static get pluginName() {return "Essentials";}} class dO extends yd {constructor(t) {super(t); this._isEnabledBasedOnSelection=false;}refresh() {const t=this.editor.model; const e=t.document; const n=rd(e.selection.getSelectedBlocks()); this.value=!!n&&n.is("element","paragraph"); this.isEnabled=!!n&&uO(n,t.schema);}execute(t={}) {const e=this.editor.model; const n=e.document; const o=t.selection||n.selection; if (!e.canEditAt(o)) {return;}e.change((t => {const n=o.getSelectedBlocks(); for (const o of n) {if (!o.is("element","paragraph")&&uO(o,e.schema)) {t.rename(o,"paragraph");}}}));}} function uO(t,e) {return e.checkChild(t.parent,"paragraph")&&!e.isObject(t);} class hO extends yd {constructor(t) {super(t); this._isEnabledBasedOnSelection=false;}execute(t) {const e=this.editor.model; const n=t.attributes; let o=t.position; if (!e.canEditAt(o)) {return;}e.change((t => {o=this._findPositionToInsertParagraph(o,t); if (!o) {return;} const i=t.createElement("paragraph"); if (n) {e.schema.setAllowedAttributes(i,n,t);}e.insertContent(i,o); t.setSelection(i,"in");}));}_findPositionToInsertParagraph(t,e) {const n=this.editor.model; if (n.schema.checkChild(t,"paragraph")) {return t;} const o=n.schema.findAllowedParent(t,"paragraph"); if (!o) {return null;} const i=t.parent; const r=n.schema.checkChild(i,"$text"); if (i.isEmpty||r&&t.isAtEnd) {return n.createPositionAfter(i);} if (!i.isEmpty&&r&&t.isAtStart) {return n.createPositionBefore(i);} return e.split(t,o).position;}} class gO extends Ad {static get pluginName() {return "Paragraph";}init() {const t=this.editor; const e=t.model; t.commands.add("paragraph",new dO(t)); t.commands.add("insertParagraph",new hO(t)); e.schema.register("paragraph",{inheritAllFrom: "$block"}); t.conversion.elementToElement({model: "paragraph",view: "p"}); t.conversion.for("upcast").elementToElement({model: (t,{writer: e}) => {if (!gO.paragraphLikeElements.has(t.name)) {return null;} if (t.isEmpty) {return null;} return e.createElement("paragraph");},view: /.+/,converterPriority: "low"});}}gO.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]); const fO=gO; const mO=bA.paragraph; class pO extends (null&&Plugin) {static get requires() {return [Paragraph];}init() {const t=this.editor; const e=t.t; t.ui.componentFactory.add("paragraph",(n => {const o=new ButtonView(n); const i=t.commands.get("paragraph"); o.label=e("Paragraph"); o.icon=mO; o.tooltip=true; o.isToggleable=true; o.bind("isEnabled").to(i); o.bind("isOn").to(i,"value"); o.on("execute",(() => {t.execute("paragraph");})); return o;}));}} class kO extends yd {constructor(t,e) {super(t); this.modelElements=e;}refresh() {const t=rd(this.editor.model.document.selection.getSelectedBlocks()); this.value=!!t&&this.modelElements.includes(t.name)&&t.name; this.isEnabled=!!t&&this.modelElements.some((e => bO(t,e,this.editor.model.schema)));}execute(t) {const e=this.editor.model; const n=e.document; const o=t.value; e.change((t => {const i=Array.from(n.selection.getSelectedBlocks()).filter((t => bO(t,o,e.schema))); for (const e of i) {if (!e.is("element",o)) {t.rename(e,o);}}}));}} function bO(t,e,n) {return n.checkChild(t.parent,e)&&!n.isObject(t);} const wO="paragraph"; class _O extends Ad {static get pluginName() {return "HeadingEditing";}constructor(t) {super(t); t.config.define("heading",{options: [{model: "paragraph",title: "Paragraph",class: "ck-heading_paragraph"},{model: "heading1",view: "h2",title: "Heading 1",class: "ck-heading_heading1"},{model: "heading2",view: "h3",title: "Heading 2",class: "ck-heading_heading2"},{model: "heading3",view: "h4",title: "Heading 3",class: "ck-heading_heading3"}]});} static get requires() {return [fO];}init() {const t=this.editor; const e=t.config.get("heading.options"); const n=[]; for (const o of e) {if (o.model==="paragraph") {continue;}t.model.schema.register(o.model,{inheritAllFrom: "$block"}); t.conversion.elementToElement(o); n.push(o.model);} this._addDefaultH1Conversion(t); t.commands.add("heading",new kO(t,n));}afterInit() {const t=this.editor; const e=t.commands.get("enter"); const n=t.config.get("heading.options"); if (e) {this.listenTo(e,"afterExecute",((e,o) => {const i=t.model.document.selection.getFirstPosition().parent; const r=n.some((t => i.is("element",t.model))); if (r&&!i.is("element",wO)&&i.childCount===0) {o.writer.rename(i,wO);}}));}}_addDefaultH1Conversion(t) {t.conversion.for("upcast").elementToElement({model: "heading1",view: "h1",converterPriority: I.low+1});}} function CO(t) {const e=t.t; const n={Paragraph: e("Paragraph"),"Heading 1": e("Heading 1"),"Heading 2": e("Heading 2"),"Heading 3": e("Heading 3"),"Heading 4": e("Heading 4"),"Heading 5": e("Heading 5"),"Heading 6": e("Heading 6")}; return t.config.get("heading.options").map((t => {const e=n[t.title]; if (e&&e!=t.title) {t.title=e;} return t;}));} const AO=n(2863); const vO={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; vO.insert="head"; vO.singleton=true; const yO=Id()(AO.A,vO); const xO=AO.A.locals||{}; class EO extends Ad {static get pluginName() {return "HeadingUI";}init() {const t=this.editor; const e=t.t; const n=CO(t); const o=e("Choose heading"); const i=e("Heading"); t.ui.componentFactory.add("heading",(e => {const r={}; const s=new id; const a=t.commands.get("heading"); const c=t.commands.get("paragraph"); const l=[a]; for (const t of n) {const e={type: "button",model: new VB({label: t.title,class: t.class,role: "menuitemradio",withText: true})}; if (t.model==="paragraph") {e.model.bind("isOn").to(c,"value"); e.model.set("commandName","paragraph"); l.push(c);} else {e.model.bind("isOn").to(a,"value",(e => e===t.model)); e.model.set({commandName: "heading",commandValue: t.model});}s.add(e); r[t.model]=t.title;} const d=Cx(e); yx(d,s,{ariaLabel: i,role: "menu"}); d.buttonView.set({ariaLabel: i,ariaLabelledBy: undefined,isOn: false,withText: true,tooltip: i}); d.extendTemplate({attributes: {class: ["ck-heading-dropdown"]}}); d.bind("isEnabled").toMany(l,"isEnabled",((...t) => t.some((t => t)))); d.buttonView.bind("label").to(a,"value",c,"value",((t,e) => {const n=e?"paragraph":t; if (typeof n==="boolean") {return o;} if (!r[n]) {return o;} return r[n];})); d.buttonView.bind("ariaLabel").to(a,"value",c,"value",((t,e) => {const n=e?"paragraph":t; if (typeof n==="boolean") {return i;} if (!r[n]) {return i;} return `${r[n]}, ${i}`;})); this.listenTo(d,"execute",(e => {const {commandName: n,commandValue: o}=e.source; t.execute(n,o?{value: o}:undefined); t.editing.view.focus();})); return d;})); t.ui.componentFactory.add("menuBar:heading",(o => {const i=new MS(o); const r=t.commands.get("heading"); const s=t.commands.get("paragraph"); const a=[r]; const c=new FS(o); i.set({class: "ck-heading-dropdown"}); c.set({ariaLabel: e("Heading"),role: "menu"}); i.buttonView.set({label: e("Heading")}); i.panelView.children.add(c); for (const e of n) {const n=new oS(o,i); const l=new HS(o); n.children.add(l); c.items.add(n); l.set({label: e.title,role: "menuitemradio",class: e.class}); l.bind("ariaChecked").to(l,"isOn"); l.delegate("execute").to(i); l.on("execute",(() => {const n=e.model==="paragraph"?"paragraph":"heading"; t.execute(n,{value: e.model}); t.editing.view.focus();})); if (e.model==="paragraph") {l.bind("isOn").to(s,"value"); a.push(s);} else {l.bind("isOn").to(r,"value",(t => t===e.model));}}i.bind("isEnabled").toMany(a,"isEnabled",((...t) => t.some((t => t)))); return i;}));}} class DO extends Ad {static get requires() {return [_O,EO];} static get pluginName() {return "Heading";}} const BO={heading1: bA.heading1,heading2: bA.heading2,heading3: bA.heading3,heading4: bA.heading4,heading5: bA.heading5,heading6: bA.heading6}; class TO extends (null&&Plugin) {init() {const t=getLocalizedOptions(this.editor); t.filter((t => t.model!=="paragraph")).map((t => this._createButton(t)));}_createButton(t) {const e=this.editor; e.ui.componentFactory.add(t.model,(n => {const o=new ButtonView(n); const i=e.commands.get("heading"); o.label=t.title; o.icon=t.icon||BO[t.model]; o.tooltip=true; o.isToggleable=true; o.bind("isEnabled").to(i); o.bind("isOn").to(i,"value",(e => e==t.model)); o.on("execute",(() => {e.execute("heading",{value: t.model}); e.editing.view.focus();})); return o;}));}} const SO=new Set(["paragraph","heading1","heading2","heading3","heading4","heading5","heading6"]); class IO extends Ad {constructor() {super(...arguments); this._bodyPlaceholder=new Map;} static get pluginName() {return "Title";} static get requires() {return ["Paragraph"];}init() {const t=this.editor; const e=t.model; e.schema.register("title",{isBlock: true,allowIn: "$root"}); e.schema.register("title-content",{isBlock: true,allowIn: "title",allowAttributes: ["alignment"]}); e.schema.extend("$text",{allowIn: "title-content"}); e.schema.addAttributeCheck((t => {if (t.endsWith("title-content $text")) {return false;}})); t.editing.mapper.on("modelToViewPosition",RO(t.editing.view)); t.data.mapper.on("modelToViewPosition",RO(t.editing.view)); t.conversion.for("downcast").elementToElement({model: "title-content",view: "h1"}); t.conversion.for("downcast").add((t => t.on("insert:title",((t,e,n) => {n.consumable.consume(e.item,t.name);})))); t.data.upcastDispatcher.on("element:h1",PO,{priority: "high"}); t.data.upcastDispatcher.on("element:h2",PO,{priority: "high"}); t.data.upcastDispatcher.on("element:h3",PO,{priority: "high"}); e.document.registerPostFixer((t => this._fixTitleContent(t))); e.document.registerPostFixer((t => this._fixTitleElement(t))); e.document.registerPostFixer((t => this._fixBodyElement(t))); e.document.registerPostFixer((t => this._fixExtraParagraph(t))); this._attachPlaceholders(); this._attachTabPressHandling();}getTitle(t={}) {const e=t.rootName?t.rootName:undefined; const n=this._getTitleElement(e); const o=n.getChild(0); return this.editor.data.stringify(o,t);}getBody(t={}) {const e=this.editor; const n=e.data; const o=e.model; const i=t.rootName?t.rootName:undefined; const r=e.model.document.getRoot(i); const s=e.editing.view; const a=new Zh(s.document); const c=o.createRangeIn(r); const l=a.createDocumentFragment(); const d=o.createPositionAfter(r.getChild(0)); const u=o.createRange(d,o.createPositionAt(r,"end")); const h=new Map; for (const t of o.markers) {const e=u.getIntersection(t.getRange()); if (e) {h.set(t.name,e);}}n.mapper.clearBindings(); n.mapper.bindElements(r,l); n.downcastDispatcher.convert(c,h,a,t); a.remove(a.createRangeOn(l.getChild(0))); return e.data.processor.toData(l);}_getTitleElement(t) {const e=this.editor.model.document.getRoot(t); for (const t of e.getChildren()) {if (VO(t)) {return t;}}}_fixTitleContent(t) {let e=false; for (const n of this.editor.model.document.getRootNames()) {const o=this._getTitleElement(n); if (!o||o.maxOffset===1) {continue;} const i=Array.from(o.getChildren()); i.shift(); for (const e of i) {t.move(t.createRangeOn(e),o,"after"); t.rename(e,"paragraph");}e=true;} return e;}_fixTitleElement(t) {let e=false; const n=this.editor.model; for (const o of this.editor.model.document.getRoots()) {const i=Array.from(o.getChildren()).filter(VO); const r=i[0]; const s=o.getChild(0); if (s.is("element","title")) {if (i.length>1) {FO(i,t,n); e=true;} continue;} if (!r&&!SO.has(s.name)) {const n=t.createElement("title"); t.insert(n,o); t.insertElement("title-content",n); e=true; continue;} if (SO.has(s.name)) {MO(s,t,n);} else {t.move(t.createRangeOn(r),o,0);}FO(i,t,n); e=true;} return e;}_fixBodyElement(t) {let e=false; for (const n of this.editor.model.document.getRootNames()) {const o=this.editor.model.document.getRoot(n); if (o.childCount<2) {const i=t.createElement("paragraph"); t.insert(i,o,1); this._bodyPlaceholder.set(n,i); e=true;}} return e;}_fixExtraParagraph(t) {let e=false; for (const n of this.editor.model.document.getRootNames()) {const o=this.editor.model.document.getRoot(n); const i=this._bodyPlaceholder.get(n); if (zO(i,o)) {this._bodyPlaceholder.delete(n); t.remove(i); e=true;}} return e;}_attachPlaceholders() {const t=this.editor; const e=t.t; const n=t.editing.view; const o=t.sourceElement; const i=t.config.get("title.placeholder")||e("Type your title"); const r=t.config.get("placeholder")||o&&o.tagName.toLowerCase()==="textarea"&&o.getAttribute("placeholder")||e("Type or paste your content here."); t.editing.downcastDispatcher.on("insert:title-content",((t,e,o) => {const r=o.mapper.toViewElement(e.item); r.placeholder=i; zd({view: n,element: r,keepOnFocus: true});})); const s=new Map; n.document.registerPostFixer((t => {let e=false; for (const o of n.document.roots) {if (o.isEmpty) {continue;} const n=o.getChild(1); const i=s.get(o.rootName); if (n!==i) {if (i) {Hd(t,i); t.removeAttribute("data-placeholder",i);}t.setAttribute("data-placeholder",r,n); s.set(o.rootName,n); e=true;} if (jd(n,true)&&o.childCount===2&&n.name==="p") {e=Ld(t,n)?true:e;} else {e=Hd(t,n)?true:e;}} return e;}));}_attachTabPressHandling() {const t=this.editor; const e=t.model; t.keystrokes.set("TAB",((t,n) => {e.change((t => {const o=e.document.selection; const i=Array.from(o.getSelectedBlocks()); if (i.length===1&&i[0].is("element","title-content")) {const e=o.getFirstPosition().root; const i=e.getChild(1); t.setSelection(i,0); n();}}));})); t.keystrokes.set("SHIFT + TAB",((n,o) => {e.change((n => {const i=e.document.selection; if (!i.isCollapsed) {return;} const r=rd(i.getSelectedBlocks()); const s=i.getFirstPosition(); const a=t.model.document.getRoot(s.root.rootName); const c=a.getChild(0); const l=a.getChild(1); if (r===l&&s.isAtStart) {n.setSelection(c.getChild(0),0); o();}}));}));}} function PO(t,e,n) {const o=e.modelCursor; const i=e.viewItem; if (!o.isAtStart||!o.parent.is("element","$root")) {return;} if (!n.consumable.consume(i,{name: true})) {return;} const r=n.writer; const s=r.createElement("title"); const a=r.createElement("title-content"); r.append(a,s); r.insert(s,o); n.convertChildren(i,a); n.updateConversionResult(s,e);} function RO(t) {return (e,n) => {const o=n.modelPosition.parent; if (!o.is("element","title")) {return;} const i=o.parent; const r=n.mapper.toViewElement(i); n.viewPosition=t.createPositionAt(r,0); e.stop();};} function VO(t) {return t.is("element","title");} function MO(t,e,n) {const o=e.createElement("title"); e.insert(o,t,"before"); e.insert(t,o,0); e.rename(t,"title-content"); n.schema.removeDisallowedAttributes([t],e);} function FO(t,e,n) {let o=false; for (const i of t) {if (i.index!==0) {OO(i,e,n); o=true;}} return o;} function OO(t,e,n) {const o=t.getChild(0); if (o.isEmpty) {e.remove(t); return;}e.move(e.createRangeOn(o),t,"before"); e.rename(o,"paragraph"); e.remove(t); n.schema.removeDisallowedAttributes([o],e);} function zO(t,e) {if (!t||!t.is("element","paragraph")||t.childCount) {return false;} if (e.childCount<=2||e.getChild(e.childCount-1)!==t) {return false;} return true;} class NO extends yd {refresh() {const t=this.editor.model; const e=t.document; this.value=e.selection.getAttribute("highlight"); this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"highlight");}execute(t={}) {const e=this.editor.model; const n=e.document; const o=n.selection; const i=t.value; e.change((t => {if (o.isCollapsed) {const e=o.getFirstPosition(); if (o.hasAttribute("highlight")) {const n=t => t.item.hasAttribute("highlight")&&t.item.getAttribute("highlight")===this.value; const o=e.getLastMatchingPosition(n,{direction: "backward"}); const r=e.getLastMatchingPosition(n); const s=t.createRange(o,r); if (!i||this.value===i) {if (!e.isEqual(r)) {t.removeAttribute("highlight",s);}t.removeSelectionAttribute("highlight");} else {if (!e.isEqual(r)) {t.setAttribute("highlight",i,s);}t.setSelectionAttribute("highlight",i);}} else if (i) {t.setSelectionAttribute("highlight",i);}} else {const n=e.schema.getValidRanges(o.getRanges(),"highlight"); for (const e of n) {if (i) {t.setAttribute("highlight",i,e);} else {t.removeAttribute("highlight",e);}}}}));}} class LO extends Ad {static get pluginName() {return "HighlightEditing";}constructor(t) {super(t); t.config.define("highlight",{options: [{model: "yellowMarker",class: "marker-yellow",title: "Yellow marker",color: "var(--ck-highlight-marker-yellow)",type: "marker"},{model: "greenMarker",class: "marker-green",title: "Green marker",color: "var(--ck-highlight-marker-green)",type: "marker"},{model: "pinkMarker",class: "marker-pink",title: "Pink marker",color: "var(--ck-highlight-marker-pink)",type: "marker"},{model: "blueMarker",class: "marker-blue",title: "Blue marker",color: "var(--ck-highlight-marker-blue)",type: "marker"},{model: "redPen",class: "pen-red",title: "Red pen",color: "var(--ck-highlight-pen-red)",type: "pen"},{model: "greenPen",class: "pen-green",title: "Green pen",color: "var(--ck-highlight-pen-green)",type: "pen"}]});}init() {const t=this.editor; t.model.schema.extend("$text",{allowAttributes: "highlight"}); const e=t.config.get("highlight.options"); t.conversion.attributeToElement(HO(e)); t.commands.add("highlight",new NO(t));}} function HO(t) {const e={model: {key: "highlight",values: []},view: {}}; for (const n of t) {e.model.values.push(n.model); e.view[n.model]={name: "mark",classes: n.class};} return e;} const jO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.798 1.59 3.002 12.875l1.895 1.852 2.521 1.402 6.997-12.194z"/><path d="m2.556 16.727.234-.348c-.297-.151-.462-.293-.498-.426-.036-.137.002-.416.115-.837.094-.25.15-.449.169-.595a4.495 4.495 0 0 0 0-.725c-.209-.621-.303-1.041-.284-1.26.02-.218.178-.506.475-.862l6.77-9.414c.539-.91 1.605-.85 3.199.18 1.594 1.032 2.188 1.928 1.784 2.686l-5.877 10.36c-.158.412-.333.673-.526.782-.193.108-.604.179-1.232.21-.362.131-.608.237-.738.318-.13.081-.305.238-.526.47-.293.265-.504.397-.632.397-.096 0-.27-.075-.524-.226l-.31.41-1.6-1.12zm-.279.415 1.575 1.103-.392.515H1.19l1.087-1.618zm8.1-13.656-4.953 6.9L8.75 12.57l4.247-7.574c.175-.25-.188-.647-1.092-1.192-.903-.546-1.412-.652-1.528-.32zM8.244 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'; const WO='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path class="ck-icon__fill" d="M10.126 2.268 2.002 13.874l1.895 1.852 2.521 1.402L14.47 5.481l-1.543-2.568-2.801-.645z"/><path d="m4.5 18.088-2.645-1.852-.04-2.95-.006-.005.006-.008v-.025l.011.008L8.73 2.97c.165-.233.356-.417.567-.557l-1.212.308L4.604 7.9l-.83-.558 3.694-5.495 2.708-.69 1.65 1.145.046.018.85-1.216 2.16 1.512-.856 1.222c.828.967 1.144 2.141.432 3.158L7.55 17.286l.006.005-3.055.797H4.5zm-.634.166-1.976.516-.026-1.918 2.002 1.402zM9.968 3.817l-.006-.004-6.123 9.184 3.277 2.294 6.108-9.162.005.003c.317-.452-.16-1.332-1.064-1.966-.891-.624-1.865-.776-2.197-.349zM8.245 18.5 9.59 17h9.406v1.5H8.245z"/></svg>'; const qO=n(8547); const UO={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; UO.insert="head"; UO.singleton=true; const $O=Id()(qO.A,UO); const GO=qO.A.locals||{}; class KO extends Ad {get localizedOptionTitles() {const t=this.editor.t; return {"Yellow marker": t("Yellow marker"),"Green marker": t("Green marker"),"Pink marker": t("Pink marker"),"Blue marker": t("Blue marker"),"Red pen": t("Red pen"),"Green pen": t("Green pen")};} static get pluginName() {return "HighlightUI";}init() {const t=this.editor.config.get("highlight.options"); for (const e of t) {this._addHighlighterButton(e);} this._addRemoveHighlightButton(); this._addDropdown(t); this._addMenuBarButton(t);}_addRemoveHighlightButton() {const t=this.editor.t; const e=this.editor.commands.get("highlight"); this._addButton("removeHighlight",t("Remove highlight"),bA.eraser,null,(t => {t.bind("isEnabled").to(e,"isEnabled");}));}_addHighlighterButton(t) {const e=this.editor.commands.get("highlight"); this._addButton(`highlight:${t.model}`,t.title,JO(t.type),t.model,n); function n(n) {n.bind("isEnabled").to(e,"isEnabled"); n.bind("isOn").to(e,"value",(e => e===t.model)); n.iconView.fillColor=t.color; n.isToggleable=true;}}_addButton(t,e,n,o,i) {const r=this.editor; r.ui.componentFactory.add(t,(t => {const s=new Ev(t); const a=this.localizedOptionTitles[e]?this.localizedOptionTitles[e]:e; s.set({label: a,icon: n,tooltip: true}); s.on("execute",(() => {r.execute("highlight",{value: o}); r.editing.view.focus();})); i(s); return s;}));}_addDropdown(t) {const e=this.editor; const n=e.t; const o=e.ui.componentFactory; const i=t[0]; const r=t.reduce(((t,e) => {t[e.model]=e; return t;}),{}); o.add("highlight",(s => {const a=e.commands.get("highlight"); const c=Cx(s,hx); const l=c.buttonView; l.set({label: n("Highlight"),tooltip: true,lastExecuted: i.model,commandValue: i.model,isToggleable: true}); l.bind("icon").to(a,"value",(t => JO(u(t,"type")))); l.bind("color").to(a,"value",(t => u(t,"color"))); l.bind("commandValue").to(a,"value",(t => u(t,"model"))); l.bind("isOn").to(a,"value",(t => !!t)); l.delegate("execute").to(c); const d=() => {const e=t.map((t => {const e=o.create(`highlight:${t.model}`); this.listenTo(e,"execute",(() => {c.buttonView.set({lastExecuted: t.model});})); return e;})); e.push(new Ly); e.push(o.create("removeHighlight")); return e;}; c.bind("isEnabled").to(a,"isEnabled"); Ax(c,d,{enableActiveItemFocusOnDropdownOpen: true,ariaLabel: n("Text highlight toolbar")}); ZO(c); l.on("execute",(() => {e.execute("highlight",{value: l.commandValue});})); this.listenTo(c,"execute",(() => {e.editing.view.focus();})); function u(t,e) {const n=!t||t===l.lastExecuted?l.lastExecuted:t; return r[n][e];} return c;}));}_addMenuBarButton(t) {const e=this.editor; const n=e.t; e.ui.componentFactory.add("menuBar:highlight",(o => {const i=e.commands.get("highlight"); const r=new MS(o); r.buttonView.set({label: n("Highlight"),icon: JO("marker")}); r.bind("isEnabled").to(i); r.buttonView.iconView.fillColor="transparent"; const s=new FS(o); for (const n of t) {const t=new oS(o,r); const a=new HS(o); a.set({label: n.title,icon: JO(n.type)}); a.delegate("execute").to(r); a.bind("isOn").to(i,"value",(t => t===n.model)); a.bind("ariaChecked").to(a,"isOn"); a.iconView.bind("fillColor").to(a,"isOn",(t => t?"transparent":n.color)); a.on("execute",(() => {e.execute("highlight",{value: n.model}); e.editing.view.focus();})); t.children.add(a); s.items.add(t);}s.items.add(new ex(o)); const a=new oS(o,r); const c=new HS(o); c.set({label: n("Remove highlight"),icon: bA.eraser}); c.delegate("execute").to(r); c.on("execute",(() => {e.execute("highlight",{value: null}); e.editing.view.focus();})); a.children.add(c); s.items.add(a); r.panelView.children.add(s); return r;}));}} function ZO(t) {const e=t.buttonView.actionView; e.iconView.bind("fillColor").to(t.buttonView,"color");} function JO(t) {return t==="marker"?jO:WO;} class YO extends Ad {static get requires() {return [LO,KO];} static get pluginName() {return "Highlight";}} function QO(t) {return t.createContainerElement("span",{class: "image-inline"},t.createEmptyElement("img"));} function XO(t) {return t.createContainerElement("figure",{class: "image"},[t.createEmptyElement("img"),t.createSlot("children")]);} function tz(t,e) {const n=t.plugins.get("ImageUtils"); const o=t.plugins.has("ImageInlineEditing")&&t.plugins.has("ImageBlockEditing"); return t => {if (!n.isInlineImageView(t)) {return null;} if (!o) {return i(t);} const r=t.getStyle("display")=="block"||t.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline"; if (r!==e) {return null;} return i(t);}; function i(t) {const e={name: true}; if (t.hasAttribute("src")) {e.attributes=["src"];} return e;}} function ez(t,e) {const n=rd(e.getSelectedBlocks()); if (!n||t.isObject(n)) {return "imageBlock";} if (n.isEmpty&&n.name!="listItem") {return "imageBlock";} return "imageInline";} function nz(t) {if (t&&t.endsWith("px")) {return parseInt(t);} return null;} function oz(t) {const e=nz(t.getStyle("width")); const n=nz(t.getStyle("height")); return !!(e&&n);} const iz=/^(image|image-inline)$/; class rz extends Ad {constructor() {super(...arguments); this._domEmitter=new (Ya());} static get pluginName() {return "ImageUtils";}isImage(t) {return this.isInlineImage(t)||this.isBlockImage(t);}isInlineImageView(t) {return !!t&&t.is("element","img");}isBlockImageView(t) {return !!t&&t.is("element","figure")&&t.hasClass("image");}insertImage(t={},e=null,n=null,o={}) {const i=this.editor; const r=i.model; const s=r.document.selection; const a=lz(i,e||s,n); t={...Object.fromEntries(s.getAttributes()),...t}; for (const e in t) {if (!r.schema.checkAttribute(a,e)) {delete t[e];}} return r.change((n => {const {setImageSizes: i=true}=o; const s=n.createElement(a,t); r.insertObject(s,e,null,{setSelection: "on",findOptimalPosition: !e&&a!="imageInline"?"auto":undefined}); if (s.parent) {if (i) {this.setImageNaturalSizeAttributes(s);} return s;} return null;}));}setImageNaturalSizeAttributes(t) {const e=t.getAttribute("src"); if (!e) {return;} if (t.getAttribute("width")||t.getAttribute("height")) {return;} this.editor.model.change((n => {const o=new nc.window.Image; this._domEmitter.listenTo(o,"load",(() => {if (!t.getAttribute("width")&&!t.getAttribute("height")) {this.editor.model.enqueueChange(n.batch,(e => {e.setAttribute("width",o.naturalWidth,t); e.setAttribute("height",o.naturalHeight,t);}));} this._domEmitter.stopListening(o,"load");})); o.src=e;}));}getClosestSelectedImageWidget(t) {const e=t.getFirstPosition(); if (!e) {return null;} const n=t.getSelectedElement(); if (n&&this.isImageWidget(n)) {return n;} let o=e.parent; while (o) {if (o.is("element")&&this.isImageWidget(o)) {return o;}o=o.parent;} return null;}getClosestSelectedImageElement(t) {const e=t.getSelectedElement(); return this.isImage(e)?e:t.getFirstPosition().findAncestor("imageBlock");}getImageWidgetFromImageView(t) {return t.findAncestor({classes: iz});}isImageAllowed() {const t=this.editor.model; const e=t.document.selection; return sz(this.editor,e)&&az(e);}toImageWidget(t,e,n) {e.setCustomProperty("image",true,t); const o=() => {const e=this.findViewImgElement(t); const o=e.getAttribute("alt"); return o?`${o} ${n}`:n;}; return pM(t,e,{label: o});}isImageWidget(t) {return !!t.getCustomProperty("image")&&mM(t);}isBlockImage(t) {return !!t&&t.is("element","imageBlock");}isInlineImage(t) {return !!t&&t.is("element","imageInline");}findViewImgElement(t) {if (this.isInlineImageView(t)) {return t;} const e=this.editor.editing.view; for (const {item: n} of e.createRangeIn(t)) {if (this.isInlineImageView(n)) {return n;}}}destroy() {this._domEmitter.stopListening(); return super.destroy();}} function sz(t,e) {const n=lz(t,e,null); if (n=="imageBlock") {const n=cz(e,t.model); if (t.model.schema.checkChild(n,"imageBlock")) {return true;}} else if (t.model.schema.checkChild(e.focus,"imageInline")) {return true;} return false;} function az(t) {return [...t.focus.getAncestors()].every((t => !t.is("element","imageBlock")));} function cz(t,e) {const n=vM(t,e); const o=n.start.parent; if (o.isEmpty&&!o.is("element","$root")) {return o.parent;} return o;} function lz(t,e,n) {const o=t.model.schema; const i=t.config.get("image.insert.type"); if (!t.plugins.has("ImageBlockEditing")) {return "imageInline";} if (!t.plugins.has("ImageInlineEditing")) {return "imageBlock";} if (n) {return n;} if (i==="inline") {return "imageInline";} if (i!=="auto") {return "imageBlock";} if (e.is("selection")) {return ez(o,e);} return o.checkChild(e,"imageInline")?"imageInline":"imageBlock";} const dz=new RegExp(String((/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/).source+(/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/).source+(/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/).source+(/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/).source)); class uz extends Ad {static get requires() {return [GF,rz,cO,JI];} static get pluginName() {return "AutoImage";}constructor(t) {super(t); this._timeoutId=null; this._positionToInsert=null;}init() {const t=this.editor; const e=t.model.document; const n=t.plugins.get("ClipboardPipeline"); this.listenTo(n,"inputTransformation",(() => {const t=e.selection.getFirstRange(); const n=iw.fromPosition(t.start); n.stickiness="toPrevious"; const o=iw.fromPosition(t.end); o.stickiness="toNext"; e.once("change:data",(() => {this._embedImageBetweenPositions(n,o); n.detach(); o.detach();}),{priority: "high"});})); t.commands.get("undo").on("execute",(() => {if (this._timeoutId) {nc.window.clearTimeout(this._timeoutId); this._positionToInsert.detach(); this._timeoutId=null; this._positionToInsert=null;}}),{priority: "high"});}_embedImageBetweenPositions(t,e) {const n=this.editor; const o=new lp(t,e); const i=o.getWalker({ignoreElementEnd: true}); const r=Object.fromEntries(n.model.document.selection.getAttributes()); const s=this.editor.plugins.get("ImageUtils"); let a=""; for (const t of i) {if (t.item.is("$textProxy")) {a+=t.item.data;}}a=a.trim(); if (!a.match(dz)) {o.detach(); return;} this._positionToInsert=iw.fromPosition(t); this._timeoutId=setTimeout((() => {const t=n.commands.get("insertImage"); if (!t.isEnabled) {o.detach(); return;}n.model.change((t => {this._timeoutId=null; t.remove(o); o.detach(); let e; if (this._positionToInsert.root.rootName!=="$graveyard") {e=this._positionToInsert.toPosition();}s.insertImage({...r,src: a},e); this._positionToInsert.detach(); this._positionToInsert=null;})); const e=n.plugins.get("Delete"); e.requestUndoOnBackspace();}),100);}} class hz extends yd {refresh() {const t=this.editor; const e=t.plugins.get("ImageUtils"); const n=e.getClosestSelectedImageElement(this.editor.model.document.selection); this.isEnabled=!!n; if (this.isEnabled&&n.hasAttribute("alt")) {this.value=n.getAttribute("alt");} else {this.value=false;}}execute(t) {const e=this.editor; const n=e.plugins.get("ImageUtils"); const o=e.model; const i=n.getClosestSelectedImageElement(o.document.selection); o.change((e => {e.setAttribute("alt",t.newValue,i);}));}} class gz extends Ad {static get requires() {return [rz];} static get pluginName() {return "ImageTextAlternativeEditing";}init() {this.editor.commands.add("imageTextAlternative",new hz(this.editor));}} const fz=n(8748); const mz={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; mz.insert="head"; mz.singleton=true; const pz=Id()(fz.A,mz); const kz=fz.A.locals||{}; const bz=n(7072); const wz={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; wz.insert="head"; wz.singleton=true; const _z=Id()(bz.A,wz); const Cz=bz.A.locals||{}; class Az extends XA {constructor(t) {super(t); const e=this.locale.t; this.focusTracker=new sd; this.keystrokes=new ad; this.labeledInput=this._createLabeledInputView(); this.saveButtonView=this._createButton(e("Save"),bA.check,"ck-button-save"); this.saveButtonView.type="submit"; this.cancelButtonView=this._createButton(e("Cancel"),bA.cancel,"ck-button-cancel","cancel"); this._focusables=new wA; this._focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.setTemplate({tag: "form",attributes: {class: ["ck","ck-text-alternative-form","ck-responsive-form"],tabindex: "-1"},children: [this.labeledInput,this.saveButtonView,this.cancelButtonView]});}render() {super.render(); this.keystrokes.listenTo(this.element); i({view: this}); [this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((t => {this._focusables.add(t); this.focusTracker.add(t.element);}));}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}_createButton(t,e,n,o) {const i=new Ev(this.locale); i.set({label: t,icon: e,tooltip: true}); i.extendTemplate({attributes: {class: n}}); if (o) {i.delegate("execute").to(this,o);} return i;}_createLabeledInputView() {const t=this.locale.t; const e=new hy(this.locale,Mx); e.label=t("Text alternative"); return e;}} function vz(t) {const e=t.plugins.get("ContextualBalloon"); const n=t.plugins.get("ImageUtils"); if (n.getClosestSelectedImageWidget(t.editing.view.document.selection)) {const n=yz(t); e.updatePosition(n);}} function yz(t) {const e=t.editing.view; const n=ND.defaultPositions; const o=t.plugins.get("ImageUtils"); return {target: e.domConverter.mapViewToDom(o.getClosestSelectedImageWidget(e.document.selection)),positions: [n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]};} class xz extends Ad {static get requires() {return [qB];} static get pluginName() {return "ImageTextAlternativeUI";}init() {this._createButton();}destroy() {super.destroy(); if (this._form) {this._form.destroy();}}_createButton() {const t=this.editor; const e=t.t; t.ui.componentFactory.add("imageTextAlternative",(n => {const o=t.commands.get("imageTextAlternative"); const i=new Ev(n); i.set({label: e("Change image text alternative"),icon: bA.textAlternative,tooltip: true}); i.bind("isEnabled").to(o,"isEnabled"); i.bind("isOn").to(o,"value",(t => !!t)); this.listenTo(i,"execute",(() => {this._showForm();})); return i;}));}_createForm() {const n=this.editor; const o=n.editing.view; const i=o.document; const r=n.plugins.get("ImageUtils"); this._balloon=this.editor.plugins.get("ContextualBalloon"); this._form=new (e(Az))(n.locale); this._form.render(); this.listenTo(this._form,"submit",(() => {n.execute("imageTextAlternative",{newValue: this._form.labeledInput.fieldView.element.value}); this._hideForm(true);})); this.listenTo(this._form,"cancel",(() => {this._hideForm(true);})); this._form.keystrokes.set("Esc",((t,e) => {this._hideForm(true); e();})); this.listenTo(n.ui,"update",(() => {if (!r.getClosestSelectedImageWidget(i.selection)) {this._hideForm(true);} else if (this._isVisible) {vz(n);}})); t({emitter: this._form,activator: () => this._isVisible,contextElements: () => [this._balloon.view.element],callback: () => this._hideForm()});}_showForm() {if (this._isVisible) {return;} if (!this._form) {this._createForm();} const t=this.editor; const e=t.commands.get("imageTextAlternative"); const n=this._form.labeledInput; this._form.disableCssTransitions(); if (!this._isInBalloon) {this._balloon.add({view: this._form,position: yz(t)});}n.fieldView.value=n.fieldView.element.value=e.value||""; this._form.labeledInput.fieldView.select(); this._form.enableCssTransitions();}_hideForm(t=false) {if (!this._isInBalloon) {return;} if (this._form.focusTracker.isFocused) {this._form.saveButtonView.focus();} this._balloon.remove(this._form); if (t) {this.editor.editing.view.focus();}} get _isVisible() {return !!this._balloon&&this._balloon.visibleView===this._form;} get _isInBalloon() {return !!this._balloon&&this._balloon.hasView(this._form);}} class Ez extends Ad {static get requires() {return [gz,xz];} static get pluginName() {return "ImageTextAlternative";}} function Dz(t) {const e=(e,n,o) => {if (!o.consumable.test(n.viewItem,{name: true,classes: "image"})) {return;} const i=t.findViewImgElement(n.viewItem); if (!i||!o.consumable.test(i,{name: true})) {return;}o.consumable.consume(n.viewItem,{name: true,classes: "image"}); const r=o.convertItem(i,n.modelCursor); const s=rd(r.modelRange.getItems()); if (!s) {o.consumable.revert(n.viewItem,{name: true,classes: "image"}); return;}o.convertChildren(n.viewItem,s); o.updateConversionResult(s,n);}; return t => {t.on("element:figure",e);};} function Bz(t) {const e=["srcset","media","type","sizes"]; const n=(n,o,i) => {const r=o.viewItem; if (!i.consumable.test(r,{name: true})) {return;} const s=new Map; for (const t of r.getChildren()) {if (t.is("element","source")) {const n={}; for (const o of e) {if (t.hasAttribute(o)) {if (i.consumable.test(t,{attributes: o})) {n[o]=t.getAttribute(o);}}} if (Object.keys(n).length) {s.set(t,n);}}} const a=t.findViewImgElement(r); if (!a) {return;} let c=o.modelCursor.parent; if (!c.is("element","imageBlock")) {const t=i.convertItem(a,o.modelCursor); o.modelRange=t.modelRange; o.modelCursor=t.modelCursor; c=first(t.modelRange.getItems());}i.consumable.consume(r,{name: true}); for (const [t,e] of s) {i.consumable.consume(t,{attributes: Object.keys(e)});} if (s.size) {i.writer.setAttribute("sources",Array.from(s.values()),c);}i.convertChildren(r,c);}; return t => {t.on("element:picture",n);};} function Tz(t,e) {const n=(e,n,o) => {if (!o.consumable.consume(n.item,e.name)) {return;} const i=o.writer; const r=o.mapper.toViewElement(n.item); const s=t.findViewImgElement(r); if (n.attributeNewValue===null) {i.removeAttribute("srcset",s); i.removeAttribute("sizes",s);} else if (n.attributeNewValue) {i.setAttribute("srcset",n.attributeNewValue,s); i.setAttribute("sizes","100vw",s);}}; return t => {t.on(`attribute:srcset:${e}`,n);};} function Sz(t) {const e=(e,n,o) => {if (!o.consumable.consume(n.item,e.name)) {return;} const i=o.writer; const r=o.mapper.toViewElement(n.item); const s=t.findViewImgElement(r); const a=n.attributeNewValue; if (a&&a.length) {const t=i.createContainerElement("picture",null,a.map((t => i.createEmptyElement("source",t)))); const e=[]; let n=s.parent; while (n&&n.is("attributeElement")) {const t=n.parent; i.unwrap(i.createRangeOn(s),n); e.unshift(n); n=t;}i.insert(i.createPositionBefore(s),t); i.move(i.createRangeOn(s),i.createPositionAt(t,"end")); for (const n of e) {i.wrap(i.createRangeOn(t),n);}} else if (s.parent.is("element","picture")) {const t=s.parent; i.move(i.createRangeOn(s),i.createPositionBefore(t)); i.remove(t);}}; return t => {t.on("attribute:sources:imageBlock",e); t.on("attribute:sources:imageInline",e);};} function Iz(t,e,n) {const o=(e,n,o) => {if (!o.consumable.consume(n.item,e.name)) {return;} const i=o.writer; const r=o.mapper.toViewElement(n.item); const s=t.findViewImgElement(r); i.setAttribute(n.attributeKey,n.attributeNewValue||"",s);}; return t => {t.on(`attribute:${n}:${e}`,o);};} class Pz extends Wg {observe(t) {this.listenTo(t,"load",((t,e) => {const n=e.target; if (this.checkShouldIgnoreEventFromTarget(n)) {return;} if (n.tagName=="IMG") {this._fireEvents(e);}}),{useCapture: true});}stopObserving(t) {this.stopListening(t);}_fireEvents(t) {if (this.isEnabled) {this.document.fire("layoutChanged"); this.document.fire("imageLoaded",t);}}} class Rz extends yd {constructor(t) {super(t); const e=t.config.get("image.insert.type"); if (!t.plugins.has("ImageBlockEditing")) {if (e==="block") {M("image-block-plugin-required");}} if (!t.plugins.has("ImageInlineEditing")) {if (e==="inline") {M("image-inline-plugin-required");}}}refresh() {const t=this.editor.plugins.get("ImageUtils"); this.isEnabled=t.isImageAllowed();}execute(t) {const e=rl(t.source); const n=this.editor.model.document.selection; const o=this.editor.plugins.get("ImageUtils"); const i=Object.fromEntries(n.getAttributes()); e.forEach(((t,e) => {const r=n.getSelectedElement(); if (typeof t==="string") {t={src: t};} if (e&&r&&o.isImage(r)) {const e=this.editor.model.createPositionAfter(r); o.insertImage({...t,...i},e);} else {o.insertImage({...t,...i});}}));}} class Vz extends yd {constructor(t) {super(t); this.decorate("cleanupImage");}refresh() {const t=this.editor; const e=t.plugins.get("ImageUtils"); const n=this.editor.model.document.selection.getSelectedElement(); this.isEnabled=e.isImage(n); this.value=this.isEnabled?n.getAttribute("src"):null;}execute(t) {const e=this.editor.model.document.selection.getSelectedElement(); const n=this.editor.plugins.get("ImageUtils"); this.editor.model.change((o => {o.setAttribute("src",t.source,e); this.cleanupImage(o,e); n.setImageNaturalSizeAttributes(e);}));}cleanupImage(t,e) {t.removeAttribute("srcset",e); t.removeAttribute("sizes",e); t.removeAttribute("sources",e); t.removeAttribute("width",e); t.removeAttribute("height",e); t.removeAttribute("alt",e);}} class Mz extends Ad {static get requires() {return [rz];} static get pluginName() {return "ImageEditing";}init() {const t=this.editor; const e=t.conversion; t.editing.view.addObserver(Pz); e.for("upcast").attributeToAttribute({view: {name: "img",key: "alt"},model: "alt"}).attributeToAttribute({view: {name: "img",key: "srcset"},model: "srcset"}); const n=new Rz(t); const o=new Vz(t); t.commands.add("insertImage",n); t.commands.add("replaceImageSource",o); t.commands.add("imageInsert",n);}} class Fz extends Ad {static get requires() {return [rz];} static get pluginName() {return "ImageSizeAttributes";}afterInit() {this._registerSchema(); this._registerConverters("imageBlock"); this._registerConverters("imageInline");}_registerSchema() {if (this.editor.plugins.has("ImageBlockEditing")) {this.editor.model.schema.extend("imageBlock",{allowAttributes: ["width","height"]});} if (this.editor.plugins.has("ImageInlineEditing")) {this.editor.model.schema.extend("imageInline",{allowAttributes: ["width","height"]});}}_registerConverters(t) {const e=this.editor; const n=e.plugins.get("ImageUtils"); const o=t==="imageBlock"?"figure":"img"; e.conversion.for("upcast").attributeToAttribute({view: {name: o,styles: {width: /.+/}},model: {key: "width",value: t => {if (oz(t)) {return nz(t.getStyle("width"));} return null;}}}).attributeToAttribute({view: {name: o,key: "width"},model: "width"}).attributeToAttribute({view: {name: o,styles: {height: /.+/}},model: {key: "height",value: t => {if (oz(t)) {return nz(t.getStyle("height"));} return null;}}}).attributeToAttribute({view: {name: o,key: "height"},model: "height"}); e.conversion.for("editingDowncast").add((t => {i(t,"width","width",true); i(t,"height","height",true);})); e.conversion.for("dataDowncast").add((t => {i(t,"width","width",false); i(t,"height","height",false);})); function i(e,o,i,r) {e.on(`attribute:${o}:${t}`,((e,o,s) => {if (!s.consumable.consume(o.item,e.name)) {return;} const a=s.writer; const c=s.mapper.toViewElement(o.item); const l=n.findViewImgElement(c); if (o.attributeNewValue!==null) {a.setAttribute(i,o.attributeNewValue,l);} else {a.removeAttribute(i,l);} if (o.item.hasAttribute("sources")) {return;} const d=o.item.hasAttribute("resizedWidth"); if (t==="imageInline"&&!d&&!r) {return;} const u=o.item.getAttribute("width"); const h=o.item.getAttribute("height"); if (u&&h) {a.setStyle("aspect-ratio",`${u}/${h}`,l);}}));}}} class Oz extends yd {constructor(t,e) {super(t); this._modelElementName=e;}refresh() {const t=this.editor; const e=t.plugins.get("ImageUtils"); const n=e.getClosestSelectedImageElement(this.editor.model.document.selection); if (this._modelElementName==="imageBlock") {this.isEnabled=e.isInlineImage(n);} else {this.isEnabled=e.isBlockImage(n);}}execute(t={}) {const e=this.editor; const n=this.editor.model; const o=e.plugins.get("ImageUtils"); const i=o.getClosestSelectedImageElement(n.document.selection); const r=Object.fromEntries(i.getAttributes()); if (!r.src&&!r.uploadId) {return null;} return n.change((e => {const {setImageSizes: s=true}=t; const a=Array.from(n.markers).filter((t => t.getRange().containsItem(i))); const c=o.insertImage(r,n.createSelection(i,"on"),this._modelElementName,{setImageSizes: s}); if (!c) {return null;} const l=e.createRangeOn(c); for (const t of a) {const n=t.getRange(); const o=n.root.rootName!="$graveyard"?n.getJoined(l,true):l; e.updateMarker(t,{range: o});} return {oldElement: i,newElement: c};}));}} const zz=n(8588); const Nz={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Nz.insert="head"; Nz.singleton=true; const Lz=Id()(zz.A,Nz); const Hz=zz.A.locals||{}; class jz extends Ad {static get requires() {return [rz];} static get pluginName() {return "ImagePlaceholder";}afterInit() {this._setupSchema(); this._setupConversion(); this._setupLoadListener();}_setupSchema() {const t=this.editor.model.schema; if (t.isRegistered("imageBlock")) {t.extend("imageBlock",{allowAttributes: ["placeholder"]});} if (t.isRegistered("imageInline")) {t.extend("imageInline",{allowAttributes: ["placeholder"]});}}_setupConversion() {const t=this.editor; const e=t.conversion; const n=t.plugins.get("ImageUtils"); e.for("editingDowncast").add((t => {t.on("attribute:placeholder",((t,e,o) => {if (!o.consumable.test(e.item,t.name)) {return;} if (!e.item.is("element","imageBlock")&&!e.item.is("element","imageInline")) {return;}o.consumable.consume(e.item,t.name); const i=o.writer; const r=o.mapper.toViewElement(e.item); const s=n.findViewImgElement(r); if (e.attributeNewValue) {i.addClass("image_placeholder",s); i.setStyle("background-image",`url(${e.attributeNewValue})`,s); i.setCustomProperty("editingPipeline:doNotReuseOnce",true,s);} else {i.removeClass("image_placeholder",s); i.removeStyle("background-image",s);}}));}));}_setupLoadListener() {const t=this.editor; const e=t.model; const n=t.editing; const o=n.view; const i=t.plugins.get("ImageUtils"); o.addObserver(Pz); this.listenTo(o.document,"imageLoaded",((t,r) => {const s=o.domConverter.mapDomToView(r.target); if (!s) {return;} const a=i.getImageWidgetFromImageView(s); if (!a) {return;} const c=n.mapper.toModelElement(a); if (!c||!c.hasAttribute("placeholder")) {return;}e.enqueueChange({isUndoable: false},(t => {t.removeAttribute("placeholder",c);}));}));}} class Wz extends Ad {static get requires() {return [Mz,Fz,rz,jz,aM];} static get pluginName() {return "ImageBlockEditing";}init() {const t=this.editor; const e=t.model.schema; e.register("imageBlock",{inheritAllFrom: "$blockObject",allowAttributes: ["alt","src","srcset"]}); this._setupConversion(); if (t.plugins.has("ImageInlineEditing")) {t.commands.add("imageTypeBlock",new Oz(this.editor,"imageBlock")); this._setupClipboardIntegration();}}_setupConversion() {const t=this.editor; const e=t.t; const n=t.conversion; const o=t.plugins.get("ImageUtils"); n.for("dataDowncast").elementToStructure({model: "imageBlock",view: (t,{writer: e}) => XO(e)}); n.for("editingDowncast").elementToStructure({model: "imageBlock",view: (t,{writer: n}) => o.toImageWidget(XO(n),n,e("image widget"))}); n.for("downcast").add(Iz(o,"imageBlock","src")).add(Iz(o,"imageBlock","alt")).add(Tz(o,"imageBlock")); n.for("upcast").elementToElement({view: tz(t,"imageBlock"),model: (t,{writer: e}) => e.createElement("imageBlock",t.hasAttribute("src")?{src: t.getAttribute("src")}:undefined)}).add(Dz(o));}_setupClipboardIntegration() {const t=this.editor; const e=t.model; const n=t.editing.view; const o=t.plugins.get("ImageUtils"); const i=t.plugins.get("ClipboardPipeline"); this.listenTo(i,"inputTransformation",((i,r) => {const s=Array.from(r.content.getChildren()); let a; if (!s.every(o.isInlineImageView)) {return;} if (r.targetRanges) {a=t.editing.mapper.toModelRange(r.targetRanges[0]);} else {a=e.document.selection.getFirstRange();} const c=e.createSelection(a); if (ez(e.schema,c)==="imageBlock") {const t=new a_(n.document); const e=s.map((e => t.createElement("figure",{class: "image"},e))); r.content=t.createDocumentFragment(e);}})); this.listenTo(i,"contentInsertion",((t,n) => {if (n.method!=="paste") {return;}e.change((t => {const e=t.createRangeIn(n.content); for (const t of e.getItems()) {if (t.is("element","imageBlock")) {o.setImageNaturalSizeAttributes(t);}}}));}));}} const qz=n(5420); const Uz={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Uz.insert="head"; Uz.singleton=true; const $z=Id()(qz.A,Uz); const Gz=qz.A.locals||{}; class Kz extends XA {constructor(t,e=[]) {super(t); this.focusTracker=new sd; this.keystrokes=new ad; this._focusables=new wA; this.children=this.createCollection(); this._focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); for (const t of e) {this.children.add(t); this._focusables.add(t); if (t instanceof Nv) {this._focusables.addMany(t.children);}} if (this._focusables.length>1) {for (const t of this._focusables) {if (Zz(t)) {t.focusCycler.on("forwardCycle",(t => {this._focusCycler.focusNext(); t.stop();})); t.focusCycler.on("backwardCycle",(t => {this._focusCycler.focusPrevious(); t.stop();}));}}} this.setTemplate({tag: "form",attributes: {class: ["ck","ck-image-insert-form"],tabindex: -1},children: this.children});}render() {super.render(); i({view: this}); for (const t of this._focusables) {this.focusTracker.add(t.element);} this.keystrokes.listenTo(this.element); const t=t => t.stopPropagation(); this.keystrokes.set("arrowright",t); this.keystrokes.set("arrowleft",t); this.keystrokes.set("arrowup",t); this.keystrokes.set("arrowdown",t);}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}focus() {this._focusCycler.focusFirst();}} function Zz(t) {return "focusCycler"in t;} class Jz extends Ad {static get pluginName() {return "ImageInsertUI";} static get requires() {return [rz];}constructor(t) {super(t); this._integrations=new Map; t.config.define("image.insert.integrations",["upload","assetManager","url"]);}init() {const t=this.editor; const e=t.model.document.selection; const n=t.plugins.get("ImageUtils"); this.set("isImageSelected",false); this.listenTo(t.model.document,"change",(() => {this.isImageSelected=n.isImage(e.getSelectedElement());})); const o=t => this._createToolbarComponent(t); t.ui.componentFactory.add("insertImage",o); t.ui.componentFactory.add("imageInsert",o);}registerIntegration({name: t,observable: e,buttonViewCreator: n,formViewCreator: o,requiresForm: i}) {if (this._integrations.has(t)) {M("image-insert-integration-exists",{name: t});} this._integrations.set(t,{observable: e,buttonViewCreator: n,formViewCreator: o,requiresForm: !!i});}_createToolbarComponent(t) {const e=this.editor; const n=t.t; const o=this._prepareIntegrations(); if (!o.length) {return null;} let i; const r=o[0]; if (o.length==1) {if (!r.requiresForm) {return r.buttonViewCreator(true);}i=r.buttonViewCreator(true);} else {const e=r.buttonViewCreator(false); i=new hx(t,e); i.tooltip=true; i.bind("label").to(this,"isImageSelected",(t => t?n("Replace image"):n("Insert image")));} const s=this.dropdownView=Cx(t,i); const a=o.map((({observable: t}) => typeof t==="function"?t():t)); s.bind("isEnabled").toMany(a,"isEnabled",((...t) => t.some((t => t)))); s.once("change:isOpen",(() => {const t=o.map((({formViewCreator: t}) => t(o.length==1))); const n=new Kz(e.locale,t); s.panelView.children.add(n);})); return s;}_prepareIntegrations() {const t=this.editor; const e=t.config.get("image.insert.integrations"); const n=[]; if (!e.length) {M("image-insert-integrations-not-specified"); return n;} for (const t of e) {if (!this._integrations.has(t)) {if (!["upload","assetManager","url"].includes(t)) {M("image-insert-unknown-integration",{item: t});} continue;}n.push(this._integrations.get(t));} if (!n.length) {M("image-insert-integrations-not-registered");} return n;}} const Yz=n(2051); const Qz={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Qz.insert="head"; Qz.singleton=true; const Xz=Id()(Yz.A,Qz); const tN=Yz.A.locals||{}; class eN extends Ad {static get requires() {return [Wz,nF,Ez,Jz];} static get pluginName() {return "ImageBlock";}} class nN extends Ad {static get requires() {return [Mz,Fz,rz,jz,aM];} static get pluginName() {return "ImageInlineEditing";}init() {const t=this.editor; const e=t.model.schema; e.register("imageInline",{inheritAllFrom: "$inlineObject",allowAttributes: ["alt","src","srcset"]}); e.addChildCheck(((t,e) => {if (t.endsWith("caption")&&e.name==="imageInline") {return false;}})); this._setupConversion(); if (t.plugins.has("ImageBlockEditing")) {t.commands.add("imageTypeInline",new Oz(this.editor,"imageInline")); this._setupClipboardIntegration();}}_setupConversion() {const t=this.editor; const e=t.t; const n=t.conversion; const o=t.plugins.get("ImageUtils"); n.for("dataDowncast").elementToElement({model: "imageInline",view: (t,{writer: e}) => e.createEmptyElement("img")}); n.for("editingDowncast").elementToStructure({model: "imageInline",view: (t,{writer: n}) => o.toImageWidget(QO(n),n,e("image widget"))}); n.for("downcast").add(Iz(o,"imageInline","src")).add(Iz(o,"imageInline","alt")).add(Tz(o,"imageInline")); n.for("upcast").elementToElement({view: tz(t,"imageInline"),model: (t,{writer: e}) => e.createElement("imageInline",t.hasAttribute("src")?{src: t.getAttribute("src")}:undefined)});}_setupClipboardIntegration() {const t=this.editor; const e=t.model; const n=t.editing.view; const o=t.plugins.get("ImageUtils"); const i=t.plugins.get("ClipboardPipeline"); this.listenTo(i,"inputTransformation",((i,r) => {const s=Array.from(r.content.getChildren()); let a; if (!s.every(o.isBlockImageView)) {return;} if (r.targetRanges) {a=t.editing.mapper.toModelRange(r.targetRanges[0]);} else {a=e.document.selection.getFirstRange();} const c=e.createSelection(a); if (ez(e.schema,c)==="imageInline") {const t=new a_(n.document); const e=s.map((e => {if (e.childCount===1) {Array.from(e.getAttributes()).forEach((n => t.setAttribute(...n,o.findViewImgElement(e)))); return e.getChild(0);} return e;})); r.content=t.createDocumentFragment(e);}})); this.listenTo(i,"contentInsertion",((t,n) => {if (n.method!=="paste") {return;}e.change((t => {const e=t.createRangeIn(n.content); for (const t of e.getItems()) {if (t.is("element","imageInline")) {o.setImageNaturalSizeAttributes(t);}}}));}));}} class oN extends Ad {static get requires() {return [nN,nF,Ez,Jz];} static get pluginName() {return "ImageInline";}} class iN extends Ad {static get requires() {return [eN,oN];} static get pluginName() {return "Image";}} class rN extends Ad {static get pluginName() {return "ImageCaptionUtils";} static get requires() {return [rz];}getCaptionFromImageModelElement(t) {for (const e of t.getChildren()) {if (!!e&&e.is("element","caption")) {return e;}} return null;}getCaptionFromModelSelection(t) {const e=this.editor.plugins.get("ImageUtils"); const n=t.getFirstPosition().findAncestor("caption"); if (!n) {return null;} if (e.isBlockImage(n.parent)) {return n;} return null;}matchImageCaptionViewElement(t) {const e=this.editor.plugins.get("ImageUtils"); if (t.name=="figcaption"&&e.isBlockImageView(t.parent)) {return {name: true};} return null;}} class sN extends yd {refresh() {const t=this.editor; const e=t.plugins.get("ImageCaptionUtils"); const n=t.plugins.get("ImageUtils"); if (!t.plugins.has(Wz)) {this.isEnabled=false; this.value=false; return;} const o=t.model.document.selection; const i=o.getSelectedElement(); if (!i) {const t=e.getCaptionFromModelSelection(o); this.isEnabled=!!t; this.value=!!t; return;} this.isEnabled=n.isImage(i); if (!this.isEnabled) {this.value=false;} else {this.value=!!e.getCaptionFromImageModelElement(i);}}execute(t={}) {const {focusCaptionOnShow: e}=t; this.editor.model.change((t => {if (this.value) {this._hideImageCaption(t);} else {this._showImageCaption(t,e);}}));}_showImageCaption(t,e) {const n=this.editor.model; const o=n.document.selection; const i=this.editor.plugins.get("ImageCaptionEditing"); const r=this.editor.plugins.get("ImageUtils"); let s=o.getSelectedElement(); const a=i._getSavedCaption(s); if (r.isInlineImage(s)) {this.editor.execute("imageTypeBlock"); s=o.getSelectedElement();} const c=a||t.createElement("caption"); t.append(c,s); if (e) {t.setSelection(c,"in");}}_hideImageCaption(t) {const e=this.editor; const n=e.model.document.selection; const o=e.plugins.get("ImageCaptionEditing"); const i=e.plugins.get("ImageCaptionUtils"); let r=n.getSelectedElement(); let s; if (r) {s=i.getCaptionFromImageModelElement(r);} else {s=i.getCaptionFromModelSelection(n); r=s.parent;}o._saveCaption(r,s); t.setSelection(r,"on"); t.remove(s);}} class aN extends Ad {static get requires() {return [rz,rN];} static get pluginName() {return "ImageCaptionEditing";}constructor(t) {super(t); this._savedCaptionsMap=new WeakMap;}init() {const t=this.editor; const e=t.model.schema; if (!e.isRegistered("caption")) {e.register("caption",{allowIn: "imageBlock",allowContentOf: "$block",isLimit: true});} else {e.extend("caption",{allowIn: "imageBlock"});}t.commands.add("toggleImageCaption",new sN(this.editor)); this._setupConversion(); this._setupImageTypeCommandsIntegration(); this._registerCaptionReconversion();}_setupConversion() {const t=this.editor; const e=t.editing.view; const n=t.plugins.get("ImageUtils"); const o=t.plugins.get("ImageCaptionUtils"); const i=t.t; t.conversion.for("upcast").elementToElement({view: t => o.matchImageCaptionViewElement(t),model: "caption"}); t.conversion.for("dataDowncast").elementToElement({model: "caption",view: (t,{writer: e}) => {if (!n.isBlockImage(t.parent)) {return null;} return e.createContainerElement("figcaption");}}); t.conversion.for("editingDowncast").elementToElement({model: "caption",view: (t,{writer: o}) => {if (!n.isBlockImage(t.parent)) {return null;} const r=o.createEditableElement("figcaption"); o.setCustomProperty("imageCaption",true,r); r.placeholder=i("Enter image caption"); zd({view: e,element: r,keepOnFocus: true}); const s=t.parent.getAttribute("alt"); const a=s?i("Caption for image: %0",[s]):i("Caption for the image"); return AM(r,o,{label: a});}});}_setupImageTypeCommandsIntegration() {const t=this.editor; const e=t.plugins.get("ImageUtils"); const n=t.plugins.get("ImageCaptionUtils"); const o=t.commands.get("imageTypeInline"); const i=t.commands.get("imageTypeBlock"); const r=t => {if (!t.return) {return;} const {oldElement: o,newElement: i}=t.return; if (!o) {return;} if (e.isBlockImage(o)) {const t=n.getCaptionFromImageModelElement(o); if (t) {this._saveCaption(i,t); return;}} const r=this._getSavedCaption(o); if (r) {this._saveCaption(i,r);}}; if (o) {this.listenTo(o,"execute",r,{priority: "low"});} if (i) {this.listenTo(i,"execute",r,{priority: "low"});}}_getSavedCaption(t) {const e=this._savedCaptionsMap.get(t); return e?Fm.fromJSON(e):null;}_saveCaption(t,e) {this._savedCaptionsMap.set(t,e.toJSON());}_registerCaptionReconversion() {const t=this.editor; const e=t.model; const n=t.plugins.get("ImageUtils"); const o=t.plugins.get("ImageCaptionUtils"); e.document.on("change:data",(() => {const i=e.document.differ.getChanges(); for (const e of i) {if (e.attributeKey!=="alt") {continue;} const i=e.range.start.nodeAfter; if (n.isBlockImage(i)) {const e=o.getCaptionFromImageModelElement(i); if (!e) {return;}t.editing.reconvertItem(e);}}}));}} class cN extends Ad {static get requires() {return [rN];} static get pluginName() {return "ImageCaptionUI";}init() {const t=this.editor; const e=t.editing.view; const n=t.plugins.get("ImageCaptionUtils"); const o=t.t; t.ui.componentFactory.add("toggleImageCaption",(i => {const r=t.commands.get("toggleImageCaption"); const s=new Ev(i); s.set({icon: bA.caption,tooltip: true,isToggleable: true}); s.bind("isOn","isEnabled").to(r,"value","isEnabled"); s.bind("label").to(r,"value",(t => t?o("Toggle caption off"):o("Toggle caption on"))); this.listenTo(s,"execute",(() => {t.execute("toggleImageCaption",{focusCaptionOnShow: true}); const o=n.getCaptionFromModelSelection(t.model.document.selection); if (o) {const n=t.editing.mapper.toViewElement(o); e.scrollToTheSelection(); e.change((t => {t.addClass("image__caption_highlighted",n);}));}t.editing.view.focus();})); return s;}));}} const lN=n(7369); const dN={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; dN.insert="head"; dN.singleton=true; const uN=Id()(lN.A,dN); const hN=lN.A.locals||{}; class gN extends Ad {static get requires() {return [aN,cN];} static get pluginName() {return "ImageCaption";}} function fN(t) {const e=t.map((t => t.replace("+","\\+"))); return new RegExp(`^image\\/(${e.join("|")})$`);} function mN(t) {return new Promise(((e,n) => {const o=t.getAttribute("src"); fetch(o).then((t => t.blob())).then((t => {const n=kN(t,o); const i=n.replace("image/",""); const r=`image.${i}`; const s=new File([t],r,{type: n}); e(s);})).catch((t => t&&t.name==="TypeError"?bN(o).then(e).catch(n):n(t)));}));} function pN(t,e) {if (!t.isInlineImageView(e)||!e.getAttribute("src")) {return false;} return !!e.getAttribute("src").match(/^data:image\/\w+;base64,/g)||!!e.getAttribute("src").match(/^blob:/g);} function kN(t,e) {if (t.type) {return t.type;} else if (e.match(/data:(image\/\w+);base64/)) {return e.match(/data:(image\/\w+);base64/)[1].toLowerCase();} return "image/jpeg";} function bN(t) {return wN(t).then((e => {const n=kN(e,t); const o=n.replace("image/",""); const i=`image.${o}`; return new File([e],i,{type: n});}));} function wN(t) {return new Promise(((e,n) => {const o=nc.document.createElement("img"); o.addEventListener("load",(() => {const t=nc.document.createElement("canvas"); t.width=o.width; t.height=o.height; const i=t.getContext("2d"); i.drawImage(o,0,0); t.toBlob((t => t?e(t):n()));})); o.addEventListener("error",(() => n())); o.src=t;}));} class _N extends Ad {static get pluginName() {return "ImageUploadUI";}init() {const t=this.editor; const e=t.t; const n=() => {const t=this._createButton(Pv); t.set({label: e("Upload image from computer"),tooltip: true}); return t;}; t.ui.componentFactory.add("uploadImage",n); t.ui.componentFactory.add("imageUpload",n); t.ui.componentFactory.add("menuBar:uploadImage",(() => {const t=this._createButton(jS); t.label=e("Image from computer"); return t;})); if (t.plugins.has("ImageInsertUI")) {const n=t.plugins.get("ImageInsertUI"); n.registerIntegration({name: "upload",observable: () => t.commands.get("uploadImage"),buttonViewCreator: () => {const o=t.ui.componentFactory.create("uploadImage"); o.bind("label").to(n,"isImageSelected",(t => t?e("Replace image from computer"):e("Upload image from computer"))); return o;},formViewCreator: () => {const o=t.ui.componentFactory.create("uploadImage"); o.withText=true; o.bind("label").to(n,"isImageSelected",(t => t?e("Replace from computer"):e("Upload from computer"))); o.on("execute",(() => {n.dropdownView.isOpen=false;})); return o;}});}}_createButton(t) {const e=this.editor; const n=e.locale; const o=e.commands.get("uploadImage"); const i=e.config.get("image.upload.types"); const r=fN(i); const s=new t(e.locale); const a=n.t; s.set({acceptedType: i.map((t => `image/${t}`)).join(","),allowMultipleFiles: true,label: a("Upload image from computer"),icon: bA.imageUpload}); s.bind("isEnabled").to(o); s.on("done",((t,n) => {const o=Array.from(n).filter((t => r.test(t.type))); if (o.length) {e.execute("uploadImage",{file: o}); e.editing.view.focus();}})); return s;}} class CN extends (gt()) {constructor() {super(); const t=new window.FileReader; this._reader=t; this._data=undefined; this.set("loaded",0); t.onprogress=t => {this.loaded=t.loaded;};} get error() {return this._reader.error;} get data() {return this._data;}read(t) {const e=this._reader; this.total=t.size; return new Promise(((n,o) => {e.onload=() => {const t=e.result; this._data=t; n(t);}; e.onerror=() => {o("error");}; e.onabort=() => {o("aborted");}; this._reader.readAsDataURL(t);}));}abort() {this._reader.abort();}} class AN extends Ad {constructor() {super(...arguments); this.loaders=new id; this._loadersMap=new Map; this._pendingAction=null;} static get pluginName() {return "FileRepository";} static get requires() {return [lC];}init() {this.loaders.on("change",(() => this._updatePendingAction())); this.set("uploaded",0); this.set("uploadTotal",null); this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e) => e?t/e*100:0));}getLoader(t) {return this._loadersMap.get(t)||null;}createLoader(t) {if (!this.createUploadAdapter) {M("filerepository-no-upload-adapter"); return null;} const e=new vN(Promise.resolve(t),this.createUploadAdapter); this.loaders.add(e); this._loadersMap.set(t,e); if (t instanceof Promise) {e.file.then((t => {this._loadersMap.set(t,e);})).catch((() => {}));}e.on("change:uploaded",(() => {let t=0; for (const e of this.loaders) {t+=e.uploaded;} this.uploaded=t;})); e.on("change:uploadTotal",(() => {let t=0; for (const e of this.loaders) {if (e.uploadTotal) {t+=e.uploadTotal;}} this.uploadTotal=t;})); return e;}destroyLoader(t) {const e=t instanceof vN?t:this.getLoader(t); e._destroy(); this.loaders.remove(e); this._loadersMap.forEach(((t,n) => {if (t===e) {this._loadersMap.delete(n);}}));}_updatePendingAction() {const t=this.editor.plugins.get(lC); if (this.loaders.length) {if (!this._pendingAction) {const e=this.editor.t; const n=t => `${e("Upload in progress")} ${parseInt(t)}%.`; this._pendingAction=t.add(n(this.uploadedPercent)); this._pendingAction.bind("message").to(this,"uploadedPercent",n);}} else {t.remove(this._pendingAction); this._pendingAction=null;}}} class vN extends (gt()) {constructor(t,e) {super(); this.id=T(); this._filePromiseWrapper=this._createFilePromiseWrapper(t); this._adapter=e(this); this._reader=new CN; this.set("status","idle"); this.set("uploaded",0); this.set("uploadTotal",null); this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((t,e) => e?t/e*100:0)); this.set("uploadResponse",null);} get file() {if (!this._filePromiseWrapper) {return Promise.resolve(null);} return this._filePromiseWrapper.promise.then((t => this._filePromiseWrapper?t:null));} get data() {return this._reader.data;}read() {if (this.status!="idle") {throw new V("filerepository-read-wrong-status",this);} this.status="reading"; return this.file.then((t => this._reader.read(t))).then((t => {if (this.status!=="reading") {throw this.status;} this.status="idle"; return t;})).catch((t => {if (t==="aborted") {this.status="aborted"; throw "aborted";} this.status="error"; throw this._reader.error?this._reader.error:t;}));}upload() {if (this.status!="idle") {throw new V("filerepository-upload-wrong-status",this);} this.status="uploading"; return this.file.then((() => this._adapter.upload())).then((t => {this.uploadResponse=t; this.status="idle"; return t;})).catch((t => {if (this.status==="aborted") {throw "aborted";} this.status="error"; throw t;}));}abort() {const t=this.status; this.status="aborted"; if (!this._filePromiseWrapper.isFulfilled) {this._filePromiseWrapper.promise.catch((() => {})); this._filePromiseWrapper.rejecter("aborted");} else if (t=="reading") {this._reader.abort();} else if (t=="uploading"&&this._adapter.abort) {this._adapter.abort();} this._destroy();}_destroy() {this._filePromiseWrapper=undefined; this._reader=undefined; this._adapter=undefined; this.uploadResponse=undefined;}_createFilePromiseWrapper(t) {const e={}; e.promise=new Promise(((n,o) => {e.rejecter=o; e.isFulfilled=false; t.then((t => {e.isFulfilled=true; n(t);})).catch((t => {e.isFulfilled=true; o(t);}));})); return e;}} class yN extends Ad {static get requires() {return [AN];} static get pluginName() {return "Base64UploadAdapter";}init() {this.editor.plugins.get(AN).createUploadAdapter=t => new xN(t);}} class xN {constructor(t) {this.loader=t;}upload() {return new Promise(((t,e) => {const n=this.reader=new window.FileReader; n.addEventListener("load",(() => {t({default: n.result});})); n.addEventListener("error",(t => {e(t);})); n.addEventListener("abort",(() => {e();})); this.loader.file.then((t => {n.readAsDataURL(t);}));}));}abort() {this.reader.abort();}} class EN extends (null&&Plugin) {static get requires() {return [FileRepository];} static get pluginName() {return "SimpleUploadAdapter";}init() {const t=this.editor.config.get("simpleUpload"); if (!t) {return;} if (!t.uploadUrl) {logWarning("simple-upload-adapter-missing-uploadurl"); return;} this.editor.plugins.get(FileRepository).createUploadAdapter=e => new DN(e,t);}} class DN {constructor(t,e) {this.loader=t; this.options=e;}upload() {return this.loader.file.then((t => new Promise(((e,n) => {this._initRequest(); this._initListeners(e,n,t); this._sendRequest(t);}))));}abort() {if (this.xhr) {this.xhr.abort();}}_initRequest() {const t=this.xhr=new XMLHttpRequest; t.open("POST",this.options.uploadUrl,true); t.responseType="json";}_initListeners(t,e,n) {const o=this.xhr; const i=this.loader; const r=`Couldn't upload file: ${n.name}.`; o.addEventListener("error",(() => e(r))); o.addEventListener("abort",(() => e())); o.addEventListener("load",(() => {const n=o.response; if (!n||n.error) {return e(n&&n.error&&n.error.message?n.error.message:r);} const i=n.url?{default: n.url}:n.urls; t({...n,urls: i});})); if (o.upload) {o.upload.addEventListener("progress",(t => {if (t.lengthComputable) {i.uploadTotal=t.total; i.uploaded=t.loaded;}}));}}_sendRequest(t) {const e=this.options.headers||{}; const n=this.options.withCredentials||false; for (const t of Object.keys(e)) {this.xhr.setRequestHeader(t,e[t]);} this.xhr.withCredentials=n; const o=new FormData; o.append("upload",t); this.xhr.send(o);}} const BN=n(2209); const TN={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; TN.insert="head"; TN.singleton=true; const SN=Id()(BN.A,TN); const IN=BN.A.locals||{}; const PN=n(9967); const RN={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; RN.insert="head"; RN.singleton=true; const VN=Id()(PN.A,RN); const MN=PN.A.locals||{}; const FN=n(2021); const ON={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; ON.insert="head"; ON.singleton=true; const zN=Id()(FN.A,ON); const NN=FN.A.locals||{}; class LN extends Ad {static get pluginName() {return "ImageUploadProgress";}constructor(t) {super(t); this.uploadStatusChange=(t,e,n) => {const o=this.editor; const i=e.item; const r=i.getAttribute("uploadId"); if (!n.consumable.consume(e.item,t.name)) {return;} const s=o.plugins.get("ImageUtils"); const a=o.plugins.get(AN); const c=r?e.attributeNewValue:null; const l=this.placeholder; const d=o.editing.mapper.toViewElement(i); const u=n.writer; if (c=="reading") {HN(d,u); WN(s,l,d,u); return;} if (c=="uploading") {const t=a.loaders.get(r); HN(d,u); if (!t) {WN(s,l,d,u);} else {qN(d,u); UN(d,u,t,o.editing.view); QN(s,d,u,t);} return;} if (c=="complete"&&a.loaders.get(r)) {GN(d,u,o.editing.view);}$N(d,u); qN(d,u); jN(d,u);}; this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";}init() {const t=this.editor; if (t.plugins.has("ImageBlockEditing")) {t.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange);} if (t.plugins.has("ImageInlineEditing")) {t.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange);}}} function HN(t,e) {if (!t.hasClass("ck-appear")) {e.addClass("ck-appear",t);}} function jN(t,e) {e.removeClass("ck-appear",t);} function WN(t,e,n,o) {if (!n.hasClass("ck-image-upload-placeholder")) {o.addClass("ck-image-upload-placeholder",n);} const i=t.findViewImgElement(n); if (i.getAttribute("src")!==e) {o.setAttribute("src",e,i);} if (!JN(n,"placeholder")) {o.insert(o.createPositionAfter(i),ZN(o));}} function qN(t,e) {if (t.hasClass("ck-image-upload-placeholder")) {e.removeClass("ck-image-upload-placeholder",t);}YN(t,e,"placeholder");} function UN(t,e,n,o) {const i=KN(e); e.insert(e.createPositionAt(t,"end"),i); n.on("change:uploadedPercent",((t,e,n) => {o.change((t => {t.setStyle("width",`${n}%`,i);}));}));} function $N(t,e) {YN(t,e,"progressBar");} function GN(t,e,n) {const o=e.createUIElement("div",{class: "ck-image-upload-complete-icon"}); e.insert(e.createPositionAt(t,"end"),o); setTimeout((() => {n.change((t => t.remove(t.createRangeOn(o))));}),3e3);} function KN(t) {const e=t.createUIElement("div",{class: "ck-progress-bar"}); t.setCustomProperty("progressBar",true,e); return e;} function ZN(t) {const e=t.createUIElement("div",{class: "ck-upload-placeholder-loader"}); t.setCustomProperty("placeholder",true,e); return e;} function JN(t,e) {for (const n of t.getChildren()) {if (n.getCustomProperty(e)) {return n;}}} function YN(t,e,n) {const o=JN(t,n); if (o) {e.remove(e.createRangeOn(o));}} function QN(t,e,n,o) {if (o.data) {const i=t.findViewImgElement(e); n.setAttribute("src",o.data,i);}} class XN extends yd {refresh() {const t=this.editor; const e=t.plugins.get("ImageUtils"); const n=t.model.document.selection.getSelectedElement(); this.isEnabled=e.isImageAllowed()||e.isImage(n);}execute(t) {const e=rl(t.file); const n=this.editor.model.document.selection; const o=this.editor.plugins.get("ImageUtils"); const i=Object.fromEntries(n.getAttributes()); e.forEach(((t,e) => {const r=n.getSelectedElement(); if (e&&r&&o.isImage(r)) {const e=this.editor.model.createPositionAfter(r); this._uploadImage(t,i,e);} else {this._uploadImage(t,i);}}));}_uploadImage(t,e,n) {const o=this.editor; const i=o.plugins.get(AN); const r=i.createLoader(t); const s=o.plugins.get("ImageUtils"); if (!r) {return;}s.insertImage({...e,uploadId: r.id},n);}} class tL extends Ad {static get requires() {return [AN,RB,aM,rz];} static get pluginName() {return "ImageUploadEditing";}constructor(t) {super(t); t.config.define("image",{upload: {types: ["jpeg","png","gif","bmp","webp","tiff"]}}); this._uploadImageElements=new Map;}init() {const t=this.editor; const e=t.model.document; const n=t.conversion; const o=t.plugins.get(AN); const i=t.plugins.get("ImageUtils"); const r=t.plugins.get("ClipboardPipeline"); const s=fN(t.config.get("image.upload.types")); const a=new XN(t); t.commands.add("uploadImage",a); t.commands.add("imageUpload",a); n.for("upcast").attributeToAttribute({view: {name: "img",key: "uploadId"},model: "uploadId"}); this.listenTo(t.editing.view.document,"clipboardInput",((e,n) => {if (eL(n.dataTransfer)) {return;} const o=Array.from(n.dataTransfer.files).filter((t => {if (!t) {return false;} return s.test(t.type);})); if (!o.length) {return;}e.stop(); t.model.change((e => {if (n.targetRanges) {e.setSelection(n.targetRanges.map((e => t.editing.mapper.toModelRange(e))));}t.execute("uploadImage",{file: o});}));})); this.listenTo(r,"inputTransformation",((e,n) => {const r=Array.from(t.editing.view.createRangeIn(n.content)).map((t => t.item)).filter((t => pN(i,t)&&!t.getAttribute("uploadProcessed"))).map((t => ({promise: mN(t),imageElement: t}))); if (!r.length) {return;} const s=new a_(t.editing.view.document); for (const t of r) {s.setAttribute("uploadProcessed",true,t.imageElement); const e=o.createLoader(t.promise); if (e) {s.setAttribute("src","",t.imageElement); s.setAttribute("uploadId",e.id,t.imageElement);}}})); t.editing.view.document.on("dragover",((t,e) => {e.preventDefault();})); e.on("change",(() => {const n=e.differ.getChanges({includeChangesInGraveyard: true}).reverse(); const i=new Set; for (const e of n) {if (e.type=="insert"&&e.name!="$text") {const n=e.position.nodeAfter; const r=e.position.root.rootName=="$graveyard"; for (const e of nL(t,n)) {const t=e.getAttribute("uploadId"); if (!t) {continue;} const n=o.loaders.get(t); if (!n) {continue;} if (r) {if (!i.has(t)) {n.abort();}} else {i.add(t); this._uploadImageElements.set(t,e); if (n.status=="idle") {this._readAndUpload(n);}}}}}})); this.on("uploadComplete",((t,{imageElement: e,data: n}) => {const o=n.urls?n.urls:n; this.editor.model.change((t => {t.setAttribute("src",o.default,e); this._parseAndSetSrcsetAttributeOnImage(o,e,t); i.setImageNaturalSizeAttributes(e);}));}),{priority: "low"});}afterInit() {const t=this.editor.model.schema; if (this.editor.plugins.has("ImageBlockEditing")) {t.extend("imageBlock",{allowAttributes: ["uploadId","uploadStatus"]});} if (this.editor.plugins.has("ImageInlineEditing")) {t.extend("imageInline",{allowAttributes: ["uploadId","uploadStatus"]});}}_readAndUpload(t) {const e=this.editor; const n=e.model; const o=e.locale.t; const i=e.plugins.get(AN); const r=e.plugins.get(RB); const s=e.plugins.get("ImageUtils"); const a=this._uploadImageElements; n.enqueueChange({isUndoable: false},(e => {e.setAttribute("uploadStatus","reading",a.get(t.id));})); return t.read().then((() => {const o=t.upload(); const i=a.get(t.id); if (l.isSafari) {const t=e.editing.mapper.toViewElement(i); const n=s.findViewImgElement(t); e.editing.view.once("render",(() => {if (!n.parent) {return;} const t=e.editing.view.domConverter.mapViewToDom(n.parent); if (!t) {return;} const o=t.style.display; t.style.display="none"; t._ckHack=t.offsetHeight; t.style.display=o;}));}n.enqueueChange({isUndoable: false},(t => {t.setAttribute("uploadStatus","uploading",i);})); return o;})).then((e => {n.enqueueChange({isUndoable: false},(n => {const o=a.get(t.id); n.setAttribute("uploadStatus","complete",o); this.fire("uploadComplete",{data: e,imageElement: o});})); c();})).catch((e => {if (t.status!=="error"&&t.status!=="aborted") {throw e;} if (t.status=="error"&&e) {r.showWarning(e,{title: o("Upload failed"),namespace: "upload"});}n.enqueueChange({isUndoable: false},(e => {e.remove(a.get(t.id));})); c();})); function c() {n.enqueueChange({isUndoable: false},(e => {const n=a.get(t.id); e.removeAttribute("uploadId",n); e.removeAttribute("uploadStatus",n); a.delete(t.id);})); i.destroyLoader(t);}}_parseAndSetSrcsetAttributeOnImage(t,e,n) {let o=0; const i=Object.keys(t).filter((t => {const e=parseInt(t,10); if (!isNaN(e)) {o=Math.max(o,e); return true;}})).map((e => `${t[e]} ${e}w`)).join(", "); if (i!="") {const t={srcset: i}; if (!e.hasAttribute("width")&&!e.hasAttribute("height")) {t.width=o;}n.setAttributes(t,e);}}} function eL(t) {return Array.from(t.types).includes("text/html")&&t.getData("text/html")!=="";} function nL(t,e) {const n=t.plugins.get("ImageUtils"); return Array.from(t.model.createRangeOn(e)).filter((t => n.isImage(t.item))).map((t => t.item));} class oL extends Ad {static get pluginName() {return "ImageUpload";} static get requires() {return [tL,_N,LN];}} class iL extends XA {constructor(t) {super(t); this.set("imageURLInputValue",""); this.set("isImageSelected",false); this.set("isEnabled",true); this.focusTracker=new sd; this.keystrokes=new ad; this._focusables=new wA; this.focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.urlInputView=this._createUrlInputView(); this.insertButtonView=this._createInsertButton(); this.cancelButtonView=this._createCancelButton(); this._focusables.addMany([this.urlInputView,this.insertButtonView,this.cancelButtonView]); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-image-insert-url"]},children: [this.urlInputView,{tag: "div",attributes: {class: ["ck","ck-image-insert-url__action-row"]},children: [this.insertButtonView,this.cancelButtonView]}]});}render() {super.render(); for (const t of this._focusables) {this.focusTracker.add(t.element);} this.keystrokes.listenTo(this.element);}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}_createUrlInputView() {const t=this.locale; const e=t.t; const n=new hy(t,Mx); n.bind("label").to(this,"isImageSelected",(t => t?e("Update image URL"):e("Insert image via URL"))); n.bind("isEnabled").to(this); n.fieldView.placeholder="https://example.com/image.png"; n.fieldView.bind("value").to(this,"imageURLInputValue",(t => t||"")); n.fieldView.on("input",(() => {this.imageURLInputValue=n.fieldView.element.value.trim();})); return n;}_createInsertButton() {const t=this.locale; const e=t.t; const n=new Ev(t); n.set({icon: bA.check,class: "ck-button-save",type: "submit",withText: true}); n.bind("label").to(this,"isImageSelected",(t => t?e("Update"):e("Insert"))); n.bind("isEnabled").to(this,"imageURLInputValue",this,"isEnabled",((...t) => t.every((t => t)))); n.delegate("execute").to(this,"submit"); return n;}_createCancelButton() {const t=this.locale; const e=t.t; const n=new Ev(t); n.set({label: e("Cancel"),icon: bA.cancel,class: "ck-button-cancel",withText: true}); n.bind("isEnabled").to(this); n.delegate("execute").to(this,"cancel"); return n;}focus(t) {if (t===-1) {this.focusCycler.focusLast();} else {this.focusCycler.focusFirst();}}} class rL extends Ad {static get pluginName() {return "ImageInsertViaUrlUI";} static get requires() {return [Jz];}afterInit() {this._imageInsertUI=this.editor.plugins.get("ImageInsertUI"); this._imageInsertUI.registerIntegration({name: "url",observable: () => this.editor.commands.get("insertImage"),requiresForm: true,buttonViewCreator: t => this._createInsertUrlButton(t),formViewCreator: t => this._createInsertUrlView(t)});}_createInsertUrlView(t) {const e=this.editor; const n=e.locale; const o=n.t; const i=e.commands.get("replaceImageSource"); const r=e.commands.get("insertImage"); const s=new iL(n); const a=t?null:new Nv(n,[s]); s.bind("isImageSelected").to(this._imageInsertUI); s.bind("isEnabled").toMany([r,i],"isEnabled",((...t) => t.some((t => t)))); s.imageURLInputValue=i.value||""; this._imageInsertUI.dropdownView.on("change:isOpen",(() => {if (this._imageInsertUI.dropdownView.isOpen) {s.imageURLInputValue=i.value||""; if (a) {a.isCollapsed=true;}}}),{priority: "low"}); s.on("submit",(() => {if (i.isEnabled) {e.execute("replaceImageSource",{source: s.imageURLInputValue});} else {e.execute("insertImage",{source: s.imageURLInputValue});} this._closePanel();})); s.on("cancel",(() => this._closePanel())); if (a) {a.set({isCollapsed: true}); a.bind("label").to(this._imageInsertUI,"isImageSelected",(t => t?o("Update image URL"):o("Insert image via URL"))); return a;} return s;}_createInsertUrlButton(t) {const e=t?My:Ev; const n=this.editor; const o=new e(n.locale); const i=n.locale.t; o.set({icon: bA.imageUrl,tooltip: true}); o.bind("label").to(this._imageInsertUI,"isImageSelected",(t => t?i("Update image URL"):i("Insert image via URL"))); return o;}_closePanel() {this.editor.editing.view.focus(); this._imageInsertUI.dropdownView.isOpen=false;}} class sL extends Ad {static get pluginName() {return "ImageInsertViaUrl";} static get requires() {return [rL,Jz];}} class aL extends Ad {static get pluginName() {return "ImageInsert";} static get requires() {return [oL,sL,Jz];}} class cL extends yd {refresh() {const t=this.editor; const e=t.plugins.get("ImageUtils"); const n=e.getClosestSelectedImageElement(t.model.document.selection); this.isEnabled=!!n; if (!n||!n.hasAttribute("resizedWidth")) {this.value=null;} else {this.value={width: n.getAttribute("resizedWidth"),height: null};}}execute(t) {const e=this.editor; const n=e.model; const o=e.plugins.get("ImageUtils"); const i=o.getClosestSelectedImageElement(n.document.selection); this.value={width: t.width,height: null}; if (i) {n.change((e => {e.setAttribute("resizedWidth",t.width,i); e.removeAttribute("resizedHeight",i); o.setImageNaturalSizeAttributes(i);}));}}} class lL extends Ad {static get requires() {return [rz];} static get pluginName() {return "ImageResizeEditing";}constructor(t) {super(t); t.config.define("image",{resizeUnit: "%",resizeOptions: [{name: "resizeImage:original",value: null,icon: "original"},{name: "resizeImage:25",value: "25",icon: "small"},{name: "resizeImage:50",value: "50",icon: "medium"},{name: "resizeImage:75",value: "75",icon: "large"}]});}init() {const t=this.editor; const e=new cL(t); this._registerConverters("imageBlock"); this._registerConverters("imageInline"); t.commands.add("resizeImage",e); t.commands.add("imageResize",e);}afterInit() {this._registerSchema();}_registerSchema() {if (this.editor.plugins.has("ImageBlockEditing")) {this.editor.model.schema.extend("imageBlock",{allowAttributes: ["resizedWidth","resizedHeight"]});} if (this.editor.plugins.has("ImageInlineEditing")) {this.editor.model.schema.extend("imageInline",{allowAttributes: ["resizedWidth","resizedHeight"]});}}_registerConverters(t) {const e=this.editor; const n=e.plugins.get("ImageUtils"); e.conversion.for("downcast").add((e => e.on(`attribute:resizedWidth:${t}`,((t,e,n) => {if (!n.consumable.consume(e.item,t.name)) {return;} const o=n.writer; const i=n.mapper.toViewElement(e.item); if (e.attributeNewValue!==null) {o.setStyle("width",e.attributeNewValue,i); o.addClass("image_resized",i);} else {o.removeStyle("width",i); o.removeClass("image_resized",i);}})))); e.conversion.for("dataDowncast").attributeToAttribute({model: {name: t,key: "resizedHeight"},view: t => ({key: "style",value: {height: t}})}); e.conversion.for("editingDowncast").add((e => e.on(`attribute:resizedHeight:${t}`,((e,o,i) => {if (!i.consumable.consume(o.item,e.name)) {return;} const r=i.writer; const s=i.mapper.toViewElement(o.item); const a=t==="imageInline"?n.findViewImgElement(s):s; if (o.attributeNewValue!==null) {r.setStyle("height",o.attributeNewValue,a);} else {r.removeStyle("height",a);}})))); e.conversion.for("upcast").attributeToAttribute({view: {name: t==="imageBlock"?"figure":"img",styles: {width: /.+/}},model: {key: "resizedWidth",value: t => {if (oz(t)) {return null;} return t.getStyle("width");}}}); e.conversion.for("upcast").attributeToAttribute({view: {name: t==="imageBlock"?"figure":"img",styles: {height: /.+/}},model: {key: "resizedHeight",value: t => {if (oz(t)) {return null;} return t.getStyle("height");}}});}} const dL={small: bA.objectSizeSmall,medium: bA.objectSizeMedium,large: bA.objectSizeLarge,original: bA.objectSizeFull}; class uL extends Ad {static get requires() {return [lL];} static get pluginName() {return "ImageResizeButtons";}constructor(t) {super(t); this._resizeUnit=t.config.get("image.resizeUnit");}init() {const t=this.editor; const e=t.config.get("image.resizeOptions"); const n=t.commands.get("resizeImage"); this.bind("isEnabled").to(n); for (const t of e) {this._registerImageResizeButton(t);} this._registerImageResizeDropdown(e);}_registerImageResizeButton(t) {const e=this.editor; const {name: n,value: o,icon: i}=t; const r=o?o+this._resizeUnit:null; e.ui.componentFactory.add(n,(n => {const o=new Ev(n); const s=e.commands.get("resizeImage"); const a=this._getOptionLabelValue(t,true); if (!dL[i]) {throw new V("imageresizebuttons-missing-icon",e,t);}o.set({label: a,icon: dL[i],tooltip: a,isToggleable: true}); o.bind("isEnabled").to(this); o.bind("isOn").to(s,"value",hL(r)); this.listenTo(o,"execute",(() => {e.execute("resizeImage",{width: r});})); return o;}));}_registerImageResizeDropdown(t) {const e=this.editor; const n=e.t; const o=t.find((t => !t.value)); const i=i => {const r=e.commands.get("resizeImage"); const s=Cx(i,My); const a=s.buttonView; const c=n("Resize image"); a.set({tooltip: c,commandValue: o.value,icon: dL.medium,isToggleable: true,label: this._getOptionLabelValue(o),withText: true,class: "ck-resize-image-button",ariaLabel: c,ariaLabelledBy: undefined}); a.bind("label").to(r,"value",(t => {if (t&&t.width) {return t.width;} return this._getOptionLabelValue(o);})); s.bind("isEnabled").to(this); yx(s,(() => this._getResizeDropdownListItemDefinitions(t,r)),{ariaLabel: n("Image resize list"),role: "menu"}); this.listenTo(s,"execute",(t => {e.execute(t.source.commandName,{width: t.source.commandValue}); e.editing.view.focus();})); return s;}; e.ui.componentFactory.add("resizeImage",i); e.ui.componentFactory.add("imageResize",i);}_getOptionLabelValue(t,e=false) {const n=this.editor.t; if (t.label) {return t.label;} else if (e) {if (t.value) {return n("Resize image to %0",t.value+this._resizeUnit);} return n("Resize image to the original size");} if (t.value) {return t.value+this._resizeUnit;} return n("Original");}_getResizeDropdownListItemDefinitions(t,e) {const n=new id; t.map((t => {const o=t.value?t.value+this._resizeUnit:null; const i={type: "button",model: new VB({commandName: "resizeImage",commandValue: o,label: this._getOptionLabelValue(t),role: "menuitemradio",withText: true,icon: null})}; i.model.bind("isOn").to(e,"value",hL(o)); n.add(i);})); return n;}} function hL(t) {return e => {const n=e; if (t===null&&n===t) {return true;} return n!==null&&n.width===t;};} const gL="figure.image.ck-widget > img,"+"figure.image.ck-widget > picture > img,"+"figure.image.ck-widget > a > img,"+"figure.image.ck-widget > a > picture > img,"+"span.image-inline.ck-widget > img,"+"span.image-inline.ck-widget > picture > img"; const fL="image_resized"; class mL extends Ad {static get requires() {return [EF,rz];} static get pluginName() {return "ImageResizeHandles";}init() {const t=this.editor.commands.get("resizeImage"); this.bind("isEnabled").to(t); this._setupResizerCreator();}_setupResizerCreator() {const t=this.editor; const e=t.editing.view; const n=t.plugins.get("ImageUtils"); e.addObserver(Pz); this.listenTo(e.document,"imageLoaded",((o,i) => {if (!i.target.matches(gL)) {return;} const r=t.editing.view.domConverter; const s=r.domToView(i.target); const a=n.getImageWidgetFromImageView(s); let c=this.editor.plugins.get(EF).getResizerByViewElement(a); if (c) {c.redraw(); return;} const l=t.editing.mapper; const d=l.toModelElement(a); c=t.plugins.get(EF).attachTo({unit: t.config.get("image.resizeUnit"),modelElement: d,viewElement: a,editor: t,getHandleHost(t) {return t.querySelector("img");},getResizeHost() {return r.mapViewToDom(l.toViewElement(d.parent));},isCentered() {const t=d.getAttribute("imageStyle"); return t=="alignCenter";},onCommit(n) {e.change((t => {t.removeClass(fL,a);})); t.execute("resizeImage",{width: n});}}); c.on("updateSize",(() => {if (!a.hasClass(fL)) {e.change((t => {t.addClass(fL,a);}));} const t=d.name==="imageInline"?s:a; if (t.getStyle("height")) {e.change((e => {e.removeStyle("height",t);}));}})); c.bind("isEnabled").to(this);}));}} const pL=n(5035); const kL={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; kL.insert="head"; kL.singleton=true; const bL=Id()(pL.A,kL); const wL=pL.A.locals||{}; class _L extends Ad {static get requires() {return [lL,mL,uL];} static get pluginName() {return "ImageResize";}} class CL extends yd {constructor(t,e) {super(t); this._defaultStyles={imageBlock: false,imageInline: false}; this._styles=new Map(e.map((t => {if (t.isDefault) {for (const e of t.modelElements) {this._defaultStyles[e]=t.name;}} return [t.name,t];})));}refresh() {const t=this.editor; const e=t.plugins.get("ImageUtils"); const n=e.getClosestSelectedImageElement(this.editor.model.document.selection); this.isEnabled=!!n; if (!this.isEnabled) {this.value=false;} else if (n.hasAttribute("imageStyle")) {this.value=n.getAttribute("imageStyle");} else {this.value=this._defaultStyles[n.name];}}execute(t={}) {const e=this.editor; const n=e.model; const o=e.plugins.get("ImageUtils"); n.change((e => {const i=t.value; const {setImageSizes: r=true}=t; let s=o.getClosestSelectedImageElement(n.document.selection); if (i&&this.shouldConvertImageType(i,s)) {this.editor.execute(o.isBlockImage(s)?"imageTypeInline":"imageTypeBlock",{setImageSizes: r}); s=o.getClosestSelectedImageElement(n.document.selection);} if (!i||this._styles.get(i).isDefault) {e.removeAttribute("imageStyle",s);} else {e.setAttribute("imageStyle",i,s);} if (r) {o.setImageNaturalSizeAttributes(s);}}));}shouldConvertImageType(t,e) {const n=this._styles.get(t).modelElements; return !n.includes(e.name);}} const {objectFullWidth: AL,objectInline: vL,objectLeft: yL,objectRight: xL,objectCenter: EL,objectBlockLeft: DL,objectBlockRight: BL}=bA; const TL={get inline() {return {name: "inline",title: "In line",icon: vL,modelElements: ["imageInline"],isDefault: true};},get alignLeft() {return {name: "alignLeft",title: "Left aligned image",icon: yL,modelElements: ["imageBlock","imageInline"],className: "image-style-align-left"};},get alignBlockLeft() {return {name: "alignBlockLeft",title: "Left aligned image",icon: DL,modelElements: ["imageBlock"],className: "image-style-block-align-left"};},get alignCenter() {return {name: "alignCenter",title: "Centered image",icon: EL,modelElements: ["imageBlock"],className: "image-style-align-center"};},get alignRight() {return {name: "alignRight",title: "Right aligned image",icon: xL,modelElements: ["imageBlock","imageInline"],className: "image-style-align-right"};},get alignBlockRight() {return {name: "alignBlockRight",title: "Right aligned image",icon: BL,modelElements: ["imageBlock"],className: "image-style-block-align-right"};},get block() {return {name: "block",title: "Centered image",icon: EL,modelElements: ["imageBlock"],isDefault: true};},get side() {return {name: "side",title: "Side image",icon: xL,modelElements: ["imageBlock"],className: "image-style-side"};}}; const SL={full: AL,left: DL,right: BL,center: EL,inlineLeft: yL,inlineRight: xL,inline: vL}; const IL=[{name: "imageStyle:wrapText",title: "Wrap text",defaultItem: "imageStyle:alignLeft",items: ["imageStyle:alignLeft","imageStyle:alignRight"]},{name: "imageStyle:breakText",title: "Break text",defaultItem: "imageStyle:block",items: ["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}]; function PL(t) {const e=t.configuredStyles.options||[]; const n=e.map((t => ML(t))).filter((e => FL(e,t))); return n;} function RL(t,e) {if (t&&e) {return {options: ["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]};} else if (t) {return {options: ["block","side"]};} else if (e) {return {options: ["inline","alignLeft","alignRight"]};} return {};} function VL(t) {if (t.has("ImageBlockEditing")&&t.has("ImageInlineEditing")) {return [...IL];} return [];} function ML(t) {if (typeof t==="string") {if (!TL[t]) {t={name: t};} else {t={...TL[t]};}} else {t=OL(TL[t.name],t);} if (typeof t.icon==="string") {t.icon=SL[t.icon]||t.icon;} return t;} function FL(t,{isBlockPluginLoaded: e,isInlinePluginLoaded: n}) {const {modelElements: o,name: i}=t; if (!o||!o.length||!i) {zL({style: t}); return false;} else {const i=[e?"imageBlock":null,n?"imageInline":null]; if (!o.some((t => i.includes(t)))) {M("image-style-missing-dependency",{style: t,missingPlugins: o.map((t => t==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing"))}); return false;}} return true;} function OL(t,e) {const n={...e}; for (const o in t) {if (!Object.prototype.hasOwnProperty.call(e,o)) {n[o]=t[o];}} return n;} function zL(t) {M("image-style-configuration-definition-invalid",t);} const NL={normalizeStyles: PL,getDefaultStylesConfiguration: RL,getDefaultDropdownDefinitions: VL,warnInvalidStyle: zL,DEFAULT_OPTIONS: TL,DEFAULT_ICONS: SL,DEFAULT_DROPDOWN_DEFINITIONS: IL}; function LL(t) {return (e,n,o) => {if (!o.consumable.consume(n.item,e.name)) {return;} const i=jL(n.attributeNewValue,t); const r=jL(n.attributeOldValue,t); const s=o.mapper.toViewElement(n.item); const a=o.writer; if (r) {a.removeClass(r.className,s);} if (i) {a.addClass(i.className,s);}};} function HL(t) {const e={imageInline: t.filter((t => !t.isDefault&&t.modelElements.includes("imageInline"))),imageBlock: t.filter((t => !t.isDefault&&t.modelElements.includes("imageBlock")))}; return (t,n,o) => {if (!n.modelRange) {return;} const i=n.viewItem; const r=rd(n.modelRange.getItems()); if (!r) {return;} if (!o.schema.checkAttribute(r,"imageStyle")) {return;} for (const t of e[r.name]) {if (o.consumable.consume(i,{classes: t.className})) {o.writer.setAttribute("imageStyle",t.name,r);}}};} function jL(t,e) {for (const n of e) {if (n.name===t) {return n;}}} class WL extends Ad {static get pluginName() {return "ImageStyleEditing";} static get requires() {return [rz];}init() {const {normalizeStyles: t,getDefaultStylesConfiguration: e}=NL; const n=this.editor; const o=n.plugins.has("ImageBlockEditing"); const i=n.plugins.has("ImageInlineEditing"); n.config.define("image.styles",e(o,i)); this.normalizedStyles=t({configuredStyles: n.config.get("image.styles"),isBlockPluginLoaded: o,isInlinePluginLoaded: i}); this._setupConversion(o,i); this._setupPostFixer(); n.commands.add("imageStyle",new CL(n,this.normalizedStyles));}_setupConversion(t,e) {const n=this.editor; const o=n.model.schema; const i=LL(this.normalizedStyles); const r=HL(this.normalizedStyles); n.editing.downcastDispatcher.on("attribute:imageStyle",i); n.data.downcastDispatcher.on("attribute:imageStyle",i); if (t) {o.extend("imageBlock",{allowAttributes: "imageStyle"}); n.data.upcastDispatcher.on("element:figure",r,{priority: "low"});} if (e) {o.extend("imageInline",{allowAttributes: "imageStyle"}); n.data.upcastDispatcher.on("element:img",r,{priority: "low"});}}_setupPostFixer() {const t=this.editor; const e=t.model.document; const n=t.plugins.get(rz); const o=new Map(this.normalizedStyles.map((t => [t.name,t]))); e.registerPostFixer((t => {let i=false; for (const r of e.differ.getChanges()) {if (r.type=="insert"||r.type=="attribute"&&r.attributeKey=="imageStyle") {let e=r.type=="insert"?r.position.nodeAfter:r.range.start.nodeAfter; if (e&&e.is("element","paragraph")&&e.childCount>0) {e=e.getChild(0);} if (!n.isImage(e)) {continue;} const s=e.getAttribute("imageStyle"); if (!s) {continue;} const a=o.get(s); if (!a||!a.modelElements.includes(e.name)) {t.removeAttribute("imageStyle",e); i=true;}}} return i;}));}} const qL=n(1644); const UL={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; UL.insert="head"; UL.singleton=true; const $L=Id()(qL.A,UL); const GL=qL.A.locals||{}; class KL extends Ad {static get requires() {return [WL];} static get pluginName() {return "ImageStyleUI";} get localizedDefaultStylesTitles() {const t=this.editor.t; return {"Wrap text": t("Wrap text"),"Break text": t("Break text"),"In line": t("In line"),"Full size image": t("Full size image"),"Side image": t("Side image"),"Left aligned image": t("Left aligned image"),"Centered image": t("Centered image"),"Right aligned image": t("Right aligned image")};}init() {const t=this.editor.plugins; const e=this.editor.config.get("image.toolbar")||[]; const n=t.get("ImageStyleEditing"); const o=ZL(n.normalizedStyles,this.localizedDefaultStylesTitles); for (const t of o) {this._createButton(t);} const i=ZL([...e.filter(st),...NL.getDefaultDropdownDefinitions(t)],this.localizedDefaultStylesTitles); for (const t of i) {this._createDropdown(t,o);}}_createDropdown(t,e) {const n=this.editor.ui.componentFactory; n.add(t.name,(o => {let i; const {defaultItem: r,items: s,title: a}=t; const c=s.filter((t => e.find((({name: e}) => JL(e)===t)))).map((t => {const e=n.create(t); if (t===r) {i=e;} return e;})); if (s.length!==c.length) {NL.warnInvalidStyle({dropdown: t});} const l=Cx(o,hx); const d=l.buttonView; const u=d.arrowView; Ax(l,c,{enableActiveItemFocusOnDropdownOpen: true}); d.set({label: YL(a,i.label),class: null,tooltip: true}); u.unbind("label"); u.set({label: a}); d.bind("icon").toMany(c,"isOn",((...t) => {const e=t.findIndex(vl); return e<0?i.icon:c[e].icon;})); d.bind("label").toMany(c,"isOn",((...t) => {const e=t.findIndex(vl); return YL(a,e<0?i.label:c[e].label);})); d.bind("isOn").toMany(c,"isOn",((...t) => t.some(vl))); d.bind("class").toMany(c,"isOn",((...t) => t.some(vl)?"ck-splitbutton_flatten":undefined)); d.on("execute",(() => {if (!c.some((({isOn: t}) => t))) {i.fire("execute");} else {l.isOpen=!l.isOpen;}})); l.bind("isEnabled").toMany(c,"isEnabled",((...t) => t.some(vl))); this.listenTo(l,"execute",(() => {this.editor.editing.view.focus();})); return l;}));}_createButton(t) {const e=t.name; this.editor.ui.componentFactory.add(JL(e),(n => {const o=this.editor.commands.get("imageStyle"); const i=new Ev(n); i.set({label: t.title,icon: t.icon,tooltip: true,isToggleable: true}); i.bind("isEnabled").to(o,"isEnabled"); i.bind("isOn").to(o,"value",(t => t===e)); i.on("execute",this._executeCommand.bind(this,e)); return i;}));}_executeCommand(t) {this.editor.execute("imageStyle",{value: t}); this.editor.editing.view.focus();}} function ZL(t,e) {for (const n of t) {if (e[n.title]) {n.title=e[n.title];}} return t;} function JL(t) {return `imageStyle:${t}`;} function YL(t,e) {return (t?`${t}: `:"")+e;} class QL extends Ad {static get requires() {return [WL,KL];} static get pluginName() {return "ImageStyle";}} class XL extends Ad {static get requires() {return [aF,rz];} static get pluginName() {return "ImageToolbar";}afterInit() {const t=this.editor; const e=t.t; const n=t.plugins.get(aF); const o=t.plugins.get("ImageUtils"); n.register("image",{ariaLabel: e("Image toolbar"),items: tH(t.config.get("image.toolbar")||[]),getRelatedElement: t => o.getClosestSelectedImageWidget(t)});}} function tH(t) {return t.map((t => st(t)?t.name:t));} class eH extends (null&&Plugin) {static get requires() {return [ImageEditing,ImageUtils];} static get pluginName() {return "PictureEditing";}afterInit() {const t=this.editor; if (t.plugins.has("ImageBlockEditing")) {t.model.schema.extend("imageBlock",{allowAttributes: ["sources"]});} if (t.plugins.has("ImageInlineEditing")) {t.model.schema.extend("imageInline",{allowAttributes: ["sources"]});} this._setupConversion(); this._setupImageUploadEditingIntegration();}_setupConversion() {const t=this.editor; const e=t.conversion; const n=t.plugins.get("ImageUtils"); e.for("upcast").add(upcastPicture(n)); e.for("downcast").add(downcastSourcesAttribute(n));}_setupImageUploadEditingIntegration() {const t=this.editor; if (!t.plugins.has("ImageUploadEditing")) {return;} const e=t.plugins.get("ImageUploadEditing"); this.listenTo(e,"uploadComplete",((e,{imageElement: n,data: o}) => {const i=o.sources; if (!i) {return;}t.model.change((t => {t.setAttributes({sources: i},n);}));}));}} class nH {constructor() {this._definitions=new Set;} get length() {return this._definitions.size;}add(t) {if (Array.isArray(t)) {t.forEach((t => this._definitions.add(t)));} else {this._definitions.add(t);}}getDispatcher() {return t => {t.on("attribute:linkHref",((t,e,n) => {if (!n.consumable.test(e.item,"attribute:linkHref")) {return;} if (!(e.item.is("selection")||n.schema.isInline(e.item))) {return;} const o=n.writer; const i=o.document.selection; for (const t of this._definitions) {const r=o.createAttributeElement("a",t.attributes,{priority: 5}); if (t.classes) {o.addClass(t.classes,r);} for (const e in t.styles) {o.setStyle(e,t.styles[e],r);}o.setCustomProperty("link",true,r); if (t.callback(e.attributeNewValue)) {if (e.item.is("selection")) {o.wrap(i.getFirstRange(),r);} else {o.wrap(n.mapper.toViewRange(e.range),r);}} else {o.unwrap(n.mapper.toViewRange(e.range),r);}}}),{priority: "high"});};}getDispatcherForLinkedImage() {return t => {t.on("attribute:linkHref:imageBlock",((t,e,{writer: n,mapper: o}) => {const i=o.toViewElement(e.item); const r=Array.from(i.getChildren()).find((t => t.is("element","a"))); for (const t of this._definitions) {const o=ld(t.attributes); if (t.callback(e.attributeNewValue)) {for (const [t,e] of o) {if (t==="class") {n.addClass(e,r);} else {n.setAttribute(t,e,r);}} if (t.classes) {n.addClass(t.classes,r);} for (const e in t.styles) {n.setStyle(e,t.styles[e],r);}} else {for (const [t,e] of o) {if (t==="class") {n.removeClass(e,r);} else {n.removeAttribute(t,r);}} if (t.classes) {n.removeClass(t.classes,r);} for (const e in t.styles) {n.removeStyle(e,r);}}}}));};}} function oH(t,e,n) {const o=t.length; n=n===undefined?o:n; return !e&&n>=o?t:$u(t,e,n);} const iH=oH; const rH="\\ud800-\\udfff",sH="\\u0300-\\u036f",aH="\\ufe20-\\ufe2f",cH="\\u20d0-\\u20ff",lH=sH+aH+cH,dH="\\ufe0e\\ufe0f"; const uH="\\u200d"; const hH=RegExp(`[${uH}${rH}${lH}${dH}]`); function gH(t) {return hH.test(t);} const fH=gH; function mH(t) {return t.split("");} const pH=mH; const kH="\\ud800-\\udfff",bH="\\u0300-\\u036f",wH="\\ufe20-\\ufe2f",_H="\\u20d0-\\u20ff",CH=bH+wH+_H,AH="\\ufe0e\\ufe0f"; const vH=`[${kH}]`,yH=`[${CH}]`,xH="\\ud83c[\\udffb-\\udfff]",EH=`(?:${yH}|${xH})`,DH=`[^${kH}]`,BH="(?:\\ud83c[\\udde6-\\uddff]){2}",TH="[\\ud800-\\udbff][\\udc00-\\udfff]",SH="\\u200d"; const IH=`${EH}?`,PH=`[${AH}]?`,RH=`(?:${SH}(?:${[DH,BH,TH].join("|")})${PH}${IH})*`,VH=PH+IH+RH,MH=`(?:${[`${DH+yH}?`,yH,BH,TH,vH].join("|")})`; const FH=RegExp(`${xH}(?=${xH})|${MH}${VH}`,"g"); function OH(t) {return t.match(FH)||[];} const zH=OH; function NH(t) {return fH(t)?zH(t):pH(t);} const LH=NH; function HH(t) {return function(e) {e=Mu(e); const n=fH(e)?LH(e):undefined; const o=n?n[0]:e.charAt(0); const i=n?iH(n,1).join(""):e.slice(1); return o[t]()+i;};} const jH=HH; const WH=jH("toUpperCase"); const qH=WH; const UH=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g; const $H="^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))"; const GH=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i; const KH=/^((\w+:(\/{2,})?)|(\W))/i; const ZH=["https?","ftps?","mailto"]; const JH="Ctrl+K"; function YH(t) {return t.is("attributeElement")&&!!t.getCustomProperty("link");} function QH(t,{writer: e}) {const n=e.createAttributeElement("a",{href: t},{priority: 5}); e.setCustomProperty("link",true,n); return n;} function XH(t,e=ZH) {const n=String(t); const o=e.join("|"); const i=new RegExp(`${$H.replace("<protocols>",o)}`,"i"); return tj(n,i)?n:"#";} function tj(t,e) {const n=t.replace(UH,""); return !!n.match(e);} function ej(t,e) {const n={"Open in a new tab": t("Open in a new tab"),Downloadable: t("Downloadable")}; e.forEach((t => {if ("label"in t&&n[t.label]) {t.label=n[t.label];} return t;})); return e;} function nj(t) {const e=[]; if (t) {for (const [n,o] of Object.entries(t)) {const t=Object.assign({},o,{id: `link${qH(n)}`}); e.push(t);}} return e;} function oj(t,e) {if (!t) {return false;} return e.checkAttribute(t.name,"linkHref");} function ij(t) {return GH.test(t);} function rj(t,e) {const n=ij(t)?"mailto:":e; const o=!!n&&!sj(t); return t&&o?n+t:t;} function sj(t) {return KH.test(t);} function aj(t) {window.open(t,"_blank","noopener");} class cj extends yd {constructor() {super(...arguments); this.manualDecorators=new id; this.automaticDecorators=new nH;}restoreManualDecoratorStates() {for (const t of this.manualDecorators) {t.value=this._getDecoratorStateFromModel(t.id);}}refresh() {const t=this.editor.model; const e=t.document.selection; const n=e.getSelectedElement()||rd(e.getSelectedBlocks()); if (oj(n,t.schema)) {this.value=n.getAttribute("linkHref"); this.isEnabled=t.schema.checkAttribute(n,"linkHref");} else {this.value=e.getAttribute("linkHref"); this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref");} for (const t of this.manualDecorators) {t.value=this._getDecoratorStateFromModel(t.id);}}execute(t,e={}) {const n=this.editor.model; const o=n.document.selection; const i=[]; const r=[]; for (const t in e) {if (e[t]) {i.push(t);} else {r.push(t);}}n.change((e => {if (o.isCollapsed) {const s=o.getFirstPosition(); if (o.hasAttribute("linkHref")) {const a=lj(o); let c=kP(s,"linkHref",o.getAttribute("linkHref"),n); if (o.getAttribute("linkHref")===a) {c=this._updateLinkContent(n,e,c,t);}e.setAttribute("linkHref",t,c); i.forEach((t => {e.setAttribute(t,true,c);})); r.forEach((t => {e.removeAttribute(t,c);})); e.setSelection(e.createPositionAfter(c.end.nodeBefore));} else if (t!=="") {const r=ld(o.getAttributes()); r.set("linkHref",t); i.forEach((t => {r.set(t,true);})); const {end: a}=n.insertContent(e.createText(t,r),s); e.setSelection(a);}["linkHref",...i,...r].forEach((t => {e.removeSelectionAttribute(t);}));} else {const s=n.schema.getValidRanges(o.getRanges(),"linkHref"); const a=[]; for (const t of o.getSelectedBlocks()) {if (n.schema.checkAttribute(t,"linkHref")) {a.push(e.createRangeOn(t));}} const c=a.slice(); for (const t of s) {if (this._isRangeToUpdate(t,a)) {c.push(t);}} for (const s of c) {let a=s; if (c.length===1) {const i=lj(o); if (o.getAttribute("linkHref")===i) {a=this._updateLinkContent(n,e,s,t); e.setSelection(e.createSelection(a));}}e.setAttribute("linkHref",t,a); i.forEach((t => {e.setAttribute(t,true,a);})); r.forEach((t => {e.removeAttribute(t,a);}));}}}));}_getDecoratorStateFromModel(t) {const e=this.editor.model; const n=e.document.selection; const o=n.getSelectedElement(); if (oj(o,e.schema)) {return o.getAttribute(t);} return n.getAttribute(t);}_isRangeToUpdate(t,e) {for (const n of e) {if (n.containsRange(t)) {return false;}} return true;}_updateLinkContent(t,e,n,o) {const i=e.createText(o,{linkHref: o}); return t.insertContent(i,n);}} function lj(t) {if (t.isCollapsed) {const e=t.getFirstPosition(); return e.textNode&&e.textNode.data;} const e=Array.from(t.getFirstRange().getItems()); if (e.length>1) {return null;} const n=e[0]; if (n.is("$text")||n.is("$textProxy")) {return n.data;} return null;} class dj extends yd {refresh() {const t=this.editor.model; const e=t.document.selection; const n=e.getSelectedElement(); if (oj(n,t.schema)) {this.isEnabled=t.schema.checkAttribute(n,"linkHref");} else {this.isEnabled=t.schema.checkAttributeInSelection(e,"linkHref");}}execute() {const t=this.editor; const e=this.editor.model; const n=e.document.selection; const o=t.commands.get("link"); e.change((t => {const i=n.isCollapsed?[kP(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),e)]:e.schema.getValidRanges(n.getRanges(),"linkHref"); for (const e of i) {t.removeAttribute("linkHref",e); if (o) {for (const n of o.manualDecorators) {t.removeAttribute(n.id,e);}}}}));}} class uj extends (gt()) {constructor({id: t,label: e,attributes: n,classes: o,styles: i,defaultValue: r}) {super(); this.id=t; this.set("value",undefined); this.defaultValue=r; this.label=e; this.attributes=n; this.classes=o; this.styles=i;}_createPattern() {return {attributes: this.attributes,classes: this.classes,styles: this.styles};}} const hj=n(7865); const gj={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; gj.insert="head"; gj.singleton=true; const fj=Id()(hj.A,gj); const mj=hj.A.locals||{}; const pj="ck-link_selected"; const kj="automatic"; const bj="manual"; const wj=/^(https?:)?\/\//; class _j extends Ad {static get pluginName() {return "LinkEditing";} static get requires() {return [tP,OI,aM];}constructor(t) {super(t); t.config.define("link",{allowCreatingEmptyLinks: false,addTargetToExternalLinks: false});}init() {const t=this.editor; const e=this.editor.config.get("link.allowedProtocols"); t.model.schema.extend("$text",{allowAttributes: "linkHref"}); t.conversion.for("dataDowncast").attributeToElement({model: "linkHref",view: QH}); t.conversion.for("editingDowncast").attributeToElement({model: "linkHref",view: (t,n) => QH(XH(t,e),n)}); t.conversion.for("upcast").elementToAttribute({view: {name: "a",attributes: {href: true}},model: {key: "linkHref",value: t => t.getAttribute("href")}}); t.commands.add("link",new cj(t)); t.commands.add("unlink",new dj(t)); const n=ej(t.t,nj(t.config.get("link.decorators"))); this._enableAutomaticDecorators(n.filter((t => t.mode===kj))); this._enableManualDecorators(n.filter((t => t.mode===bj))); const o=t.plugins.get(tP); o.registerAttribute("linkHref"); wP(t,"linkHref","a",pj); this._enableLinkOpen(); this._enableSelectionAttributesFixer(); this._enableClipboardIntegration();}_enableAutomaticDecorators(t) {const e=this.editor; const n=e.commands.get("link"); const o=n.automaticDecorators; if (e.config.get("link.addTargetToExternalLinks")) {o.add({id: "linkIsExternal",mode: kj,callback: t => !!t&&wj.test(t),attributes: {target: "_blank",rel: "noopener noreferrer"}});}o.add(t); if (o.length) {e.conversion.for("downcast").add(o.getDispatcher());}}_enableManualDecorators(t) {if (!t.length) {return;} const e=this.editor; const n=e.commands.get("link"); const o=n.manualDecorators; t.forEach((t => {e.model.schema.extend("$text",{allowAttributes: t.id}); const n=new uj(t); o.add(n); e.conversion.for("downcast").attributeToElement({model: n.id,view: (t,{writer: e,schema: o},{item: i}) => {if (!(i.is("selection")||o.isInline(i))) {return;} if (t) {const t=e.createAttributeElement("a",n.attributes,{priority: 5}); if (n.classes) {e.addClass(n.classes,t);} for (const o in n.styles) {e.setStyle(o,n.styles[o],t);}e.setCustomProperty("link",true,t); return t;}}}); e.conversion.for("upcast").elementToAttribute({view: {name: "a",...n._createPattern()},model: {key: n.id}});}));}_enableLinkOpen() {const t=this.editor; const e=t.editing.view; const n=e.document; this.listenTo(n,"click",((t,e) => {const n=l.isMac?e.domEvent.metaKey:e.domEvent.ctrlKey; if (!n) {return;} let o=e.domTarget; if (o.tagName.toLowerCase()!="a") {o=o.closest("a");} if (!o) {return;} const i=o.getAttribute("href"); if (!i) {return;}t.stop(); e.preventDefault(); aj(i);}),{context: "$capture"}); this.listenTo(n,"keydown",((e,n) => {const o=t.commands.get("link"); const i=o.value; const r=!!i&&n.keyCode===Kc.enter&&n.altKey; if (!r) {return;}e.stop(); aj(i);}));}_enableSelectionAttributesFixer() {const t=this.editor; const e=t.model; const n=e.document.selection; this.listenTo(n,"change:attribute",((t,{attributeKeys: o}) => {if (!o.includes("linkHref")||n.hasAttribute("linkHref")) {return;}e.change((t => {Cj(t,Aj(e.schema));}));}));}_enableClipboardIntegration() {const t=this.editor; const e=t.model; const n=this.editor.config.get("link.defaultProtocol"); if (!n) {return;} this.listenTo(t.plugins.get("ClipboardPipeline"),"contentInsertion",((t,o) => {e.change((t => {const e=t.createRangeIn(o.content); for (const o of e.getItems()) {if (o.hasAttribute("linkHref")) {const e=rj(o.getAttribute("linkHref"),n); t.setAttribute("linkHref",e,o);}}}));}));}} function Cj(t,e) {t.removeSelectionAttribute("linkHref"); for (const n of e) {t.removeSelectionAttribute(n);}} function Aj(t) {const e=t.getDefinition("$text").allowAttributes; return e.filter((t => t.startsWith("link")));} const vj=n(2375); const yj={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; yj.insert="head"; yj.singleton=true; const xj=Id()(vj.A,yj); const Ej=vj.A.locals||{}; class Dj extends XA {constructor(t,e) {super(t); this.focusTracker=new sd; this.keystrokes=new ad; this._focusables=new wA; const n=t.t; this.urlInputView=this._createUrlInput(); this.saveButtonView=this._createButton(n("Save"),bA.check,"ck-button-save"); this.saveButtonView.type="submit"; this.cancelButtonView=this._createButton(n("Cancel"),bA.cancel,"ck-button-cancel","cancel"); this._manualDecoratorSwitches=this._createManualDecoratorSwitches(e); this.children=this._createFormChildren(e.manualDecorators); this._focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); const o=["ck","ck-link-form","ck-responsive-form"]; if (e.manualDecorators.length) {o.push("ck-link-form_layout-vertical","ck-vertical-form");} this.setTemplate({tag: "form",attributes: {class: o,tabindex: "-1"},children: this.children});}getDecoratorSwitchesState() {return Array.from(this._manualDecoratorSwitches).reduce(((t,e) => {t[e.name]=e.isOn; return t;}),{});}render() {super.render(); i({view: this}); const t=[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView]; t.forEach((t => {this._focusables.add(t); this.focusTracker.add(t.element);})); this.keystrokes.listenTo(this.element);}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}focus() {this._focusCycler.focusFirst();}_createUrlInput() {const t=this.locale.t; const e=new hy(this.locale,Mx); e.label=t("Link URL"); return e;}_createButton(t,e,n,o) {const i=new Ev(this.locale); i.set({label: t,icon: e,tooltip: true}); i.extendTemplate({attributes: {class: n}}); if (o) {i.delegate("execute").to(this,o);} return i;}_createManualDecoratorSwitches(t) {const e=this.createCollection(); for (const n of t.manualDecorators) {const o=new Iv(this.locale); o.set({name: n.id,label: n.label,withText: true}); o.bind("isOn").toMany([n,t],"value",((t,e) => e===undefined&&t===undefined?!!n.defaultValue:!!t)); o.on("execute",(() => {n.set("value",!o.isOn);})); e.add(o);} return e;}_createFormChildren(t) {const e=this.createCollection(); e.add(this.urlInputView); if (t.length) {const t=new XA; t.setTemplate({tag: "ul",children: this._manualDecoratorSwitches.map((t => ({tag: "li",children: [t],attributes: {class: ["ck","ck-list__item"]}}))),attributes: {class: ["ck","ck-reset","ck-list"]}}); e.add(t);}e.add(this.saveButtonView); e.add(this.cancelButtonView); return e;}} const Bj=n(6144); const Tj={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; Tj.insert="head"; Tj.singleton=true; const Sj=Id()(Bj.A,Tj); const Ij=Bj.A.locals||{}; const Pj='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>'; class Rj extends XA {constructor(t,e={}) {super(t); this.focusTracker=new sd; this.keystrokes=new ad; this._focusables=new wA; const n=t.t; this.previewButtonView=this._createPreviewButton(); this.unlinkButtonView=this._createButton(n("Unlink"),Pj,"unlink"); this.editButtonView=this._createButton(n("Edit link"),bA.pencil,"edit"); this.set("href",undefined); this._linkConfig=e; this._focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-link-actions","ck-responsive-form"],tabindex: "-1"},children: [this.previewButtonView,this.editButtonView,this.unlinkButtonView]});}render() {super.render(); const t=[this.previewButtonView,this.editButtonView,this.unlinkButtonView]; t.forEach((t => {this._focusables.add(t); this.focusTracker.add(t.element);})); this.keystrokes.listenTo(this.element);}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}focus() {this._focusCycler.focusFirst();}_createButton(t,e,n) {const o=new Ev(this.locale); o.set({label: t,icon: e,tooltip: true}); o.delegate("execute").to(this,n); return o;}_createPreviewButton() {const t=new Ev(this.locale); const e=this.bindTemplate; const n=this.t; t.set({withText: true,tooltip: n("Open link in new tab")}); t.extendTemplate({attributes: {class: ["ck","ck-link-actions__preview"],href: e.to("href",(t => t&&XH(t,this._linkConfig.allowedProtocols))),target: "_blank",rel: "noopener noreferrer"}}); t.bind("label").to(this,"href",(t => t||n("This link has no URL"))); t.bind("isEnabled").to(this,"href",(t => !!t)); t.template.tag="a"; t.template.eventListeners={}; return t;}} const Vj='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>'; const Mj="link-ui"; class Fj extends Ad {constructor() {super(...arguments); this.actionsView=null; this.formView=null;} static get requires() {return [qB];} static get pluginName() {return "LinkUI";}init() {const t=this.editor; const e=this.editor.t; t.editing.view.addObserver(r_); this._balloon=t.plugins.get(qB); this._createToolbarLinkButton(); this._enableBalloonActivators(); t.conversion.for("editingDowncast").markerToHighlight({model: Mj,view: {classes: ["ck-fake-link-selection"]}}); t.conversion.for("editingDowncast").markerToElement({model: Mj,view: {name: "span",classes: ["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}); t.accessibility.addKeystrokeInfos({keystrokes: [{label: e("Create link"),keystroke: JH},{label: e("Move out of a link"),keystroke: [["arrowleft","arrowleft"],["arrowright","arrowright"]]}]});}destroy() {super.destroy(); if (this.formView) {this.formView.destroy();} if (this.actionsView) {this.actionsView.destroy();}}_createViews() {this.actionsView=this._createActionsView(); this.formView=this._createFormView(); this._enableUserBalloonInteractions();}_createActionsView() {const t=this.editor; const e=new Rj(t.locale,t.config.get("link")); const n=t.commands.get("link"); const o=t.commands.get("unlink"); e.bind("href").to(n,"value"); e.editButtonView.bind("isEnabled").to(n); e.unlinkButtonView.bind("isEnabled").to(o); this.listenTo(e,"edit",(() => {this._addFormView();})); this.listenTo(e,"unlink",(() => {t.execute("unlink"); this._hideUI();})); e.keystrokes.set("Esc",((t,e) => {this._hideUI(); e();})); e.keystrokes.set(JH,((t,e) => {this._addFormView(); e();})); return e;}_createFormView() {const t=this.editor; const n=t.commands.get("link"); const o=t.config.get("link.defaultProtocol"); const i=t.config.get("link.allowCreatingEmptyLinks"); const r=new (e(Dj))(t.locale,n); r.urlInputView.fieldView.bind("value").to(n,"value"); r.urlInputView.bind("isEnabled").to(n,"isEnabled"); r.saveButtonView.bind("isEnabled").to(n,"isEnabled",r.urlInputView,"isEmpty",((t,e) => t&&(i||!e))); this.listenTo(r,"submit",(() => {const {value: e}=r.urlInputView.fieldView.element; const n=rj(e,o); t.execute("link",n,r.getDecoratorSwitchesState()); this._closeFormView();})); this.listenTo(r,"cancel",(() => {this._closeFormView();})); r.keystrokes.set("Esc",((t,e) => {this._closeFormView(); e();})); return r;}_createToolbarLinkButton() {const t=this.editor; const e=t.commands.get("link"); t.ui.componentFactory.add("link",(() => {const t=this._createButton(Ev); t.set({tooltip: true,isToggleable: true}); t.bind("isOn").to(e,"value",(t => !!t)); return t;})); t.ui.componentFactory.add("menuBar:link",(() => this._createButton(HS)));}_createButton(t) {const e=this.editor; const n=e.locale; const o=e.commands.get("link"); const i=new t(e.locale); const r=n.t; i.set({label: r("Link"),icon: Vj,keystroke: JH}); i.bind("isEnabled").to(o,"isEnabled"); this.listenTo(i,"execute",(() => this._showUI(true))); return i;}_enableBalloonActivators() {const t=this.editor; const e=t.editing.view.document; this.listenTo(e,"click",(() => {const t=this._getSelectedLinkElement(); if (t) {this._showUI();}})); t.keystrokes.set(JH,((e,n) => {n(); if (t.commands.get("link").isEnabled) {this._showUI(true);}}));}_enableUserBalloonInteractions() {this.editor.keystrokes.set("Tab",((t,e) => {if (this._areActionsVisible&&!this.actionsView.focusTracker.isFocused) {this.actionsView.focus(); e();}}),{priority: "high"}); this.editor.keystrokes.set("Esc",((t,e) => {if (this._isUIVisible) {this._hideUI(); e();}})); t({emitter: this.formView,activator: () => this._isUIInPanel,contextElements: () => [this._balloon.view.element],callback: () => this._hideUI()});}_addActionsView() {if (!this.actionsView) {this._createViews();} if (this._areActionsInPanel) {return;} this._balloon.add({view: this.actionsView,position: this._getBalloonPositionData()});}_addFormView() {if (!this.formView) {this._createViews();} if (this._isFormInPanel) {return;} const t=this.editor; const e=t.commands.get("link"); this.formView.disableCssTransitions(); this._balloon.add({view: this.formView,position: this._getBalloonPositionData()}); this.formView.urlInputView.fieldView.value=e.value||""; if (this._balloon.visibleView===this.formView) {this.formView.urlInputView.fieldView.select();} this.formView.enableCssTransitions();}_closeFormView() {const t=this.editor.commands.get("link"); t.restoreManualDecoratorStates(); if (t.value!==undefined) {this._removeFormView();} else {this._hideUI();}}_removeFormView() {if (this._isFormInPanel) {this.formView.saveButtonView.focus(); this.formView.urlInputView.fieldView.reset(); this._balloon.remove(this.formView); this.editor.editing.view.focus(); this._hideFakeVisualSelection();}}_showUI(t=false) {if (!this.formView) {this._createViews();} if (!this._getSelectedLinkElement()) {this._showFakeVisualSelection(); this._addActionsView(); if (t) {this._balloon.showStack("main");} this._addFormView();} else {if (this._areActionsVisible) {this._addFormView();} else {this._addActionsView();} if (t) {this._balloon.showStack("main");}} this._startUpdatingUI();}_hideUI() {if (!this._isUIInPanel) {return;} const t=this.editor; this.stopListening(t.ui,"update"); this.stopListening(this._balloon,"change:visibleView"); t.editing.view.focus(); this._removeFormView(); this._balloon.remove(this.actionsView); this._hideFakeVisualSelection();}_startUpdatingUI() {const t=this.editor; const e=t.editing.view.document; let n=this._getSelectedLinkElement(); let o=r(); const i=() => {const t=this._getSelectedLinkElement(); const e=r(); if (n&&!t||!n&&e!==o) {this._hideUI();} else if (this._isUIVisible) {this._balloon.updatePosition(this._getBalloonPositionData());}n=t; o=e;}; function r() {return e.selection.focus.getAncestors().reverse().find((t => t.is("element")));} this.listenTo(t.ui,"update",i); this.listenTo(this._balloon,"change:visibleView",i);} get _isFormInPanel() {return !!this.formView&&this._balloon.hasView(this.formView);} get _areActionsInPanel() {return !!this.actionsView&&this._balloon.hasView(this.actionsView);} get _areActionsVisible() {return !!this.actionsView&&this._balloon.visibleView===this.actionsView;} get _isUIInPanel() {return this._isFormInPanel||this._areActionsInPanel;} get _isUIVisible() {const t=this._balloon.visibleView; return !!this.formView&&t==this.formView||this._areActionsVisible;}_getBalloonPositionData() {const t=this.editor.editing.view; const e=this.editor.model; const n=t.document; let o; if (e.markers.has(Mj)) {const e=Array.from(this.editor.editing.mapper.markerNameToElements(Mj)); const n=t.createRange(t.createPositionBefore(e[0]),t.createPositionAfter(e[e.length-1])); o=t.domConverter.viewRangeToDom(n);} else {o=() => {const e=this._getSelectedLinkElement(); return e?t.domConverter.mapViewToDom(e):t.domConverter.viewRangeToDom(n.selection.getFirstRange());};} return {target: o};}_getSelectedLinkElement() {const t=this.editor.editing.view; const e=t.document.selection; const n=e.getSelectedElement(); if (e.isCollapsed||n&&mM(n)) {return Oj(e.getFirstPosition());} else {const n=e.getFirstRange().getTrimmed(); const o=Oj(n.start); const i=Oj(n.end); if (!o||o!=i) {return null;} if (t.createRangeIn(o).getTrimmed().isEqual(n)) {return o;} return null;}}_showFakeVisualSelection() {const t=this.editor.model; t.change((e => {const n=t.document.selection.getFirstRange(); if (t.markers.has(Mj)) {e.updateMarker(Mj,{range: n});} else if (n.start.isAtEnd) {const o=n.start.getLastMatchingPosition((({item: e}) => !t.schema.isContent(e)),{boundaries: n}); e.addMarker(Mj,{usingOperation: false,affectsData: false,range: e.createRange(o,n.end)});} else {e.addMarker(Mj,{usingOperation: false,affectsData: false,range: n});}}));}_hideFakeVisualSelection() {const t=this.editor.model; if (t.markers.has(Mj)) {t.change((t => {t.removeMarker(Mj);}));}}} function Oj(t) {return t.getAncestors().find((t => YH(t)))||null;} const zj=4; const Nj=new RegExp("(^|\\s)"+"("+"("+"(?:(?:(?:https?|ftp):)?\\/\\/)"+"(?:\\S+(?::\\S*)?@)?"+"(?:"+"(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])"+"(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}"+"(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))"+"|"+"("+"((?!www\\.)|(www\\.))"+"(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+"+"(?:[a-z\\u00a1-\\uffff]{2,63})"+")"+")"+"(?::\\d{2,5})?"+"(?:[/?#]\\S*)?"+")"+"|"+"("+"(www.|(\\S+@))"+"((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+"+"(?:[a-z\\u00a1-\\uffff]{2,63})"+")"+")$","i"); const Lj=2; class Hj extends Ad {static get requires() {return [JI,_j];} static get pluginName() {return "AutoLink";}init() {const t=this.editor; const e=t.model.document.selection; e.on("change:range",(() => {this.isEnabled=!e.anchor.parent.is("element","codeBlock");})); this._enableTypingHandling();}afterInit() {this._enableEnterHandling(); this._enableShiftEnterHandling(); this._enablePasteLinking();}_expandLinkRange(t,e) {if (e.textNode&&e.textNode.hasAttribute("linkHref")) {return kP(e,"linkHref",e.textNode.getAttribute("linkHref"),t);} return null;}_selectEntireLinks(t,e) {const n=this.editor; const o=n.model; const i=o.document.selection; const r=i.getFirstPosition(); const s=i.getLastPosition(); let a=e.getJoined(this._expandLinkRange(o,r)||e); if (a) {a=a.getJoined(this._expandLinkRange(o,s)||e);} if (a&&(a.start.isBefore(r)||a.end.isAfter(s))) {t.setSelection(a);}}_enablePasteLinking() {const t=this.editor; const e=t.model; const n=e.document.selection; const o=t.plugins.get("ClipboardPipeline"); const i=t.commands.get("link"); o.on("inputTransformation",((t,o) => {if (!this.isEnabled||!i.isEnabled||n.isCollapsed||o.method!=="paste") {return;} if (n.rangeCount>1) {return;} const r=n.getFirstRange(); const s=o.dataTransfer.getData("text/plain"); if (!s) {return;} const a=s.match(Nj); if (a&&a[2]===s) {e.change((t => {this._selectEntireLinks(t,r); i.execute(s);})); t.stop();}}),{priority: "high"});}_enableTypingHandling() {const t=this.editor; const e=new XI(t.model,(t => {if (!jj(t)) {return;} const e=Wj(t.substr(0,t.length-1)); if (e) {return {url: e};}})); e.on("matched:data",((e,n) => {const {batch: o,range: i,url: r}=n; if (!o.isTyping) {return;} const s=i.end.getShiftedBy(-1); const a=s.getShiftedBy(-r.length); const c=t.model.createRange(a,s); this._applyAutoLink(r,c);})); e.bind("isEnabled").to(this);}_enableEnterHandling() {const t=this.editor; const e=t.model; const n=t.commands.get("enter"); if (!n) {return;}n.on("execute",(() => {const t=e.document.selection.getFirstPosition(); if (!t.parent.previousSibling) {return;} const n=e.createRangeIn(t.parent.previousSibling); this._checkAndApplyAutoLinkOnRange(n);}));}_enableShiftEnterHandling() {const t=this.editor; const e=t.model; const n=t.commands.get("shiftEnter"); if (!n) {return;}n.on("execute",(() => {const t=e.document.selection.getFirstPosition(); const n=e.createRange(e.createPositionAt(t.parent,0),t.getShiftedBy(-1)); this._checkAndApplyAutoLinkOnRange(n);}));}_checkAndApplyAutoLinkOnRange(t) {const e=this.editor.model; const {text: n,range: o}=QI(t,e); const i=Wj(n); if (i) {const t=e.createRange(o.end.getShiftedBy(-i.length),o.end); this._applyAutoLink(i,t);}}_applyAutoLink(t,e) {const n=this.editor.model; const o=this.editor.config.get("link.defaultProtocol"); const i=rj(t,o); if (!this.isEnabled||!qj(e,n)||!sj(i)||Uj(e)) {return;} this._persistAutoLink(i,e);}_persistAutoLink(t,e) {const n=this.editor.model; const o=this.editor.plugins.get("Delete"); n.enqueueChange((i => {i.setAttribute("linkHref",t,e); n.enqueueChange((() => {o.requestUndoOnBackspace();}));}));}} function jj(t) {return t.length>zj&&t[t.length-1]===" "&&t[t.length-2]!==" ";} function Wj(t) {const e=Nj.exec(t); return e?e[Lj]:null;} function qj(t,e) {return e.schema.checkAttributeInSelection(e.createSelection(t),"linkHref");} function Uj(t) {const e=t.start.nodeAfter; return !!e&&e.hasAttribute("linkHref");} class $j extends Ad {static get requires() {return [_j,Fj,Hj];} static get pluginName() {return "Link";}} class Gj extends Ad {static get requires() {return ["ImageEditing","ImageUtils",_j];} static get pluginName() {return "LinkImageEditing";}afterInit() {const t=this.editor; const e=t.model.schema; if (t.plugins.has("ImageBlockEditing")) {e.extend("imageBlock",{allowAttributes: ["linkHref"]});}t.conversion.for("upcast").add(Kj(t)); t.conversion.for("downcast").add(Zj(t)); this._enableAutomaticDecorators(); this._enableManualDecorators();}_enableAutomaticDecorators() {const t=this.editor; const e=t.commands.get("link"); const n=e.automaticDecorators; if (n.length) {t.conversion.for("downcast").add(n.getDispatcherForLinkedImage());}}_enableManualDecorators() {const t=this.editor; const e=t.commands.get("link"); for (const n of e.manualDecorators) {if (t.plugins.has("ImageBlockEditing")) {t.model.schema.extend("imageBlock",{allowAttributes: n.id});} if (t.plugins.has("ImageInlineEditing")) {t.model.schema.extend("imageInline",{allowAttributes: n.id});}t.conversion.for("downcast").add(Jj(n)); t.conversion.for("upcast").add(Yj(t,n));}}} function Kj(t) {const e=t.plugins.has("ImageInlineEditing"); const n=t.plugins.get("ImageUtils"); return t => {t.on("element:a",((t,o,i) => {const r=o.viewItem; const s=n.findViewImgElement(r); if (!s) {return;} const a=s.findAncestor((t => n.isBlockImageView(t))); if (e&&!a) {return;} const c={attributes: ["href"]}; if (!i.consumable.consume(r,c)) {return;} const l=r.getAttribute("href"); if (!l) {return;} let d=o.modelCursor.parent; if (!d.is("element","imageBlock")) {const t=i.convertItem(s,o.modelCursor); o.modelRange=t.modelRange; o.modelCursor=t.modelCursor; d=o.modelCursor.nodeBefore;} if (d&&d.is("element","imageBlock")) {i.writer.setAttribute("linkHref",l,d);}}),{priority: "high"});};} function Zj(t) {const e=t.plugins.get("ImageUtils"); return t => {t.on("attribute:linkHref:imageBlock",((t,n,o) => {if (!o.consumable.consume(n.item,t.name)) {return;} const i=o.mapper.toViewElement(n.item); const r=o.writer; const s=Array.from(i.getChildren()).find((t => t.is("element","a"))); const a=e.findViewImgElement(i); const c=a.parent.is("element","picture")?a.parent:a; if (s) {if (n.attributeNewValue) {r.setAttribute("href",n.attributeNewValue,s);} else {r.move(r.createRangeOn(c),r.createPositionAt(i,0)); r.remove(s);}} else {const t=r.createContainerElement("a",{href: n.attributeNewValue}); r.insert(r.createPositionAt(i,0),t); r.move(r.createRangeOn(c),r.createPositionAt(t,0));}}),{priority: "high"});};} function Jj(t) {return e => {e.on(`attribute:${t.id}:imageBlock`,((e,n,o) => {const i=o.mapper.toViewElement(n.item); const r=Array.from(i.getChildren()).find((t => t.is("element","a"))); if (!r) {return;} for (const [e,n] of ld(t.attributes)) {o.writer.setAttribute(e,n,r);} if (t.classes) {o.writer.addClass(t.classes,r);} for (const e in t.styles) {o.writer.setStyle(e,t.styles[e],r);}}));};} function Yj(t,e) {const n=t.plugins.has("ImageInlineEditing"); const o=t.plugins.get("ImageUtils"); return t => {t.on("element:a",((t,i,r) => {const s=i.viewItem; const a=o.findViewImgElement(s); if (!a) {return;} const c=a.findAncestor((t => o.isBlockImageView(t))); if (n&&!c) {return;} const l=new tu(e._createPattern()); const d=l.match(s); if (!d) {return;} if (!r.consumable.consume(s,d.match)) {return;} const u=i.modelCursor.nodeBefore||i.modelCursor.parent; r.writer.setAttribute(e.id,true,u);}),{priority: "high"});};} class Qj extends Ad {static get requires() {return [_j,Fj,"ImageBlockEditing"];} static get pluginName() {return "LinkImageUI";}init() {const t=this.editor; const e=t.editing.view.document; this.listenTo(e,"click",((e,n) => {if (this._isSelectedLinkedImage(t.model.document.selection)) {n.preventDefault(); e.stop();}}),{priority: "high"}); this._createToolbarLinkImageButton();}_createToolbarLinkImageButton() {const t=this.editor; const e=t.t; t.ui.componentFactory.add("linkImage",(n => {const o=new Ev(n); const i=t.plugins.get("LinkUI"); const r=t.commands.get("link"); o.set({isEnabled: true,label: e("Link image"),icon: Vj,keystroke: JH,tooltip: true,isToggleable: true}); o.bind("isEnabled").to(r,"isEnabled"); o.bind("isOn").to(r,"value",(t => !!t)); this.listenTo(o,"execute",(() => {if (this._isSelectedLinkedImage(t.model.document.selection)) {i._addActionsView();} else {i._showUI(true);}})); return o;}));}_isSelectedLinkedImage(t) {const e=t.getSelectedElement(); const n=this.editor.plugins.get("ImageUtils"); return n.isImage(e)&&e.hasAttribute("linkHref");}} const Xj=n(1634); const tW={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; tW.insert="head"; tW.singleton=true; const eW=Id()(Xj.A,tW); const nW=Xj.A.locals||{}; class oW extends Ad {static get requires() {return [Gj,Qj];} static get pluginName() {return "LinkImage";}} function iW(t) {const e=parseFloat(t); if (t.endsWith("pt")) {return sW(e*96/72);} else if (t.endsWith("pc")) {return sW(e*12*96/72);} else if (t.endsWith("in")) {return sW(e*96);} else if (t.endsWith("cm")) {return sW(e*96/2.54);} else if (t.endsWith("mm")) {return sW(e/10*96/2.54);} return t;} function rW(t) {return t!==undefined&&t.endsWith("px");} function sW(t) {return `${t.toFixed(2).replace(/\.?0+$/,"")}px`;} function aW(t,e,n) {if (!t.childCount) {return;} const o=new a_(t.document); const i=lW(t,o); if (!i.length) {return;} const r={}; const s=[]; for (const t of i) {if (t.indent!==undefined) {if (!dW(t)) {s.length=0;} const i=`${t.id}:${t.indent}`; const a=Math.min(t.indent-1,s.length); if (a<s.length&&s[a].id!==t.id) {s.length=a;} if (a<s.length-1) {s.length=a+1;} else {const c=hW(t,e); if (a>s.length-1||s[a].listElement.name!=c.type) {if (a==0&&c.type=="ol"&&t.id!==undefined&&r[i]) {c.startIndex=r[i];} const e=pW(c,o,n); if (rW(t.marginLeft)&&(a==0||rW(s[a-1].marginLeft))) {let n=t.marginLeft; if (a>0) {n=sW(parseFloat(n)-parseFloat(s[a-1].marginLeft));}o.setStyle("padding-left",n,e);} if (s.length==0) {const n=t.element.parent; const i=n.getChildIndex(t.element)+1; o.insertChild(i,e,n);} else {const t=s[a-1].listItemElements; o.appendChild(e,t[t.length-1]);}s[a]={...t,listElement: e,listItemElements: []}; if (a==0&&t.id!==undefined) {r[i]=c.startIndex||1;}}} const c=t.element.name=="li"?t.element:o.createElement("li"); o.appendChild(c,s[a].listElement); s[a].listItemElements.push(c); if (a==0&&t.id!==undefined) {r[i]++;} if (t.element!=c) {o.appendChild(t.element,c);}bW(t.element,o); o.removeStyle("text-indent",t.element); o.removeStyle("margin-left",t.element);} else {const e=s.find((e => e.marginLeft==t.marginLeft)); if (e) {const n=e.listItemElements; o.appendChild(t.element,n[n.length-1]); o.removeStyle("margin-left",t.element);} else {s.length=0;}}}} function cW(t,e) {for (const n of e.createRangeIn(t)) {const t=n.item; if (t.is("element","li")) {const n=t.getChild(0); if (n&&n.is("element","p")) {e.unwrapElement(n);}}}} function lW(t,e) {const n=e.createRangeIn(t); const o=[]; const i=new Set; for (const t of n.getItems()) {if (!t.is("element")||!t.name.match(/^(p|h\d+|li|div)$/)) {continue;} let e=wW(t); if (e!==undefined&&parseFloat(e)==0&&!Array.from(t.getClassNames()).find((t => t.startsWith("MsoList")))) {e=undefined;} if (t.hasStyle("mso-list")||e!==undefined&&i.has(e)) {const n=kW(t); o.push({element: t,id: n.id,order: n.order,indent: n.indent,marginLeft: e}); if (e!==undefined) {i.add(e);}} else {i.clear();}} return o;} function dW(t) {const e=t.element.previousSibling; if (!e) {return uW(t.element.parent);} return uW(e);} function uW(t) {return t.is("element","ol")||t.is("element","ul");} function hW(t,e) {const n=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi"); const o=/mso-level-number-format:([^;]{0,100});/gi; const i=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi; const r=new RegExp(`@list\\s+l${t.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"); const s=new RegExp(`@list l${t.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"); const a=r.exec(e); const c=s.exec(e); const l=a&&!c; const d=n.exec(e); let u="decimal"; let h="ol"; let g=null; if (d&&d[1]) {const e=o.exec(d[1]); if (e&&e[1]) {u=e[1].trim(); h=u!=="bullet"&&u!=="image"?"ol":"ul";} if (u==="bullet") {const e=gW(t.element); if (e) {u=e;}} else {const t=i.exec(d[1]); if (t&&t[1]) {g=parseInt(t[1]);}} if (l) {h="ol";}} return {type: h,startIndex: g,style: mW(u),isLegalStyleList: l};} function gW(t) {if (t.name=="li"&&t.parent.name=="ul"&&t.parent.hasAttribute("type")) {return t.parent.getAttribute("type");} const e=fW(t); if (!e) {return null;} const n=e._data; if (n==="o") {return "circle";} else if (n==="·") {return "disc";} else if (n==="§") {return "square";} return null;} function fW(t) {if (t.getChild(0).is("$text")) {return null;} for (const e of t.getChildren()) {if (!e.is("element","span")) {continue;} const t=e.getChild(0); if (!t) {continue;} if (t.is("$text")) {return t;} return t.getChild(0);} return null;} function mW(t) {if (t.startsWith("arabic-leading-zero")) {return "decimal-leading-zero";} switch (t) {case "alpha-upper":return "upper-alpha"; case "alpha-lower":return "lower-alpha"; case "roman-upper":return "upper-roman"; case "roman-lower":return "lower-roman"; case "circle":case "disc":case "square":return t; default:return null;}} function pW(t,e,n) {const o=e.createElement(t.type); if (t.style) {e.setStyle("list-style-type",t.style,o);} if (t.startIndex&&t.startIndex>1) {e.setAttribute("start",t.startIndex,o);} if (t.isLegalStyleList&&n) {e.addClass("legal-list",o);} return o;} function kW(t) {const e=t.getStyle("mso-list"); if (e===undefined) {return {};} const n=e.match(/(^|\s{1,100})l(\d+)/i); const o=e.match(/\s{0,100}lfo(\d+)/i); const i=e.match(/\s{0,100}level(\d+)/i); if (n&&o&&i) {return {id: n[2],order: o[1],indent: parseInt(i[1])};} return {indent: 1};} function bW(t,e) {const n=new tu({name: "span",styles: {"mso-list": "Ignore"}}); const o=e.createRangeIn(t); for (const t of o) {if (t.type==="elementStart"&&n.match(t.item)) {e.remove(t.item);}}} function wW(t) {const e=t.getStyle("margin-left"); if (e===undefined||e.endsWith("px")) {return e;} return iW(e);} function _W(t,e) {if (!t.childCount) {return;} const n=new a_(t.document); const o=AW(t,n); vW(o,t,n); xW(o,t,n); yW(t,n); const i=EW(t,n); if (i.length) {BW(i,DW(e),n);}} function CW(t) {return btoa(t.match(/\w{2}/g).map((t => String.fromCharCode(parseInt(t,16)))).join(""));} function AW(t,e) {const n=e.createRangeIn(t); const o=new tu({name: /v:(.+)/}); const i=[]; for (const t of n) {if (t.type!="elementStart") {continue;} const e=t.item; const n=e.previousSibling; const r=n&&n.is("element")?n.name:null; const s=["Chart"]; const a=o.match(e); const c=e.getAttribute("o:gfxdata"); const l=r==="v:shapetype"; const d=c&&s.some((t => e.getAttribute("id").includes(t))); if (a&&c&&!l&&!d) {i.push(t.item.getAttribute("id"));}} return i;} function vW(t,e,n) {const o=n.createRangeIn(e); const i=new tu({name: "img"}); const r=[]; for (const e of o) {if (e.item.is("element")&&i.match(e.item)) {const n=e.item; const o=n.getAttribute("v:shapes")?n.getAttribute("v:shapes").split(" "):[]; if (o.length&&o.every((e => t.indexOf(e)>-1))) {r.push(n);} else if (!n.getAttribute("src")) {r.push(n);}}} for (const t of r) {n.remove(t);}} function yW(t,e) {const n=e.createRangeIn(t); const o=new tu({name: /v:(.+)/}); const i=[]; for (const t of n) {if (t.type=="elementStart"&&o.match(t.item)) {i.push(t.item);}} for (const t of i) {e.remove(t);}} function xW(t,e,n) {const o=n.createRangeIn(e); const i=[]; for (const e of o) {if (e.type=="elementStart"&&e.item.is("element","v:shape")) {const n=e.item.getAttribute("id"); if (t.includes(n)) {continue;} if (!r(e.item.parent.getChildren(),n)) {i.push(e.item);}}} for (const t of i) {const e={src: s(t)}; if (t.hasAttribute("alt")) {e.alt=t.getAttribute("alt");} const o=n.createElement("img",e); n.insertChild(t.index+1,o,t.parent);} function r(t,e) {for (const n of t) {if (n.is("element")) {if (n.name=="img"&&n.getAttribute("v:shapes")==e) {return true;} if (r(n.getChildren(),e)) {return true;}}} return false;} function s(t) {for (const e of t.getChildren()) {if (e.is("element")&&e.getAttribute("src")) {return e.getAttribute("src");}}}} function EW(t,e) {const n=e.createRangeIn(t); const o=new tu({name: "img"}); const i=[]; for (const t of n) {if (t.item.is("element")&&o.match(t.item)) {if (t.item.getAttribute("src").startsWith("file://")) {i.push(t.item);}}} return i;} function DW(t) {if (!t) {return [];} const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/; const n=new RegExp(`(?:(${e.source}))([\\da-fA-F\\s]+)\\}`,"g"); const o=t.match(n); const i=[]; if (o) {for (const t of o) {let n=false; if (t.includes("\\pngblip")) {n="image/png";} else if (t.includes("\\jpegblip")) {n="image/jpeg";} if (n) {i.push({hex: t.replace(e,"").replace(/[^\da-fA-F]/g,""),type: n});}}} return i;} function BW(t,e,n) {if (t.length===e.length) {for (let o=0; o<t.length; o++) {const i=`data:${e[o].type};base64,${CW(e[o].hex)}`; n.setAttribute("src",i,t[o]);}}} function TW(t) {const e=[]; const n=new a_(t.document); for (const {item: o} of n.createRangeIn(t)) {if (!o.is("element")) {continue;} for (const t of o.getClassNames()) {if ((/\bmso/gi).exec(t)) {n.removeClass(t,o);}} for (const t of o.getStyleNames()) {if ((/\bmso/gi).exec(t)) {n.removeStyle(t,o);}} if (o.is("element","w:sdt")||o.is("element","w:sdtpr")&&o.isEmpty||o.is("element","o:p")&&o.isEmpty) {e.push(o);}} for (const t of e) {const e=t.parent; const o=e.getChildIndex(t); n.insertChild(o,t.getChildren(),e); n.remove(t);}} const SW=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i; const IW=/xmlns:o="urn:schemas-microsoft-com/i; class PW {constructor(t,e=false) {this.document=t; this.hasMultiLevelListPlugin=e;}isActive(t) {return SW.test(t)||IW.test(t);}execute(t) {const {body: e,stylesString: n}=t._parsedData; aW(e,n,this.hasMultiLevelListPlugin); _W(e,t.dataTransfer.getData("text/rtf")); TW(e); t.content=e;}} function RW(t,e) {for (const n of t.getChildren()) {if (n.is("element","b")&&n.getStyle("font-weight")==="normal") {const o=t.getChildIndex(n); e.remove(n); e.insertChild(o,n.getChildren(),t);}}} function VW(t,e) {const n=new Rh(e.document.stylesProcessor); const o=new Fg(n,{renderingMode: "data"}); const i=o.blockElements; const r=o.inlineObjectElements; const s=[]; for (const n of e.createRangeIn(t)) {const t=n.item; if (t.is("element","br")) {const n=MW(t,"forward",e,{blockElements: i,inlineObjectElements: r}); const o=MW(t,"backward",e,{blockElements: i,inlineObjectElements: r}); const a=FW(n,i); const c=FW(o,i); if (c||a) {s.push(t);}}} for (const t of s) {if (t.hasClass("Apple-interchange-newline")) {e.remove(t);} else {e.replace(t,e.createElement("p"));}}} function MW(t,e,n,{blockElements: o,inlineObjectElements: i}) {let r=n.createPositionAt(t,e=="forward"?"after":"before"); r=r.getLastMatchingPosition((({item: t}) => t.is("element")&&!o.includes(t.name)&&!i.includes(t.name)),{direction: e}); return e=="forward"?r.nodeAfter:r.nodeBefore;} function FW(t,e) {return !!t&&t.is("element")&&e.includes(t.name);} const OW=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i; class zW {constructor(t) {this.document=t;}isActive(t) {return OW.test(t);}execute(t) {const e=new a_(this.document); const {body: n}=t._parsedData; RW(n,e); cW(n,e); VW(n,e); t.content=n;}} function NW(t,e) {for (const n of t.getChildren()) {if (n.is("element","table")&&n.hasAttribute("xmlns")) {e.removeAttribute("xmlns",n);}}} function LW(t,e) {for (const n of t.getChildren()) {if (n.is("element","google-sheets-html-origin")) {const o=t.getChildIndex(n); e.remove(n); e.insertChild(o,n.getChildren(),t);}}} function HW(t,e) {for (const n of t.getChildren()) {if (n.is("element","table")&&n.getStyle("width")==="0px") {e.removeStyle("width",n);}}} function jW(t,e) {for (const n of Array.from(t.getChildren())) {if (n.is("element","style")) {e.remove(n);}}} const WW=/<google-sheets-html-origin/i; class qW {constructor(t) {this.document=t;}isActive(t) {return WW.test(t);}execute(t) {const e=new a_(this.document); const {body: n}=t._parsedData; LW(n,e); NW(n,e); HW(n,e); jW(n,e); t.content=n;}} function UW(t) {return GW(GW(t)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><");} function $W(t) {t.querySelectorAll("span[style*=spacerun]").forEach((t => {const e=t; const n=e.innerText.length||0; e.innerText=Array(n+1).join("  ").substr(0,n);}));} function GW(t) {return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((t,e) => e.length===1?" ":Array(e.length+1).join("  ").substr(0,e.length)));} function KW(t,e) {const n=new DOMParser; t=t.replace(/<!--\[if gte vml 1]>/g,""); t=t.replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""); const o=UW(YW(t)); const i=n.parseFromString(o,"text/html"); $W(i); const r=i.body.innerHTML; const s=ZW(i,e); const a=JW(i); return {body: s,bodyString: r,styles: a.styles,stylesString: a.stylesString};} function ZW(t,e) {const n=new Rh(e); const o=new Fg(n,{renderingMode: "data"}); const i=t.createDocumentFragment(); const r=t.body.childNodes; while (r.length>0) {i.appendChild(r[0]);} return o.domToView(i,{skipComments: true});} function JW(t) {const e=[]; const n=[]; const o=Array.from(t.getElementsByTagName("style")); for (const t of o) {if (t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length) {e.push(t.sheet); n.push(t.innerHTML);}} return {styles: e,stylesString: n.join(" ")};} function YW(t) {const e="</body>"; const n="</html>"; const o=t.indexOf(e); if (o<0) {return t;} const i=t.indexOf(n,o+e.length); return t.substring(0,o+e.length)+(i>=0?t.substring(i):"");} class QW extends Ad {static get pluginName() {return "PasteFromOffice";} static get requires() {return [aM];}init() {const t=this.editor; const e=t.plugins.get("ClipboardPipeline"); const n=t.editing.view.document; const o=[]; const i=this.editor.plugins.has("MultiLevelList"); o.push(new PW(n,i)); o.push(new zW(n)); o.push(new qW(n)); e.on("inputTransformation",((e,i) => {if (i._isTransformedWithPasteFromOffice) {return;} const r=t.model.document.selection.getFirstPosition().parent; if (r.is("element","codeBlock")) {return;} const s=i.dataTransfer.getData("text/html"); const a=o.find((t => t.isActive(s))); if (a) {if (!i._parsedData) {i._parsedData=KW(s,n.stylesProcessor);}a.execute(i); i._isTransformedWithPasteFromOffice=true;}}),{priority: "high"});}} function XW(t,e,n,o,i=1) {if (e!==undefined&&e!==null&&i!==undefined&&i!==null&&e>i) {o.setAttribute(t,e,n);} else {o.removeAttribute(t,n);}} function tq(t,e,n={}) {const o=t.createElement("tableCell",n); t.insertElement("paragraph",o); t.insert(o,e); return o;} function eq(t,e) {const n=e.parent.parent; const o=parseInt(n.getAttribute("headingColumns")||"0"); const {column: i}=t.getCellLocation(e); return !!o&&i<o;} function nq(t,e,n) {const {modelAttribute: o}=n; t.extend("tableCell",{allowAttributes: [o]}); upcastStyleToAttribute(e,{viewElement: /^(td|th)$/,...n}); downcastAttributeToStyle(e,{modelElement: "tableCell",...n});} function oq(t) {const e=t.getSelectedElement(); if (e&&e.is("element","table")) {return e;} return t.getFirstPosition().findAncestor("table");} function iq() {return t => {t.on("element:figure",((t,e,n) => {if (!n.consumable.test(e.viewItem,{name: true,classes: "table"})) {return;} const o=cq(e.viewItem); if (!o||!n.consumable.test(o,{name: true})) {return;}n.consumable.consume(e.viewItem,{name: true,classes: "table"}); const i=n.convertItem(o,e.modelCursor); const r=rd(i.modelRange.getItems()); if (!r) {n.consumable.revert(e.viewItem,{name: true,classes: "table"}); return;}n.convertChildren(e.viewItem,n.writer.createPositionAt(r,"end")); n.updateConversionResult(r,e);}));};} function rq() {return t => {t.on("element:table",((t,e,n) => {const o=e.viewItem; if (!n.consumable.test(o,{name: true})) {return;} const {rows: i,headingRows: r,headingColumns: s}=lq(o); const a={}; if (s) {a.headingColumns=s;} if (r) {a.headingRows=r;} const c=n.writer.createElement("table",a); if (!n.safeInsert(c,e.modelCursor)) {return;}n.consumable.consume(o,{name: true}); i.forEach((t => n.convertItem(t,n.writer.createPositionAt(c,"end")))); n.convertChildren(o,n.writer.createPositionAt(c,"end")); if (c.isEmpty) {const t=n.writer.createElement("tableRow"); n.writer.insert(t,n.writer.createPositionAt(c,"end")); tq(n.writer,n.writer.createPositionAt(t,"end"));}n.updateConversionResult(c,e);}));};} function sq() {return t => {t.on("element:tr",((t,e) => {if (e.viewItem.isEmpty&&e.modelCursor.index==0) {t.stop();}}),{priority: "high"});};} function aq(t) {return e => {e.on(`element:${t}`,((t,e,{writer: n}) => {if (!e.modelRange) {return;} const o=e.modelRange.start.nodeAfter; const i=n.createPositionAt(o,0); if (e.viewItem.isEmpty) {n.insertElement("paragraph",i); return;} const r=Array.from(o.getChildren()); if (r.every((t => t.is("element","$marker")))) {const t=n.createElement("paragraph"); n.insert(t,n.createPositionAt(o,0)); for (const e of r) {n.move(n.createRangeOn(e),n.createPositionAt(t,"end"));}}}),{priority: "low"});};} function cq(t) {for (const e of t.getChildren()) {if (e.is("element","table")) {return e;}}} function lq(t) {let e=0; let n=undefined; const o=[]; const i=[]; let r; for (const s of Array.from(t.getChildren())) {if (s.name!=="tbody"&&s.name!=="thead"&&s.name!=="tfoot") {continue;} if (s.name==="thead"&&!r) {r=s;} const t=Array.from(s.getChildren()).filter((t => t.is("element","tr"))); for (const a of t) {if (r&&s===r||s.name==="tbody"&&Array.from(a.getChildren()).length&&Array.from(a.getChildren()).every((t => t.is("element","th")))) {e++; o.push(a);} else {i.push(a); const t=dq(a); if (!n||t<n) {n=t;}}}} return {headingRows: e,headingColumns: n||0,rows: [...o,...i]};} function dq(t) {let e=0; let n=0; const o=Array.from(t.getChildren()).filter((t => t.name==="th"||t.name==="td")); while (n<o.length&&o[n].name==="th") {const t=o[n]; const i=parseInt(t.getAttribute("colspan")||"1"); e+=i; n++;} return e;} class uq {constructor(t,e={}) {this._jumpedToStartRow=false; this._table=t; this._startRow=e.row!==undefined?e.row:e.startRow||0; this._endRow=e.row!==undefined?e.row:e.endRow; this._startColumn=e.column!==undefined?e.column:e.startColumn||0; this._endColumn=e.column!==undefined?e.column:e.endColumn; this._includeAllSlots=!!e.includeAllSlots; this._skipRows=new Set; this._row=0; this._rowIndex=0; this._column=0; this._cellIndex=0; this._spannedCells=new Map; this._nextCellAtColumn=-1;}[Symbol.iterator]() {return this;}next() {if (this._canJumpToStartRow()) {this._jumpToNonSpannedRowClosestToStartRow();} const t=this._table.getChild(this._rowIndex); if (!t||this._isOverEndRow()) {return {done: true,value: undefined};} if (!t.is("element","tableRow")) {this._rowIndex++; return this.next();} if (this._isOverEndColumn()) {return this._advanceToNextRow();} let e=null; const n=this._getSpanned(); if (n) {if (this._includeAllSlots&&!this._shouldSkipSlot()) {e=this._formatOutValue(n.cell,n.row,n.column);}} else {const n=t.getChild(this._cellIndex); if (!n) {return this._advanceToNextRow();} const o=parseInt(n.getAttribute("colspan")||"1"); const i=parseInt(n.getAttribute("rowspan")||"1"); if (o>1||i>1) {this._recordSpans(n,i,o);} if (!this._shouldSkipSlot()) {e=this._formatOutValue(n);} this._nextCellAtColumn=this._column+o;} this._column++; if (this._column==this._nextCellAtColumn) {this._cellIndex++;} return e||this.next();}skipRow(t) {this._skipRows.add(t);}_advanceToNextRow() {this._row++; this._rowIndex++; this._column=0; this._cellIndex=0; this._nextCellAtColumn=-1; return this.next();}_isOverEndRow() {return this._endRow!==undefined&&this._row>this._endRow;}_isOverEndColumn() {return this._endColumn!==undefined&&this._column>this._endColumn;}_formatOutValue(t,e=this._row,n=this._column) {return {done: false,value: new hq(this,t,e,n)};}_shouldSkipSlot() {const t=this._skipRows.has(this._row); const e=this._row<this._startRow; const n=this._column<this._startColumn; const o=this._endColumn!==undefined&&this._column>this._endColumn; return t||e||n||o;}_getSpanned() {const t=this._spannedCells.get(this._row); if (!t) {return null;} return t.get(this._column)||null;}_recordSpans(t,e,n) {const o={cell: t,row: this._row,column: this._column}; for (let t=this._row; t<this._row+e; t++) {for (let e=this._column; e<this._column+n; e++) {if (t!=this._row||e!=this._column) {this._markSpannedCell(t,e,o);}}}}_markSpannedCell(t,e,n) {if (!this._spannedCells.has(t)) {this._spannedCells.set(t,new Map);} const o=this._spannedCells.get(t); o.set(e,n);}_canJumpToStartRow() {return !!this._startRow&&this._startRow>0&&!this._jumpedToStartRow;}_jumpToNonSpannedRowClosestToStartRow() {const t=this._getRowLength(0); for (let e=this._startRow; !this._jumpedToStartRow; e--) {if (t===this._getRowLength(e)) {this._row=e; this._rowIndex=e; this._jumpedToStartRow=true;}}}_getRowLength(t) {const e=this._table.getChild(t); return [...e.getChildren()].reduce(((t,e) => t+parseInt(e.getAttribute("colspan")||"1")),0);}} class hq {constructor(t,e,n,o) {this.cell=e; this.row=t._row; this.column=t._column; this.cellAnchorRow=n; this.cellAnchorColumn=o; this._cellIndex=t._cellIndex; this._rowIndex=t._rowIndex; this._table=t._table;} get isAnchor() {return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn;} get cellWidth() {return parseInt(this.cell.getAttribute("colspan")||"1");} get cellHeight() {return parseInt(this.cell.getAttribute("rowspan")||"1");} get rowIndex() {return this._rowIndex;}getPositionBefore() {const t=this._table.root.document.model; return t.createPositionAt(this._table.getChild(this.row),this._cellIndex);}} function gq(t,e) {return (n,{writer: o}) => {const i=n.getAttribute("headingRows")||0; const r=o.createContainerElement("table",null,[]); const s=o.createContainerElement("figure",{class: "table"},r); if (i>0) {o.insert(o.createPositionAt(r,"end"),o.createContainerElement("thead",null,o.createSlot((t => t.is("element","tableRow")&&t.index<i))));} if (i<t.getRows(n)) {o.insert(o.createPositionAt(r,"end"),o.createContainerElement("tbody",null,o.createSlot((t => t.is("element","tableRow")&&t.index>=i))));} for (const {positionOffset: t,filter: n} of e.additionalSlots) {o.insert(o.createPositionAt(r,t),o.createSlot(n));}o.insert(o.createPositionAt(r,"after"),o.createSlot((t => {if (t.is("element","tableRow")) {return false;} return !e.additionalSlots.some((({filter: e}) => e(t)));}))); return e.asWidget?bq(s,o):s;};} function fq() {return (t,{writer: e}) => t.isEmpty?e.createEmptyElement("tr"):e.createContainerElement("tr");} function mq(t={}) {return (e,{writer: n}) => {const o=e.parent; const i=o.parent; const r=i.getChildIndex(o); const s=new uq(i,{row: r}); const a=i.getAttribute("headingRows")||0; const c=i.getAttribute("headingColumns")||0; let l=null; for (const o of s) {if (o.cell==e) {const e=o.row<a||o.column<c; const i=e?"th":"td"; l=t.asWidget?AM(n.createEditableElement(i),n):n.createContainerElement(i); break;}} return l;};} function pq(t={}) {return (e,{writer: n}) => {if (!e.parent.is("element","tableCell")) {return null;} if (!kq(e)) {return null;} if (t.asWidget) {return n.createContainerElement("span",{class: "ck-table-bogus-paragraph"});} else {const t=n.createContainerElement("p"); n.setCustomProperty("dataPipeline:transparentRendering",true,t); return t;}};} function kq(t) {const e=t.parent; const n=e.childCount==1; return n&&!wq(t);} function bq(t,e) {e.setCustomProperty("table",true,t); return pM(t,e,{hasSelectionHandle: true});} function wq(t) {const e=t.getAttributeKeys().next(); return !e.done;} class _q extends yd {refresh() {const t=this.editor.model; const e=t.document.selection; const n=t.schema; this.isEnabled=Cq(e,n);}execute(t={}) {const e=this.editor; const n=e.model; const o=e.plugins.get("TableUtils"); const i=e.config.get("table.defaultHeadings.rows"); const r=e.config.get("table.defaultHeadings.columns"); if (t.headingRows===undefined&&i) {t.headingRows=i;} if (t.headingColumns===undefined&&r) {t.headingColumns=r;}n.change((e => {const i=o.createTable(e,t); n.insertObject(i,null,null,{findOptimalPosition: "auto"}); e.setSelection(e.createPositionAt(i.getNodeByPath([0,0,0]),0));}));}} function Cq(t,e) {const n=t.getFirstPosition().parent; const o=n===n.root?n:n.parent; return e.checkChild(o,"table");} class Aq extends yd {constructor(t,e={}) {super(t); this.order=e.order||"below";}refresh() {const t=this.editor.model.document.selection; const e=this.editor.plugins.get("TableUtils"); const n=!!e.getSelectionAffectedTableCells(t).length; this.isEnabled=n;}execute() {const t=this.editor; const e=t.model.document.selection; const n=t.plugins.get("TableUtils"); const o=this.order==="above"; const i=n.getSelectionAffectedTableCells(e); const r=n.getRowIndexes(i); const s=o?r.first:r.last; const a=i[0].findAncestor("table"); n.insertRows(a,{at: o?s:s+1,copyStructureFromAbove: !o});}} class vq extends yd {constructor(t,e={}) {super(t); this.order=e.order||"right";}refresh() {const t=this.editor.model.document.selection; const e=this.editor.plugins.get("TableUtils"); const n=!!e.getSelectionAffectedTableCells(t).length; this.isEnabled=n;}execute() {const t=this.editor; const e=t.model.document.selection; const n=t.plugins.get("TableUtils"); const o=this.order==="left"; const i=n.getSelectionAffectedTableCells(e); const r=n.getColumnIndexes(i); const s=o?r.first:r.last; const a=i[0].findAncestor("table"); n.insertColumns(a,{columns: 1,at: o?s:s+1});}} class yq extends yd {constructor(t,e={}) {super(t); this.direction=e.direction||"horizontally";}refresh() {const t=this.editor.plugins.get("TableUtils"); const e=t.getSelectionAffectedTableCells(this.editor.model.document.selection); this.isEnabled=e.length===1;}execute() {const t=this.editor.plugins.get("TableUtils"); const e=t.getSelectionAffectedTableCells(this.editor.model.document.selection)[0]; const n=this.direction==="horizontally"; if (n) {t.splitCellHorizontally(e,2);} else {t.splitCellVertically(e,2);}}} function xq(t,e,n) {const {startRow: o,startColumn: i,endRow: r,endColumn: s}=e; const a=n.createElement("table"); const c=r-o+1; for (let t=0; t<c; t++) {n.insertElement("tableRow",a,"end");} const l=[...new uq(t,{startRow: o,endRow: r,startColumn: i,endColumn: s,includeAllSlots: true})]; for (const {row: t,column: e,cell: c,isAnchor: d,cellAnchorRow: u,cellAnchorColumn: h} of l) {const l=t-o; const g=a.getChild(l); if (!d) {if (u<o||h<i) {tq(n,n.createPositionAt(g,"end"));}} else {const o=n.cloneElement(c); n.append(o,g); Sq(o,t,e,r,s,n);}}Iq(a,t,o,i,n); return a;} function Eq(t,e,n=0) {const o=[]; const i=new uq(t,{startRow: n,endRow: e-1}); for (const t of i) {const {row: n,cellHeight: i}=t; const r=n+i-1; if (n<e&&e<=r) {o.push(t);}} return o;} function Dq(t,e,n) {const o=t.parent; const i=o.parent; const r=o.index; const s=parseInt(t.getAttribute("rowspan")); const a=e-r; const c={}; const l=s-a; if (l>1) {c.rowspan=l;} const d=parseInt(t.getAttribute("colspan")||"1"); if (d>1) {c.colspan=d;} const u=r; const h=u+a; const g=[...new uq(i,{startRow: u,endRow: h,includeAllSlots: true})]; let f=null; let m; for (const e of g) {const {row: o,column: i,cell: r}=e; if (r===t&&m===undefined) {m=i;} if (m!==undefined&&m===i&&o===h) {f=tq(n,e.getPositionBefore(),c);}}XW("rowspan",a,t,n); return f;} function Bq(t,e) {const n=[]; const o=new uq(t); for (const t of o) {const {column: o,cellWidth: i}=t; const r=o+i-1; if (o<e&&e<=r) {n.push(t);}} return n;} function Tq(t,e,n,o) {const i=parseInt(t.getAttribute("colspan")); const r=n-e; const s={}; const a=i-r; if (a>1) {s.colspan=a;} const c=parseInt(t.getAttribute("rowspan")||"1"); if (c>1) {s.rowspan=c;} const l=tq(o,o.createPositionAfter(t),s); XW("colspan",r,t,o); return l;} function Sq(t,e,n,o,i,r) {const s=parseInt(t.getAttribute("colspan")||"1"); const a=parseInt(t.getAttribute("rowspan")||"1"); const c=n+s-1; if (c>i) {const e=i-n+1; XW("colspan",e,t,r,1);} const l=e+a-1; if (l>o) {const n=o-e+1; XW("rowspan",n,t,r,1);}} function Iq(t,e,n,o,i) {const r=parseInt(e.getAttribute("headingRows")||"0"); if (r>0) {const e=r-n; XW("headingRows",e,t,i,0);} const s=parseInt(e.getAttribute("headingColumns")||"0"); if (s>0) {const e=s-o; XW("headingColumns",e,t,i,0);}} function Pq(t,e) {const n=e.getColumns(t); const o=new Array(n).fill(0); for (const {column: e} of new uq(t)) {o[e]++;} const i=o.reduce(((t,e,n) => e?t:[...t,n]),[]); if (i.length>0) {const n=i[i.length-1]; e.removeColumns(t,{at: n}); return true;} return false;} function Rq(t,e) {const n=[]; const o=e.getRows(t); for (let e=0; e<o; e++) {const o=t.getChild(e); if (o.isEmpty) {n.push(e);}} if (n.length>0) {const o=n[n.length-1]; e.removeRows(t,{at: o}); return true;} return false;} function Vq(t,e) {const n=Pq(t,e); if (!n) {Rq(t,e);}} function Mq(t,e) {const n=Array.from(new uq(t,{startColumn: e.firstColumn,endColumn: e.lastColumn,row: e.lastRow})); const o=n.every((({cellHeight: t}) => t===1)); if (o) {return e.lastRow;} const i=n[0].cellHeight-1; return e.lastRow+i;} function Fq(t,e) {const n=Array.from(new uq(t,{startRow: e.firstRow,endRow: e.lastRow,column: e.lastColumn})); const o=n.every((({cellWidth: t}) => t===1)); if (o) {return e.lastColumn;} const i=n[0].cellWidth-1; return e.lastColumn+i;} class Oq extends yd {constructor(t,e) {super(t); this.direction=e.direction; this.isHorizontal=this.direction=="right"||this.direction=="left";}refresh() {const t=this._getMergeableCell(); this.value=t; this.isEnabled=!!t;}execute() {const t=this.editor.model; const e=t.document; const n=this.editor.plugins.get("TableUtils"); const o=n.getTableCellsContainingSelection(e.selection)[0]; const i=this.value; const r=this.direction; t.change((t => {const e=r=="right"||r=="down"; const n=e?o:i; const s=e?i:o; const a=s.parent; Lq(s,n,t); const c=this.isHorizontal?"colspan":"rowspan"; const l=parseInt(o.getAttribute(c)||"1"); const d=parseInt(i.getAttribute(c)||"1"); t.setAttribute(c,l+d,n); t.setSelection(t.createRangeIn(n)); const u=this.editor.plugins.get("TableUtils"); const h=a.findAncestor("table"); Vq(h,u);}));}_getMergeableCell() {const t=this.editor.model; const e=t.document; const n=this.editor.plugins.get("TableUtils"); const o=n.getTableCellsContainingSelection(e.selection)[0]; if (!o) {return;} const i=this.isHorizontal?zq(o,this.direction,n):Nq(o,this.direction,n); if (!i) {return;} const r=this.isHorizontal?"rowspan":"colspan"; const s=parseInt(o.getAttribute(r)||"1"); const a=parseInt(i.getAttribute(r)||"1"); if (a===s) {return i;}}} function zq(t,e,n) {const o=t.parent; const i=o.parent; const r=e=="right"?t.nextSibling:t.previousSibling; const s=(i.getAttribute("headingColumns")||0)>0; if (!r) {return;} const a=e=="right"?t:r; const c=e=="right"?r:t; const {column: l}=n.getCellLocation(a); const {column: d}=n.getCellLocation(c); const u=parseInt(a.getAttribute("colspan")||"1"); const h=eq(n,a); const g=eq(n,c); if (s&&h!=g) {return;} const f=l+u===d; return f?r:undefined;} function Nq(t,e,n) {const o=t.parent; const i=o.parent; const r=i.getChildIndex(o); if (e=="down"&&r===n.getRows(i)-1||e=="up"&&r===0) {return null;} const s=parseInt(t.getAttribute("rowspan")||"1"); const a=i.getAttribute("headingRows")||0; const c=e=="down"&&r+s===a; const l=e=="up"&&r===a; if (a&&(c||l)) {return null;} const d=parseInt(t.getAttribute("rowspan")||"1"); const u=e=="down"?r+d:r; const h=[...new uq(i,{endRow: u})]; const g=h.find((e => e.cell===t)); const f=g.column; const m=h.find((({row: t,cellHeight: n,column: o}) => {if (o!==f) {return false;} if (e=="down") {return t===u;} return u===t+n;})); return m&&m.cell?m.cell:null;} function Lq(t,e,n) {if (!Hq(t)) {if (Hq(e)) {n.remove(n.createRangeIn(e));}n.move(n.createRangeIn(t),n.createPositionAt(e,"end"));}n.remove(t);} function Hq(t) {const e=t.getChild(0); return t.childCount==1&&e.is("element","paragraph")&&e.isEmpty;} class jq extends yd {refresh() {const t=this.editor.plugins.get("TableUtils"); const e=t.getSelectionAffectedTableCells(this.editor.model.document.selection); const n=e[0]; if (n) {const o=n.findAncestor("table"); const i=t.getRows(o); const r=i-1; const s=t.getRowIndexes(e); const a=s.first===0&&s.last===r; this.isEnabled=!a;} else {this.isEnabled=false;}}execute() {const t=this.editor.model; const e=this.editor.plugins.get("TableUtils"); const n=e.getSelectionAffectedTableCells(t.document.selection); const o=e.getRowIndexes(n); const i=n[0]; const r=i.findAncestor("table"); const s=e.getCellLocation(i).column; t.change((t => {const n=o.last-o.first+1; e.removeRows(r,{at: o.first,rows: n}); const i=Wq(r,o.first,s,e.getRows(r)); t.setSelection(t.createPositionAt(i,0));}));}} function Wq(t,e,n,o) {const i=t.getChild(Math.min(e,o-1)); let r=i.getChild(0); let s=0; for (const t of i.getChildren()) {if (s>n) {return r;}r=t; s+=parseInt(t.getAttribute("colspan")||"1");} return r;} class qq extends yd {refresh() {const t=this.editor.plugins.get("TableUtils"); const e=t.getSelectionAffectedTableCells(this.editor.model.document.selection); const n=e[0]; if (n) {const o=n.findAncestor("table"); const i=t.getColumns(o); const {first: r,last: s}=t.getColumnIndexes(e); this.isEnabled=s-r<i-1;} else {this.isEnabled=false;}}execute() {const t=this.editor.plugins.get("TableUtils"); const [e,n]=$q(this.editor.model.document.selection,t); const o=e.parent.parent; const i=[...new uq(o)]; const r={first: i.find((t => t.cell===e)).column,last: i.find((t => t.cell===n)).column}; const s=Uq(i,e,n,r); this.editor.model.change((e => {const n=r.last-r.first+1; t.removeColumns(o,{at: r.first,columns: n}); e.setSelection(e.createPositionAt(s,0));}));}} function Uq(t,e,n,o) {const i=parseInt(n.getAttribute("colspan")||"1"); if (i>1) {return n;} else if (e.previousSibling||n.nextSibling) {return n.nextSibling||e.previousSibling;} if (o.first) {return t.reverse().find((({column: t}) => t<o.first)).cell;} return t.reverse().find((({column: t}) => t>o.last)).cell;} function $q(t,e) {const n=e.getSelectionAffectedTableCells(t); const o=n[0]; const i=n.pop(); const r=[o,i]; return o.isBefore(i)?r:r.reverse();} class Gq extends yd {refresh() {const t=this.editor.plugins.get("TableUtils"); const e=this.editor.model; const n=t.getSelectionAffectedTableCells(e.document.selection); const o=n.length>0; this.isEnabled=o; this.value=o&&n.every((t => this._isInHeading(t,t.parent.parent)));}execute(t={}) {if (t.forceValue===this.value) {return;} const e=this.editor.plugins.get("TableUtils"); const n=this.editor.model; const o=e.getSelectionAffectedTableCells(n.document.selection); const i=o[0].findAncestor("table"); const {first: r,last: s}=e.getRowIndexes(o); const a=this.value?r:s+1; const c=i.getAttribute("headingRows")||0; n.change((t => {if (a) {const e=a>c?c:0; const n=Eq(i,a,e); for (const {cell: e} of n) {Dq(e,a,t);}}XW("headingRows",a,i,t,0);}));}_isInHeading(t,e) {const n=parseInt(e.getAttribute("headingRows")||"0"); return !!n&&t.parent.index<n;}} class Kq extends yd {refresh() {const t=this.editor.model; const e=this.editor.plugins.get("TableUtils"); const n=e.getSelectionAffectedTableCells(t.document.selection); const o=n.length>0; this.isEnabled=o; this.value=o&&n.every((t => eq(e,t)));}execute(t={}) {if (t.forceValue===this.value) {return;} const e=this.editor.plugins.get("TableUtils"); const n=this.editor.model; const o=e.getSelectionAffectedTableCells(n.document.selection); const i=o[0].findAncestor("table"); const {first: r,last: s}=e.getColumnIndexes(o); const a=this.value?r:s+1; n.change((t => {if (a) {const e=Bq(i,a); for (const {cell: n,column: o} of e) {Tq(n,o,a,t);}}XW("headingColumns",a,i,t,0);}));}} const Zq=5; const Jq=40; const Yq=2; function Qq(t) {const e=new Set; for (const n of t.document.differ.getChanges()) {let o=null; switch (n.type) {case "insert":o=["table","tableRow","tableCell"].includes(n.name)?n.position:null; break; case "remove":o=["tableRow","tableCell"].includes(n.name)?n.position:null; break; case "attribute":if (n.range.start.nodeAfter) {o=["table","tableRow","tableCell"].includes(n.range.start.nodeAfter.name)?n.range.start:null;} break;} if (!o) {continue;} const i=o.nodeAfter&&o.nodeAfter.is("element","table")?o.nodeAfter:o.findAncestor("table"); for (const n of t.createRangeOn(i).getItems()) {if (!n.is("element","table")) {continue;} if (!hU(n)) {continue;}e.add(n);}} return e;} function Xq(t,e) {return Jq*100/tU(t,e);} function tU(t,e) {const n=eU(t,"tbody",e)||eU(t,"thead",e); const o=e.editing.view.domConverter.mapViewToDom(n); return nU(o);} function eU(t,e,n) {const o=n.editing.mapper.toViewElement(t); const i=[...o.getChildren()].find((t => t.is("element","table"))); return [...i.getChildren()].find((t => t.is("element",e)));} function nU(t) {const e=nc.window.getComputedStyle(t); if (e.boxSizing==="border-box") {return parseFloat(e.width)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth);} return parseFloat(e.width);} function oU(t,e) {const n=e.getCellLocation(t).column; const o=t.getAttribute("colspan")||1; return {leftEdge: n,rightEdge: n+o-1};} function iU(t) {const e=Math.pow(10,Yq); const n=typeof t==="number"?t:parseFloat(t); return Math.round(n*e)/e;} function rU(t,e,n) {if (t<=e) {return iU(e);} if (t>=n) {return iU(n);} return iU(t);} function sU(t,e) {return Array(t).fill(e);} function aU(t) {return t.map((t => typeof t==="number"?t:parseFloat(t))).filter((t => !Number.isNaN(t))).reduce(((t,e) => t+e),0);} function cU(t) {const e=t.map((t => {if (t==="auto") {return t;} return parseFloat(t.replace("%",""));})); let n=lU(e); const o=aU(n); if (o!==100) {n=n.map((t => iU(t*100/o))).map(((t,e,n) => {const o=e===n.length-1; if (!o) {return t;} const i=aU(n); return iU(t+100-i);}));} return n.map((t => `${t}%`));} function lU(t) {const e=t.filter((t => t==="auto")).length; if (e===0) {return t.map((t => iU(t)));} const n=aU(t); const o=Math.max((100-n)/e,Zq); return t.map((t => t==="auto"?o:t)).map((t => iU(t)));} function dU(t) {const e=nc.window.getComputedStyle(t); if (e.boxSizing==="border-box") {return parseInt(e.width);} return parseFloat(e.width)+parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderWidth);} function uU(t,e,n,o) {for (let i=0; i<Math.max(n.length,t.length); i++) {const r=t[i]; const s=n[i]; if (!s) {o.remove(r);} else if (!r) {o.appendElement("tableColumn",{columnWidth: s},e);} else {o.setAttribute("columnWidth",s,r);}}} function hU(t) {if (t.is("element","tableColumnGroup")) {return t;} const e=t.getChildren(); return Array.from(e).find((t => t.is("element","tableColumnGroup")));} function gU(t) {const e=hU(t); if (!e) {return [];} return Array.from(e.getChildren());} function fU(t) {return gU(t).map((t => t.getAttribute("columnWidth")));} function mU(t,e) {const n=gU(t); return n.reduce(((t,n) => {const o=n.getAttribute("columnWidth"); const i=n.getAttribute("colSpan"); if (!i) {t.push(o); return t;} for (let e=0; e<i; e++) {t.push(o);}e.removeAttribute("colSpan",n); return t;}),[]);} class pU extends Ad {static get pluginName() {return "TableUtils";}init() {this.decorate("insertColumns"); this.decorate("insertRows");}getCellLocation(t) {const e=t.parent; const n=e.parent; const o=n.getChildIndex(e); const i=new uq(n,{row: o}); for (const {cell: e,row: n,column: o} of i) {if (e===t) {return {row: n,column: o};}} return undefined;}createTable(t,e) {const n=t.createElement("table"); const o=e.rows||2; const i=e.columns||2; kU(t,n,0,o,i); if (e.headingRows) {XW("headingRows",Math.min(e.headingRows,o),n,t,0);} if (e.headingColumns) {XW("headingColumns",Math.min(e.headingColumns,i),n,t,0);} return n;}insertRows(t,e={}) {const n=this.editor.model; const o=e.at||0; const i=e.rows||1; const r=e.copyStructureFromAbove!==undefined; const s=e.copyStructureFromAbove?o-1:o; const a=this.getRows(t); const c=this.getColumns(t); if (o>a) {throw new V("tableutils-insertrows-insert-out-of-range",this,{options: e});}n.change((e => {const n=t.getAttribute("headingRows")||0; if (n>o) {XW("headingRows",n+i,t,e,0);} if (!r&&(o===0||o===a)) {kU(e,t,o,i,c); return;} const l=r?Math.max(o,s):o; const d=new uq(t,{endRow: l}); const u=new Array(c).fill(1); for (const {row: t,column: n,cellHeight: a,cellWidth: c,cell: l} of d) {const d=t+a-1; const h=t<o&&o<=d; const g=t<=s&&s<=d; if (h) {e.setAttribute("rowspan",a+i,l); u[n]=-c;} else if (r&&g) {u[n]=c;}} for (let n=0; n<i; n++) {const n=e.createElement("tableRow"); e.insert(n,t,o); for (let t=0; t<u.length; t++) {const o=u[t]; const i=e.createPositionAt(n,"end"); if (o>0) {tq(e,i,o>1?{colspan: o}:undefined);}t+=Math.abs(o)-1;}}}));}insertColumns(t,e={}) {const n=this.editor.model; const o=e.at||0; const i=e.columns||1; n.change((e => {const n=t.getAttribute("headingColumns"); if (o<n) {e.setAttribute("headingColumns",n+i,t);} const r=this.getColumns(t); if (o===0||r===o) {for (const n of t.getChildren()) {if (!n.is("element","tableRow")) {continue;}bU(i,e,e.createPositionAt(n,o?"end":0));} return;} const s=new uq(t,{column: o,includeAllSlots: true}); for (const t of s) {const {row: n,cell: r,cellAnchorColumn: a,cellAnchorRow: c,cellWidth: l,cellHeight: d}=t; if (a<o) {e.setAttribute("colspan",l+i,r); const t=c+d-1; for (let e=n; e<=t; e++) {s.skipRow(e);}} else {bU(i,e,t.getPositionBefore());}}}));}removeRows(t,e) {const n=this.editor.model; const o=e.rows||1; const i=this.getRows(t); const r=e.at; const s=r+o-1; if (s>i-1) {throw new V("tableutils-removerows-row-index-out-of-range",this,{table: t,options: e});}n.change((e => {const n={first: r,last: s}; const {cellsToMove: o,cellsToTrim: i}=AU(t,n); if (o.size) {const n=s+1; vU(t,n,o,e);} for (let n=s; n>=r; n--) {e.remove(t.getChild(n));} for (const {rowspan: t,cell: n} of i) {XW("rowspan",t,n,e);}CU(t,n,e); if (!Pq(t,this)) {Rq(t,this);}}));}removeColumns(t,e) {const n=this.editor.model; const o=e.at; const i=e.columns||1; const r=e.at+i-1; n.change((e => {_U(t,{first: o,last: r},e); const n=gU(t); for (let i=r; i>=o; i--) {for (const {cell: n,column: o,cellWidth: r} of [...new uq(t)]) {if (o<=i&&r>1&&o+r>i) {XW("colspan",r-1,n,e);} else if (o===i) {e.remove(n);}} if (n[i]) {const t=i===0?n[1]:n[i-1]; const o=parseFloat(n[i].getAttribute("columnWidth")); const r=parseFloat(t.getAttribute("columnWidth")); e.remove(n[i]); e.setAttribute("columnWidth",`${o+r}%`,t);}} if (!Rq(t,this)) {Pq(t,this);}}));}splitCellVertically(t,e=2) {const n=this.editor.model; const o=t.parent; const i=o.parent; const r=parseInt(t.getAttribute("rowspan")||"1"); const s=parseInt(t.getAttribute("colspan")||"1"); n.change((n => {if (s>1) {const {newCellsSpan: o,updatedSpan: i}=wU(s,e); XW("colspan",i,t,n); const a={}; if (o>1) {a.colspan=o;} if (r>1) {a.rowspan=r;} const c=s>e?e-1:s-1; bU(c,n,n.createPositionAfter(t),a);} if (s<e) {const o=e-s; const a=[...new uq(i)]; const {column: c}=a.find((({cell: e}) => e===t)); const l=a.filter((({cell: e,cellWidth: n,column: o}) => {const i=e!==t&&o===c; const r=o<c&&o+n>c; return i||r;})); for (const {cell: t,cellWidth: e} of l) {n.setAttribute("colspan",e+o,t);} const d={}; if (r>1) {d.rowspan=r;}bU(o,n,n.createPositionAfter(t),d); const u=i.getAttribute("headingColumns")||0; if (u>c) {XW("headingColumns",u+o,i,n);}}}));}splitCellHorizontally(t,e=2) {const n=this.editor.model; const o=t.parent; const i=o.parent; const r=i.getChildIndex(o); const s=parseInt(t.getAttribute("rowspan")||"1"); const a=parseInt(t.getAttribute("colspan")||"1"); n.change((n => {if (s>1) {const o=[...new uq(i,{startRow: r,endRow: r+s-1,includeAllSlots: true})]; const {newCellsSpan: c,updatedSpan: l}=wU(s,e); XW("rowspan",l,t,n); const {column: d}=o.find((({cell: e}) => e===t)); const u={}; if (c>1) {u.rowspan=c;} if (a>1) {u.colspan=a;} for (const t of o) {const {column: e,row: o}=t; const i=o>=r+l; const s=e===d; const a=(o+r+l)%c===0; if (i&&s&&a) {bU(1,n,t.getPositionBefore(),u);}}} if (s<e) {const o=e-s; const c=[...new uq(i,{startRow: 0,endRow: r})]; for (const {cell: e,cellHeight: i,row: s} of c) {if (e!==t&&s+i>r) {const t=i+o; n.setAttribute("rowspan",t,e);}} const l={}; if (a>1) {l.colspan=a;}kU(n,i,r+1,o,1,l); const d=i.getAttribute("headingRows")||0; if (d>r) {XW("headingRows",d+o,i,n);}}}));}getColumns(t) {const e=t.getChild(0); return [...e.getChildren()].filter((t => t.is("element","tableCell"))).reduce(((t,e) => {const n=parseInt(e.getAttribute("colspan")||"1"); return t+n;}),0);}getRows(t) {return Array.from(t.getChildren()).reduce(((t,e) => e.is("element","tableRow")?t+1:t),0);}createTableWalker(t,e={}) {return new uq(t,e);}getSelectedTableCells(t) {const e=[]; for (const n of this.sortRanges(t.getRanges())) {const t=n.getContainedElement(); if (t&&t.is("element","tableCell")) {e.push(t);}} return e;}getTableCellsContainingSelection(t) {const e=[]; for (const n of t.getRanges()) {const t=n.start.findAncestor("tableCell"); if (t) {e.push(t);}} return e;}getSelectionAffectedTableCells(t) {const e=this.getSelectedTableCells(t); if (e.length) {return e;} return this.getTableCellsContainingSelection(t);}getRowIndexes(t) {const e=t.map((t => t.parent.index)); return this._getFirstLastIndexesObject(e);}getColumnIndexes(t) {const e=t[0].findAncestor("table"); const n=[...new uq(e)]; const o=n.filter((e => t.includes(e.cell))).map((t => t.column)); return this._getFirstLastIndexesObject(o);}isSelectionRectangular(t) {if (t.length<2||!this._areCellInTheSameTableSection(t)) {return false;} const e=new Set; const n=new Set; let o=0; for (const i of t) {const {row: t,column: r}=this.getCellLocation(i); const s=parseInt(i.getAttribute("rowspan"))||1; const a=parseInt(i.getAttribute("colspan"))||1; e.add(t); n.add(r); if (s>1) {e.add(t+s-1);} if (a>1) {n.add(r+a-1);}o+=s*a;} const i=xU(e,n); return i==o;}sortRanges(t) {return Array.from(t).sort(yU);}_getFirstLastIndexesObject(t) {const e=t.sort(((t,e) => t-e)); const n=e[0]; const o=e[e.length-1]; return {first: n,last: o};}_areCellInTheSameTableSection(t) {const e=t[0].findAncestor("table"); const n=this.getRowIndexes(t); const o=parseInt(e.getAttribute("headingRows"))||0; if (!this._areIndexesInSameSection(n,o)) {return false;} const i=this.getColumnIndexes(t); const r=parseInt(e.getAttribute("headingColumns"))||0; return this._areIndexesInSameSection(i,r);}_areIndexesInSameSection({first: t,last: e},n) {const o=t<n; const i=e<n; return o===i;}} function kU(t,e,n,o,i,r={}) {for (let s=0; s<o; s++) {const o=t.createElement("tableRow"); t.insert(o,e,n); bU(i,t,t.createPositionAt(o,"end"),r);}} function bU(t,e,n,o={}) {for (let i=0; i<t; i++) {tq(e,n,o);}} function wU(t,e) {if (t<e) {return {newCellsSpan: 1,updatedSpan: 1};} const n=Math.floor(t/e); const o=t-n*e+n; return {newCellsSpan: n,updatedSpan: o};} function _U(t,e,n) {const o=t.getAttribute("headingColumns")||0; if (o&&e.first<o) {const i=Math.min(o-1,e.last)-e.first+1; n.setAttribute("headingColumns",o-i,t);}} function CU(t,{first: e,last: n},o) {const i=t.getAttribute("headingRows")||0; if (e<i) {const r=n<i?i-(n-e+1):e; XW("headingRows",r,t,o,0);}} function AU(t,{first: e,last: n}) {const o=new Map; const i=[]; for (const {row: r,column: s,cellHeight: a,cell: c} of new uq(t,{endRow: n})) {const t=r+a-1; const l=r>=e&&r<=n&&t>n; if (l) {const t=n-r+1; const e=a-t; o.set(s,{cell: c,rowspan: e});} const d=r<e&&t>=e; if (d) {let o; if (t>=n) {o=n-e+1;} else {o=t-e+1;}i.push({cell: c,rowspan: a-o});}} return {cellsToMove: o,cellsToTrim: i};} function vU(t,e,n,o) {const i=new uq(t,{includeAllSlots: true,row: e}); const r=[...i]; const s=t.getChild(e); let a; for (const {column: t,cell: e,isAnchor: i} of r) {if (n.has(t)) {const {cell: e,rowspan: i}=n.get(t); const r=a?o.createPositionAfter(a):o.createPositionAt(s,0); o.move(o.createRangeOn(e),r); XW("rowspan",i,e,o); a=e;} else if (i) {a=e;}}} function yU(t,e) {const n=t.start; const o=e.start; return n.isBefore(o)?-1:1;} function xU(t,e) {const n=Array.from(t.values()); const o=Array.from(e.values()); const i=Math.max(...n); const r=Math.min(...n); const s=Math.max(...o); const a=Math.min(...o); return (i-r+1)*(s-a+1);} class EU extends yd {refresh() {const t=this.editor.plugins.get(pU); const e=t.getSelectedTableCells(this.editor.model.document.selection); this.isEnabled=t.isSelectionRectangular(e);}execute() {const t=this.editor.model; const e=this.editor.plugins.get(pU); t.change((n => {const o=e.getSelectedTableCells(t.document.selection); const i=o.shift(); const {mergeWidth: r,mergeHeight: s}=TU(i,o,e); XW("colspan",r,i,n); XW("rowspan",s,i,n); for (const t of o) {DU(t,i,n);} const a=i.findAncestor("table"); Vq(a,e); n.setSelection(i,"in");}));}} function DU(t,e,n) {if (!BU(t)) {if (BU(e)) {n.remove(n.createRangeIn(e));}n.move(n.createRangeIn(t),n.createPositionAt(e,"end"));}n.remove(t);} function BU(t) {const e=t.getChild(0); return t.childCount==1&&e.is("element","paragraph")&&e.isEmpty;} function TU(t,e,n) {let o=0; let i=0; for (const t of e) {const {row: e,column: r}=n.getCellLocation(t); o=SU(t,r,o,"colspan"); i=SU(t,e,i,"rowspan");} const {row: r,column: s}=n.getCellLocation(t); const a=o-s; const c=i-r; return {mergeWidth: a,mergeHeight: c};} function SU(t,e,n,o) {const i=parseInt(t.getAttribute(o)||"1"); return Math.max(n,e+i);} class IU extends yd {constructor(t) {super(t); this.affectsData=false;}refresh() {const t=this.editor.plugins.get("TableUtils"); const e=t.getSelectionAffectedTableCells(this.editor.model.document.selection); this.isEnabled=e.length>0;}execute() {const t=this.editor.model; const e=this.editor.plugins.get("TableUtils"); const n=e.getSelectionAffectedTableCells(t.document.selection); const o=e.getRowIndexes(n); const i=n[0].findAncestor("table"); const r=[]; for (let e=o.first; e<=o.last; e++) {for (const n of i.getChild(e).getChildren()) {r.push(t.createRangeOn(n));}}t.change((t => {t.setSelection(r);}));}} class PU extends yd {constructor(t) {super(t); this.affectsData=false;}refresh() {const t=this.editor.plugins.get("TableUtils"); const e=t.getSelectionAffectedTableCells(this.editor.model.document.selection); this.isEnabled=e.length>0;}execute() {const t=this.editor.plugins.get("TableUtils"); const e=this.editor.model; const n=t.getSelectionAffectedTableCells(e.document.selection); const o=n[0]; const i=n.pop(); const r=o.findAncestor("table"); const s=t.getCellLocation(o); const a=t.getCellLocation(i); const c=Math.min(s.column,a.column); const l=Math.max(s.column,a.column); const d=[]; for (const t of new uq(r,{startColumn: c,endColumn: l})) {d.push(e.createRangeOn(t.cell));}e.change((t => {t.setSelection(d);}));}} function RU(t) {t.document.registerPostFixer((e => VU(e,t)));} function VU(t,e) {const n=e.document.differ.getChanges(); let o=false; const i=new Set; for (const e of n) {let n=null; if (e.type=="insert"&&e.name=="table") {n=e.position.nodeAfter;} if ((e.type=="insert"||e.type=="remove")&&(e.name=="tableRow"||e.name=="tableCell")) {n=e.position.findAncestor("table");} if (NU(e)) {n=e.range.start.findAncestor("table");} if (n&&!i.has(n)) {o=MU(n,t)||o; o=FU(n,t)||o; i.add(n);}} return o;} function MU(t,e) {let n=false; const o=OU(t); if (o.length) {n=true; for (const t of o) {XW("rowspan",t.rowspan,t.cell,e,1);}} return n;} function FU(t,e) {let n=false; const o=zU(t); const i=[]; for (const [e,n] of o.entries()) {if (!n&&t.getChild(e).is("element","tableRow")) {i.push(e);}} if (i.length) {n=true; for (const n of i.reverse()) {e.remove(t.getChild(n)); o.splice(n,1);}} const r=o.filter(((e,n) => t.getChild(n).is("element","tableRow"))); const s=r[0]; const a=r.every((t => t===s)); if (!a) {const o=r.reduce(((t,e) => e>t?e:t),0); for (const [i,s] of r.entries()) {const r=o-s; if (r) {for (let n=0; n<r; n++) {tq(e,e.createPositionAt(t.getChild(i),"end"));}n=true;}}} return n;} function OU(t) {const e=parseInt(t.getAttribute("headingRows")||"0"); const n=Array.from(t.getChildren()).reduce(((t,e) => e.is("element","tableRow")?t+1:t),0); const o=[]; for (const {row: i,cell: r,cellHeight: s} of new uq(t)) {if (s<2) {continue;} const t=i<e; const a=t?e:n; if (i+s>a) {const t=a-i; o.push({cell: r,rowspan: t});}} return o;} function zU(t) {const e=new Array(t.childCount).fill(0); for (const {rowIndex: n} of new uq(t,{includeAllSlots: true})) {e[n]++;} return e;} function NU(t) {if (t.type!=="attribute") {return false;} const e=t.attributeKey; return e==="headingRows"||e==="colspan"||e==="rowspan";} function LU(t) {t.document.registerPostFixer((e => HU(e,t)));} function HU(t,e) {const n=e.document.differ.getChanges(); let o=false; for (const e of n) {if (e.type=="insert"&&e.name=="table") {o=jU(e.position.nodeAfter,t)||o;} if (e.type=="insert"&&e.name=="tableRow") {o=WU(e.position.nodeAfter,t)||o;} if (e.type=="insert"&&e.name=="tableCell") {o=qU(e.position.nodeAfter,t)||o;} if ((e.type=="remove"||e.type=="insert")&&UU(e)) {o=qU(e.position.parent,t)||o;}} return o;} function jU(t,e) {let n=false; for (const o of t.getChildren()) {if (o.is("element","tableRow")) {n=WU(o,e)||n;}} return n;} function WU(t,e) {let n=false; for (const o of t.getChildren()) {n=qU(o,e)||n;} return n;} function qU(t,e) {if (t.childCount==0) {e.insertElement("paragraph",t); return true;} const n=Array.from(t.getChildren()).filter((t => t.is("$text"))); for (const t of n) {e.wrap(e.createRangeOn(t),"paragraph");} return !!n.length;} function UU(t) {if (!t.position.parent.is("element","tableCell")) {return false;} return t.type=="insert"&&t.name=="$text"||t.type=="remove";} function $U(t,e) {const n=t.document.differ; for (const t of n.getChanges()) {let n; let o=false; if (t.type=="attribute") {const e=t.range.start.nodeAfter; if (!e||!e.is("element","table")) {continue;} if (t.attributeKey!="headingRows"&&t.attributeKey!="headingColumns") {continue;}n=e; o=t.attributeKey=="headingRows";} else if (t.name=="tableRow"||t.name=="tableCell") {n=t.position.findAncestor("table"); o=t.name=="tableRow";} if (!n) {continue;} const i=n.getAttribute("headingRows")||0; const r=n.getAttribute("headingColumns")||0; const s=new uq(n); for (const t of s) {const n=t.row<i||t.column<r; const s=n?"th":"td"; const a=e.mapper.toViewElement(t.cell); if (a&&a.is("element")&&a.name!=s) {e.reconvertItem(o?t.cell.parent:t.cell);}}}} function GU(t,e) {const n=t.document.differ; const o=new Set; for (const t of n.getChanges()) {const e=t.type=="attribute"?t.range.start.parent:t.position.parent; if (e.is("element","tableCell")) {o.add(e);}} for (const t of o.values()) {const n=Array.from(t.getChildren()).filter((t => KU(t,e.mapper))); for (const t of n) {e.reconvertItem(t);}}} function KU(t,e) {if (!t.is("element","paragraph")) {return false;} const n=e.toViewElement(t); if (!n) {return false;} return kq(t)!==n.is("element","span");} const ZU=n(9431); const JU={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; JU.insert="head"; JU.singleton=true; const YU=Id()(ZU.A,JU); const QU=ZU.A.locals||{}; class XU extends Ad {static get pluginName() {return "TableEditing";} static get requires() {return [pU];}constructor(t) {super(t); this._additionalSlots=[];}init() {const t=this.editor; const e=t.model; const n=e.schema; const o=t.conversion; const i=t.plugins.get(pU); n.register("table",{inheritAllFrom: "$blockObject",allowAttributes: ["headingRows","headingColumns"]}); n.register("tableRow",{allowIn: "table",isLimit: true}); n.register("tableCell",{allowContentOf: "$container",allowIn: "tableRow",allowAttributes: ["colspan","rowspan"],isLimit: true,isSelectable: true}); o.for("upcast").add(iq()); o.for("upcast").add(rq()); o.for("editingDowncast").elementToStructure({model: {name: "table",attributes: ["headingRows"]},view: gq(i,{asWidget: true,additionalSlots: this._additionalSlots})}); o.for("dataDowncast").elementToStructure({model: {name: "table",attributes: ["headingRows"]},view: gq(i,{additionalSlots: this._additionalSlots})}); o.for("upcast").elementToElement({model: "tableRow",view: "tr"}); o.for("upcast").add(sq()); o.for("downcast").elementToElement({model: "tableRow",view: fq()}); o.for("upcast").elementToElement({model: "tableCell",view: "td"}); o.for("upcast").elementToElement({model: "tableCell",view: "th"}); o.for("upcast").add(aq("td")); o.for("upcast").add(aq("th")); o.for("editingDowncast").elementToElement({model: "tableCell",view: mq({asWidget: true})}); o.for("dataDowncast").elementToElement({model: "tableCell",view: mq()}); o.for("editingDowncast").elementToElement({model: "paragraph",view: pq({asWidget: true}),converterPriority: "high"}); o.for("dataDowncast").elementToElement({model: "paragraph",view: pq(),converterPriority: "high"}); o.for("downcast").attributeToAttribute({model: "colspan",view: "colspan"}); o.for("upcast").attributeToAttribute({model: {key: "colspan",value: t$("colspan")},view: "colspan"}); o.for("downcast").attributeToAttribute({model: "rowspan",view: "rowspan"}); o.for("upcast").attributeToAttribute({model: {key: "rowspan",value: t$("rowspan")},view: "rowspan"}); t.config.define("table.defaultHeadings.rows",0); t.config.define("table.defaultHeadings.columns",0); t.commands.add("insertTable",new _q(t)); t.commands.add("insertTableRowAbove",new Aq(t,{order: "above"})); t.commands.add("insertTableRowBelow",new Aq(t,{order: "below"})); t.commands.add("insertTableColumnLeft",new vq(t,{order: "left"})); t.commands.add("insertTableColumnRight",new vq(t,{order: "right"})); t.commands.add("removeTableRow",new jq(t)); t.commands.add("removeTableColumn",new qq(t)); t.commands.add("splitTableCellVertically",new yq(t,{direction: "vertically"})); t.commands.add("splitTableCellHorizontally",new yq(t,{direction: "horizontally"})); t.commands.add("mergeTableCells",new EU(t)); t.commands.add("mergeTableCellRight",new Oq(t,{direction: "right"})); t.commands.add("mergeTableCellLeft",new Oq(t,{direction: "left"})); t.commands.add("mergeTableCellDown",new Oq(t,{direction: "down"})); t.commands.add("mergeTableCellUp",new Oq(t,{direction: "up"})); t.commands.add("setTableColumnHeader",new Kq(t)); t.commands.add("setTableRowHeader",new Gq(t)); t.commands.add("selectTableRow",new IU(t)); t.commands.add("selectTableColumn",new PU(t)); RU(e); LU(e); this.listenTo(e.document,"change:data",(() => {$U(e,t.editing); GU(e,t.editing);}));}registerAdditionalSlot(t) {this._additionalSlots.push(t);}} function t$(t) {return e => {const n=parseInt(e.getAttribute(t)); if (Number.isNaN(n)||n<=0) {return null;} return n;};} const e$=n(1710); const n$={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; n$.insert="head"; n$.singleton=true; const o$=Id()(e$.A,n$); const i$=e$.A.locals||{}; class r$ extends XA {constructor(t) {super(t); const e=this.bindTemplate; this.items=this._createGridCollection(); this.keystrokes=new ad; this.focusTracker=new sd; this.set("rows",0); this.set("columns",0); this.bind("label").to(this,"columns",this,"rows",((t,e) => `${e} × ${t}`)); this.setTemplate({tag: "div",attributes: {class: ["ck"]},children: [{tag: "div",attributes: {class: ["ck-insert-table-dropdown__grid"]},on: {"mouseover@.ck-insert-table-dropdown-grid-box": e.to("boxover")},children: this.items},{tag: "div",attributes: {class: ["ck","ck-insert-table-dropdown__label"],"aria-hidden": true},children: [{text: e.to("label")}]}],on: {mousedown: e.to((t => {t.preventDefault();})),click: e.to((() => {this.fire("execute");}))}}); this.on("boxover",((t,e) => {const {row: n,column: o}=e.target.dataset; this.items.get((parseInt(n,10)-1)*10+(parseInt(o,10)-1)).focus();})); this.focusTracker.on("change:focusedElement",((t,e,n) => {if (!n) {return;} const {row: o,column: i}=n.dataset; this.set({rows: parseInt(o),columns: parseInt(i)});})); this.on("change:columns",(() => this._highlightGridBoxes())); this.on("change:rows",(() => this._highlightGridBoxes()));}render() {super.render(); r({keystrokeHandler: this.keystrokes,focusTracker: this.focusTracker,gridItems: this.items,numberOfColumns: 10,uiLanguageDirection: this.locale&&this.locale.uiLanguageDirection}); for (const t of this.items) {this.focusTracker.add(t.element);} this.keystrokes.listenTo(this.element);}reset() {this.set({rows: 1,columns: 1});}focus() {this.items.get(0).focus();}focusLast() {this.items.get(0).focus();}_highlightGridBoxes() {const t=this.rows; const e=this.columns; this.items.map(((n,o) => {const i=Math.floor(o/10); const r=o%10; const s=i<t&&r<e; n.set("isOn",s);}));}_createGridButton(t,e,n,o) {const i=new Ev(t); i.set({label: o,class: "ck-insert-table-dropdown-grid-box"}); i.extendTemplate({attributes: {"data-row": e,"data-column": n}}); return i;}_createGridCollection() {const t=[]; for (let e=0; e<100; e++) {const n=Math.floor(e/10); const o=e%10; const i=`${n+1} × ${o+1}`; t.push(this._createGridButton(this.locale,n+1,o+1,i));} return this.createCollection(t);}} const s$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>'; const a$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>'; const c$='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>'; class l$ extends Ad {static get pluginName() {return "TableUI";}init() {const t=this.editor; const e=this.editor.t; const n=t.locale.contentLanguageDirection; const o=n==="ltr"; t.ui.componentFactory.add("insertTable",(n => {const o=t.commands.get("insertTable"); const i=Cx(n); i.bind("isEnabled").to(o); i.buttonView.set({icon: bA.table,label: e("Insert table"),tooltip: true}); let r; i.on("change:isOpen",(() => {if (r) {return;}r=new r$(n); i.panelView.children.add(r); r.delegate("execute").to(i); i.on("execute",(() => {t.execute("insertTable",{rows: r.rows,columns: r.columns}); t.editing.view.focus();}));})); return i;})); t.ui.componentFactory.add("menuBar:insertTable",(n => {const o=t.commands.get("insertTable"); const i=new MS(n); const r=new r$(n); r.delegate("execute").to(i); i.on("change:isOpen",((t,e,n) => {if (!n) {r.reset();}})); r.on("execute",(() => {t.execute("insertTable",{rows: r.rows,columns: r.columns}); t.editing.view.focus();})); i.buttonView.set({label: e("Table"),icon: bA.table}); i.panelView.children.add(r); i.bind("isEnabled").to(o); return i;})); t.ui.componentFactory.add("tableColumn",(t => {const n=[{type: "switchbutton",model: {commandName: "setTableColumnHeader",label: e("Header column"),bindIsOn: true}},{type: "separator"},{type: "button",model: {commandName: o?"insertTableColumnLeft":"insertTableColumnRight",label: e("Insert column left")}},{type: "button",model: {commandName: o?"insertTableColumnRight":"insertTableColumnLeft",label: e("Insert column right")}},{type: "button",model: {commandName: "removeTableColumn",label: e("Delete column")}},{type: "button",model: {commandName: "selectTableColumn",label: e("Select column")}}]; return this._prepareDropdown(e("Column"),s$,n,t);})); t.ui.componentFactory.add("tableRow",(t => {const n=[{type: "switchbutton",model: {commandName: "setTableRowHeader",label: e("Header row"),bindIsOn: true}},{type: "separator"},{type: "button",model: {commandName: "insertTableRowAbove",label: e("Insert row above")}},{type: "button",model: {commandName: "insertTableRowBelow",label: e("Insert row below")}},{type: "button",model: {commandName: "removeTableRow",label: e("Delete row")}},{type: "button",model: {commandName: "selectTableRow",label: e("Select row")}}]; return this._prepareDropdown(e("Row"),a$,n,t);})); t.ui.componentFactory.add("mergeTableCells",(t => {const n=[{type: "button",model: {commandName: "mergeTableCellUp",label: e("Merge cell up")}},{type: "button",model: {commandName: o?"mergeTableCellRight":"mergeTableCellLeft",label: e("Merge cell right")}},{type: "button",model: {commandName: "mergeTableCellDown",label: e("Merge cell down")}},{type: "button",model: {commandName: o?"mergeTableCellLeft":"mergeTableCellRight",label: e("Merge cell left")}},{type: "separator"},{type: "button",model: {commandName: "splitTableCellVertically",label: e("Split cell vertically")}},{type: "button",model: {commandName: "splitTableCellHorizontally",label: e("Split cell horizontally")}}]; return this._prepareMergeSplitButtonDropdown(e("Merge cells"),c$,n,t);}));}_prepareDropdown(t,e,n,o) {const i=this.editor; const r=Cx(o); const s=this._fillDropdownWithListOptions(r,n); r.buttonView.set({label: t,icon: e,tooltip: true}); r.bind("isEnabled").toMany(s,"isEnabled",((...t) => t.some((t => t)))); this.listenTo(r,"execute",(t => {i.execute(t.source.commandName); if (!(t.source instanceof Iv)) {i.editing.view.focus();}})); return r;}_prepareMergeSplitButtonDropdown(t,e,n,o) {const i=this.editor; const r=Cx(o,hx); const s="mergeTableCells"; const a=i.commands.get(s); const c=this._fillDropdownWithListOptions(r,n); r.buttonView.set({label: t,icon: e,tooltip: true,isEnabled: true}); r.bind("isEnabled").toMany([a,...c],"isEnabled",((...t) => t.some((t => t)))); this.listenTo(r.buttonView,"execute",(() => {i.execute(s); i.editing.view.focus();})); this.listenTo(r,"execute",(t => {i.execute(t.source.commandName); i.editing.view.focus();})); return r;}_fillDropdownWithListOptions(t,e) {const n=this.editor; const o=[]; const i=new id; for (const t of e) {d$(t,n,o,i);}yx(t,i); return o;}} function d$(t,e,n,o) {if (t.type==="button"||t.type==="switchbutton") {const o=t.model=new VB(t.model); const {commandName: i,bindIsOn: r}=t.model; const s=e.commands.get(i); n.push(s); o.set({commandName: i}); o.bind("isEnabled").to(s); if (r) {o.bind("isOn").to(s,"value");}o.set({withText: true});}o.add(t);} const u$=n(1125); const h$={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; h$.insert="head"; h$.singleton=true; const g$=Id()(u$.A,h$); const f$=u$.A.locals||{}; class m$ extends Ad {static get pluginName() {return "TableSelection";} static get requires() {return [pU,pU];}init() {const t=this.editor; const e=t.model; const n=t.editing.view; this.listenTo(e,"deleteContent",((t,e) => this._handleDeleteContent(t,e)),{priority: "high"}); this.listenTo(n.document,"insertText",((t,e) => this._handleInsertTextEvent(t,e)),{priority: "high"}); this._defineSelectionConverter(); this._enablePluginDisabling();}getSelectedTableCells() {const t=this.editor.plugins.get(pU); const e=this.editor.model.document.selection; const n=t.getSelectedTableCells(e); if (n.length==0) {return null;} return n;}getSelectionAsFragment() {const t=this.editor.plugins.get(pU); const e=this.getSelectedTableCells(); if (!e) {return null;} return this.editor.model.change((n => {const o=n.createDocumentFragment(); const {first: i,last: r}=t.getColumnIndexes(e); const {first: s,last: a}=t.getRowIndexes(e); const c=e[0].findAncestor("table"); let l=a; let d=r; if (t.isSelectionRectangular(e)) {const t={firstColumn: i,lastColumn: r,firstRow: s,lastRow: a}; l=Mq(c,t); d=Fq(c,t);} const u={startRow: s,startColumn: i,endRow: l,endColumn: d}; const h=xq(c,u,n); n.insert(h,o,0); return o;}));}setCellSelection(t,e) {const n=this._getCellsToSelect(t,e); this.editor.model.change((t => {t.setSelection(n.cells.map((e => t.createRangeOn(e))),{backward: n.backward});}));}getFocusCell() {const t=this.editor.model.document.selection; const e=[...t.getRanges()].pop(); const n=e.getContainedElement(); if (n&&n.is("element","tableCell")) {return n;} return null;}getAnchorCell() {const t=this.editor.model.document.selection; const e=rd(t.getRanges()); const n=e.getContainedElement(); if (n&&n.is("element","tableCell")) {return n;} return null;}_defineSelectionConverter() {const t=this.editor; const e=new Set; t.conversion.for("editingDowncast").add((t => t.on("selection",((t,o,i) => {const r=i.writer; n(r); const s=this.getSelectedTableCells(); if (!s) {return;} for (const t of s) {const n=i.mapper.toViewElement(t); r.addClass("ck-editor__editable_selected",n); e.add(n);} const a=i.mapper.toViewElement(s[s.length-1]); r.setSelection(a,0);}),{priority: "lowest"}))); function n(t) {for (const n of e) {t.removeClass("ck-editor__editable_selected",n);}e.clear();}}_enablePluginDisabling() {const t=this.editor; this.on("change:isEnabled",(() => {if (!this.isEnabled) {const e=this.getSelectedTableCells(); if (!e) {return;}t.model.change((n => {const o=n.createPositionAt(e[0],0); const i=t.model.schema.getNearestSelectionRange(o); n.setSelection(i);}));}}));}_handleDeleteContent(t,e) {const n=this.editor.plugins.get(pU); const o=e[0]; const i=e[1]; const r=this.editor.model; const s=!i||i.direction=="backward"; const a=n.getSelectedTableCells(o); if (!a.length) {return;}t.stop(); r.change((t => {const e=a[s?a.length-1:0]; r.change((t => {for (const e of a) {r.deleteContent(t.createSelection(e,"in"));}})); const n=r.schema.getNearestSelectionRange(t.createPositionAt(e,0)); if (o.is("documentSelection")) {t.setSelection(n);} else {o.setTo(n);}}));}_handleInsertTextEvent(t,e) {const n=this.editor; const o=this.getSelectedTableCells(); if (!o) {return;} const i=n.editing.view; const r=n.editing.mapper; const s=o.map((t => i.createRangeOn(r.toViewElement(t)))); e.selection=i.createSelection(s);}_getCellsToSelect(t,e) {const n=this.editor.plugins.get("TableUtils"); const o=n.getCellLocation(t); const i=n.getCellLocation(e); const r=Math.min(o.row,i.row); const s=Math.max(o.row,i.row); const a=Math.min(o.column,i.column); const c=Math.max(o.column,i.column); const l=new Array(s-r+1).fill(null).map((() => [])); const d={startRow: r,endRow: s,startColumn: a,endColumn: c}; for (const {row: e,cell: n} of new uq(t.findAncestor("table"),d)) {l[e-r].push(n);} const u=i.row<o.row; const h=i.column<o.column; if (u) {l.reverse();} if (h) {l.forEach((t => t.reverse()));} return {cells: l.flat(),backward: u||h};}} class p$ extends Ad {static get pluginName() {return "TableClipboard";} static get requires() {return [sM,aM,m$,pU];}init() {const t=this.editor; const e=t.editing.view.document; this.listenTo(e,"copy",((t,e) => this._onCopyCut(t,e))); this.listenTo(e,"cut",((t,e) => this._onCopyCut(t,e))); this.listenTo(t.model,"insertContent",((t,[e,n]) => this._onInsertContent(t,e,n)),{priority: "high"}); this.decorate("_replaceTableSlotCell");}_onCopyCut(t,e) {const n=this.editor.editing.view; const o=this.editor.plugins.get(m$); const i=this.editor.plugins.get(sM); if (!o.getSelectedTableCells()) {return;} if (t.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection)) {return;}e.preventDefault(); t.stop(); this.editor.model.enqueueChange({isUndoable: t.name==="cut"},(() => {const r=i._copySelectedFragmentWithMarkers(t.name,this.editor.model.document.selection,(() => o.getSelectionAsFragment())); n.document.fire("clipboardOutput",{dataTransfer: e.dataTransfer,content: this.editor.data.toView(r),method: t.name});}));}_onInsertContent(t,e,n) {if (n&&!n.is("documentSelection")) {return;} const o=this.editor.model; const i=this.editor.plugins.get(pU); const r=this.editor.plugins.get(sM); const s=this.getTableIfOnlyTableInContent(e,o); if (!s) {return;} const a=i.getSelectionAffectedTableCells(o.document.selection); if (!a.length) {Vq(s,i); return;}t.stop(); if (e.is("documentFragment")) {r._pasteMarkersIntoTransformedElement(e.markers,(t => this._replaceSelectedCells(s,a,t)));} else {this.editor.model.change((t => {this._replaceSelectedCells(s,a,t);}));}}_replaceSelectedCells(t,e,n) {const o=this.editor.plugins.get(pU); const i={width: o.getColumns(t),height: o.getRows(t)}; const r=k$(e,i,n,o); const s=r.lastRow-r.firstRow+1; const a=r.lastColumn-r.firstColumn+1; const c={startRow: 0,startColumn: 0,endRow: Math.min(s,i.height)-1,endColumn: Math.min(a,i.width)-1}; t=xq(t,c,n); const l=e[0].findAncestor("table"); const d=this._replaceSelectedCellsWithPasted(t,i,l,r,n); if (this.editor.plugins.get("TableSelection").isEnabled) {const t=o.sortRanges(d.map((t => n.createRangeOn(t)))); n.setSelection(t);} else {n.setSelection(d[0],0);} return l;}_replaceSelectedCellsWithPasted(t,e,n,o,i) {const {width: r,height: s}=e; const a=w$(t,r,s); const c=[...new uq(n,{startRow: o.firstRow,endRow: o.lastRow,startColumn: o.firstColumn,endColumn: o.lastColumn,includeAllSlots: true})]; const l=[]; let d; for (const t of c) {const {row: e,column: n}=t; if (n===o.firstColumn) {d=t.getPositionBefore();} const c=e-o.firstRow; const u=n-o.firstColumn; const h=a[c%s][u%r]; const g=h?i.cloneElement(h):null; const f=this._replaceTableSlotCell(t,g,d,i); if (!f) {continue;}Sq(f,e,n,o.lastRow,o.lastColumn,i); l.push(f); d=i.createPositionAfter(f);} const u=parseInt(n.getAttribute("headingRows")||"0"); const h=parseInt(n.getAttribute("headingColumns")||"0"); const g=o.firstRow<u&&u<=o.lastRow; const f=o.firstColumn<h&&h<=o.lastColumn; if (g) {const t={first: o.firstColumn,last: o.lastColumn}; const e=C$(n,u,t,i,o.firstRow); l.push(...e);} if (f) {const t={first: o.firstRow,last: o.lastRow}; const e=A$(n,h,t,i); l.push(...e);} return l;}_replaceTableSlotCell(t,e,n,o) {const {cell: i,isAnchor: r}=t; if (r) {o.remove(i);} if (!e) {return null;}o.insert(e,n); return e;}getTableIfOnlyTableInContent(t,e) {if (!t.is("documentFragment")&&!t.is("element")) {return null;} if (t.is("element","table")) {return t;} if (t.childCount==1&&t.getChild(0).is("element","table")) {return t.getChild(0);} const n=e.createRangeIn(t); for (const t of n.getItems()) {if (t.is("element","table")) {const o=e.createRange(n.start,e.createPositionBefore(t)); if (e.hasContent(o,{ignoreWhitespaces: true})) {return null;} const i=e.createRange(e.createPositionAfter(t),n.end); if (e.hasContent(i,{ignoreWhitespaces: true})) {return null;} return t;}} return null;}} function k$(t,e,n,o) {const i=t[0].findAncestor("table"); const r=o.getColumnIndexes(t); const s=o.getRowIndexes(t); const a={firstColumn: r.first,lastColumn: r.last,firstRow: s.first,lastRow: s.last}; const c=t.length===1; if (c) {a.lastRow+=e.height-1; a.lastColumn+=e.width-1; b$(i,a.lastRow+1,a.lastColumn+1,o);} if (c||!o.isSelectionRectangular(t)) {_$(i,a,n);} else {a.lastRow=Mq(i,a); a.lastColumn=Fq(i,a);} return a;} function b$(t,e,n,o) {const i=o.getColumns(t); const r=o.getRows(t); if (n>i) {o.insertColumns(t,{at: i,columns: n-i});} if (e>r) {o.insertRows(t,{at: r,rows: e-r});}} function w$(t,e,n) {const o=new Array(n).fill(null).map((() => new Array(e).fill(null))); for (const {column: e,row: n,cell: i} of new uq(t)) {o[n][e]=i;} return o;} function _$(t,e,n) {const {firstRow: o,lastRow: i,firstColumn: r,lastColumn: s}=e; const a={first: o,last: i}; const c={first: r,last: s}; A$(t,r,a,n); A$(t,s+1,a,n); C$(t,o,c,n); C$(t,i+1,c,n,o);} function C$(t,e,n,o,i=0) {if (e<1) {return;} const r=Eq(t,e,i); const s=r.filter((({column: t,cellWidth: e}) => v$(t,e,n))); return s.map((({cell: t}) => Dq(t,e,o)));} function A$(t,e,n,o) {if (e<1) {return;} const i=Bq(t,e); const r=i.filter((({row: t,cellHeight: e}) => v$(t,e,n))); return r.map((({cell: t,column: n}) => Tq(t,n,e,o)));} function v$(t,e,n) {const o=t+e-1; const {first: i,last: r}=n; const s=t>=i&&t<=r; const a=t<i&&o>=i; return s||a;} class y$ extends Ad {static get pluginName() {return "TableKeyboard";} static get requires() {return [m$,pU];}init() {const t=this.editor; const e=t.editing.view; const n=e.document; const o=t.t; this.listenTo(n,"arrowKey",((...t) => this._onArrowKey(...t)),{context: "table"}); this.listenTo(n,"tab",((...t) => this._handleTabOnSelectedTable(...t)),{context: "figure"}); this.listenTo(n,"tab",((...t) => this._handleTab(...t)),{context: ["th","td"]}); t.accessibility.addKeystrokeInfoGroup({id: "table",label: o("Keystrokes that can be used in a table cell"),keystrokes: [{label: o("Move the selection to the next cell"),keystroke: "Tab"},{label: o("Move the selection to the previous cell"),keystroke: "Shift+Tab"},{label: o("Insert a new table row (when in the last cell of a table)"),keystroke: "Tab"},{label: o("Navigate through the table"),keystroke: [["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]});}_handleTabOnSelectedTable(t,e) {const n=this.editor; const o=n.model.document.selection; const i=o.getSelectedElement(); if (!i||!i.is("element","table")) {return;}e.preventDefault(); e.stopPropagation(); t.stop(); n.model.change((t => {t.setSelection(t.createRangeIn(i.getChild(0).getChild(0)));}));}_handleTab(t,e) {const n=this.editor; const o=this.editor.plugins.get(pU); const i=this.editor.plugins.get("TableSelection"); const r=n.model.document.selection; const s=!e.shiftKey; let a=o.getTableCellsContainingSelection(r)[0]; if (!a) {a=i.getFocusCell();} if (!a) {return;}e.preventDefault(); e.stopPropagation(); t.stop(); const c=a.parent; const l=c.parent; const d=l.getChildIndex(c); const u=c.getChildIndex(a); const h=u===0; if (!s&&h&&d===0) {n.model.change((t => {t.setSelection(t.createRangeOn(l));})); return;} const g=u===c.childCount-1; const f=d===o.getRows(l)-1; if (s&&f&&g) {n.execute("insertTableRowBelow"); if (d===o.getRows(l)-1) {n.model.change((t => {t.setSelection(t.createRangeOn(l));})); return;}} let m; if (s&&g) {const t=l.getChild(d+1); m=t.getChild(0);} else if (!s&&h) {const t=l.getChild(d-1); m=t.getChild(t.childCount-1);} else {m=c.getChild(u+(s?1:-1));}n.model.change((t => {t.setSelection(t.createRangeIn(m));}));}_onArrowKey(t,e) {const n=this.editor; const o=e.keyCode; const i=tl(o,n.locale.contentLanguageDirection); const r=this._handleArrowKeys(i,e.shiftKey); if (r) {e.preventDefault(); e.stopPropagation(); t.stop();}}_handleArrowKeys(t,e) {const n=this.editor.plugins.get(pU); const o=this.editor.plugins.get("TableSelection"); const i=this.editor.model; const r=i.document.selection; const s=["right","down"].includes(t); const a=n.getSelectedTableCells(r); if (a.length) {let n; if (e) {n=o.getFocusCell();} else {n=s?a[a.length-1]:a[0];} this._navigateFromCellInDirection(n,t,e); return true;} const c=r.focus.findAncestor("tableCell"); if (!c) {return false;} if (!r.isCollapsed) {if (e) {if (r.isBackward==s&&!r.containsEntireContent(c)) {return false;}} else {const t=r.getSelectedElement(); if (!t||!i.schema.isObject(t)) {return false;}}} if (this._isSelectionAtCellEdge(r,c,s)) {this._navigateFromCellInDirection(c,t,e); return true;} return false;}_isSelectionAtCellEdge(t,e,n) {const o=this.editor.model; const i=this.editor.model.schema; const r=n?t.getLastPosition():t.getFirstPosition(); if (!i.getLimitElement(r).is("element","tableCell")) {const t=o.createPositionAt(e,n?"end":0); return t.isTouching(r);} const s=o.createSelection(r); o.modifySelection(s,{direction: n?"forward":"backward"}); return r.isEqual(s.focus);}_navigateFromCellInDirection(t,e,n=false) {const o=this.editor.model; const i=t.findAncestor("table"); const r=[...new uq(i,{includeAllSlots: true})]; const {row: s,column: a}=r[r.length-1]; const c=r.find((({cell: e}) => e==t)); let {row: l,column: d}=c; switch (e) {case "left":d--; break; case "up":l--; break; case "right":d+=c.cellWidth; break; case "down":l+=c.cellHeight; break;} const u=l<0||l>s; const h=d<0&&l<=0; const g=d>a&&l>=s; if (u||h||g) {o.change((t => {t.setSelection(t.createRangeOn(i));})); return;} if (d<0) {d=n?0:a; l--;} else if (d>a) {d=n?a:0; l++;} const f=r.find((t => t.row==l&&t.column==d)).cell; const m=["right","down"].includes(e); const p=this.editor.plugins.get("TableSelection"); if (n&&p.isEnabled) {const e=p.getAnchorCell()||t; p.setCellSelection(e,f);} else {const t=o.createPositionAt(f,m?0:"end"); o.change((e => {e.setSelection(t);}));}}} class x$ extends Gg {constructor() {super(...arguments); this.domEventType=["mousemove","mouseleave"];}onDomEvent(t) {this.fire(t.type,t);}} class E$ extends Ad {static get pluginName() {return "TableMouse";} static get requires() {return [m$,pU];}init() {const t=this.editor; t.editing.view.addObserver(x$); this._enableShiftClickSelection(); this._enableMouseDragSelection();}_enableShiftClickSelection() {const t=this.editor; const e=t.plugins.get(pU); let n=false; const o=t.plugins.get(m$); this.listenTo(t.editing.view.document,"mousedown",((i,r) => {const s=t.model.document.selection; if (!this.isEnabled||!o.isEnabled) {return;} if (!r.domEvent.shiftKey) {return;} const a=o.getAnchorCell()||e.getTableCellsContainingSelection(s)[0]; if (!a) {return;} const c=this._getModelTableCellFromDomEvent(r); if (c&&D$(a,c)) {n=true; o.setCellSelection(a,c); r.preventDefault();}})); this.listenTo(t.editing.view.document,"mouseup",(() => {n=false;})); this.listenTo(t.editing.view.document,"selectionChange",(t => {if (n) {t.stop();}}),{priority: "highest"});}_enableMouseDragSelection() {const t=this.editor; let e,n; let o=false; let i=false; const r=t.plugins.get(m$); this.listenTo(t.editing.view.document,"mousedown",((t,n) => {if (!this.isEnabled||!r.isEnabled) {return;} if (n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey) {return;}e=this._getModelTableCellFromDomEvent(n);})); this.listenTo(t.editing.view.document,"mousemove",((t,s) => {if (!s.domEvent.buttons) {return;} if (!e) {return;} const a=this._getModelTableCellFromDomEvent(s); if (a&&D$(e,a)) {n=a; if (!o&&n!=e) {o=true;}} if (!o) {return;}i=true; r.setCellSelection(e,n); s.preventDefault();})); this.listenTo(t.editing.view.document,"mouseup",(() => {o=false; i=false; e=null; n=null;})); this.listenTo(t.editing.view.document,"selectionChange",(t => {if (i) {t.stop();}}),{priority: "highest"});}_getModelTableCellFromDomEvent(t) {const e=t.target; const n=this.editor.editing.view.createPositionAt(e,0); const o=this.editor.editing.mapper.toModelPosition(n); const i=o.parent; return i.findAncestor("tableCell",{includeSelf: true});}} function D$(t,e) {return t.parent.parent==e.parent.parent;} const B$=n(2259); const T$={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; T$.insert="head"; T$.singleton=true; const S$=Id()(B$.A,T$); const I$=B$.A.locals||{}; class P$ extends Ad {static get requires() {return [XU,l$,m$,E$,y$,p$,nF];} static get pluginName() {return "Table";}} class R$ extends (null&&Plugin) {static get pluginName() {return "PlainTableOutput";} static get requires() {return [Table];}init() {const t=this.editor; t.conversion.for("dataDowncast").elementToStructure({model: "table",view: V$,converterPriority: "high"}); if (t.plugins.has("TableCaption")) {t.conversion.for("dataDowncast").elementToElement({model: "caption",view: (t,{writer: e}) => {if (t.parent.name==="table") {return e.createContainerElement("caption");}},converterPriority: "high"});} if (t.plugins.has("TableProperties")) {M$(t);}}} function V$(t,{writer: e}) {const n=t.getAttribute("headingRows")||0; const o=e.createSlot((t => t.is("element","tableRow")&&t.index<n)); const i=e.createSlot((t => t.is("element","tableRow")&&t.index>=n)); const r=e.createSlot((t => !t.is("element","tableRow"))); const s=e.createContainerElement("thead",null,o); const a=e.createContainerElement("tbody",null,i); const c=[]; if (n) {c.push(s);} if (n<t.childCount) {c.push(a);} return e.createContainerElement("table",null,[r,...c]);} function M$(t) {const e={"border-width": "tableBorderWidth","border-color": "tableBorderColor","border-style": "tableBorderStyle","background-color": "tableBackgroundColor"}; for (const [n,o] of Object.entries(e)) {t.conversion.for("dataDowncast").add((t => t.on(`attribute:${o}:table`,((t,e,o) => {const {item: i,attributeNewValue: r}=e; const {mapper: s,writer: a}=o; if (!o.consumable.consume(i,t.name)) {return;} const c=s.toViewElement(i); if (r) {a.setStyle(n,r,c);} else {a.removeStyle(n,c);}}),{priority: "high"})));}} function F$(t) {const e=O$(t); if (e) {return e;} return z$(t);} function O$(t) {const e=t.getSelectedElement(); if (e&&N$(e)) {return e;} return null;} function z$(t) {const e=t.getFirstPosition(); if (!e) {return null;} let n=e.parent; while (n) {if (n.is("element")&&N$(n)) {return n;}n=n.parent;} return null;} function N$(t) {return !!t.getCustomProperty("table")&&mM(t);} class L$ extends (null&&Plugin) {static get requires() {return [WidgetToolbarRepository];} static get pluginName() {return "TableToolbar";}afterInit() {const t=this.editor; const e=t.t; const n=t.plugins.get(WidgetToolbarRepository); const o=t.config.get("table.contentToolbar"); const i=t.config.get("table.tableToolbar"); if (o) {n.register("tableContent",{ariaLabel: e("Table toolbar"),items: o,getRelatedElement: getTableWidgetAncestor});} if (i) {n.register("table",{ariaLabel: e("Table toolbar"),items: i,getRelatedElement: getSelectedTableWidget});}}} const H$=n(7752); const j$={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; j$.insert="head"; j$.singleton=true; const W$=Id()(H$.A,j$); const q$=H$.A.locals||{}; class U$ extends XA {constructor(t,e) {super(t); this.set("value",""); this.set("isReadOnly",false); this.set("isFocused",false); this.set("isEmpty",true); this.options=e; this.focusTracker=new sd; this._focusables=new wA; this.dropdownView=this._createDropdownView(); this.inputView=this._createInputTextView(); this.keystrokes=new ad; this._stillTyping=false; this.focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.setTemplate({tag: "div",attributes: {class: ["ck","ck-input-color"]},children: [this.dropdownView,this.inputView]}); this.on("change:value",((t,e,n) => this._setInputValue(n)));}render() {super.render(); [this.inputView,this.dropdownView.buttonView].forEach((t => {this.focusTracker.add(t.element); this._focusables.add(t);})); this.keystrokes.listenTo(this.element);}focus(t) {if (t===-1) {this.focusCycler.focusLast();} else {this.focusCycler.focusFirst();}}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}_createDropdownView() {const t=this.locale; const e=t.t; const n=this.bindTemplate; const o=this._createColorSelector(t); const i=Cx(t); const r=new XA; r.setTemplate({tag: "span",attributes: {class: ["ck","ck-input-color__button__preview"],style: {backgroundColor: n.to("value")}},children: [{tag: "span",attributes: {class: ["ck","ck-input-color__button__preview__no-color-indicator",n.if("value","ck-hidden",(t => t!=""))]}}]}); i.buttonView.extendTemplate({attributes: {class: "ck-input-color__button"}}); i.buttonView.children.add(r); i.buttonView.label=e("Color picker"); i.buttonView.tooltip=true; i.panelPosition=t.uiLanguageDirection==="rtl"?"se":"sw"; i.panelView.children.add(o); i.bind("isEnabled").to(this,"isReadOnly",(t => !t)); i.on("change:isOpen",((t,e,n) => {if (n) {o.updateSelectedColors(); o.showColorGridsFragment();}})); return i;}_createInputTextView() {const t=this.locale; const e=new _y(t); e.extendTemplate({on: {blur: e.bindTemplate.to("blur")}}); e.value=this.value; e.bind("isReadOnly","hasError").to(this); this.bind("isFocused","isEmpty").to(e); e.on("input",(() => {const t=e.element.value; const n=this.options.colorDefinitions.find((e => t===e.label)); this._stillTyping=true; this.value=n&&n.color||t;})); e.on("blur",(() => {this._stillTyping=false; this._setInputValue(e.element.value);})); e.delegate("input").to(this); return e;}_createColorSelector(t) {const e=t.t; const n=this.options.defaultColorValue||""; const o=n?e("Restore default"):e("Remove color"); const i=new sD(t,{colors: this.options.colorDefinitions,columns: this.options.columns,removeButtonLabel: o,colorPickerLabel: e("Color picker"),colorPickerViewConfig: this.options.colorPickerConfig===false?false:{...this.options.colorPickerConfig,hideInput: true}}); i.appendUI(); i.on("execute",((t,e) => {if (e.source==="colorPickerSaveButton") {this.dropdownView.isOpen=false; return;} this.value=e.value||n; this.fire("input"); if (e.source!=="colorPicker") {this.dropdownView.isOpen=false;}})); let r=this.value; i.on("colorPicker:cancel",(() => {this.value=r; this.fire("input"); this.dropdownView.isOpen=false;})); i.colorGridsFragmentView.colorPickerButtonView.on("execute",(() => {r=this.value;})); i.bind("selectedColor").to(this,"value"); return i;}_setInputValue(t) {if (!this._stillTyping) {const e=$$(t); const n=this.options.colorDefinitions.find((t => e===$$(t.color))); if (n) {this.inputView.value=n.label;} else {this.inputView.value=t||"";}}}} function $$(t) {return t.replace(/([(,])\s+/g,"$1").replace(/^\s+|\s+(?=[),\s]|$)/g,"").replace(/,|\s/g," ");} const G$=t => t===""; function K$(t) {return {none: t("None"),solid: t("Solid"),dotted: t("Dotted"),dashed: t("Dashed"),double: t("Double"),groove: t("Groove"),ridge: t("Ridge"),inset: t("Inset"),outset: t("Outset")};} function Z$(t) {return t('The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".');} function J$(t) {return t('The value is invalid. Try "10px" or "2em" or simply "2".');} function Y$(t) {t=t.trim().toLowerCase(); return G$(t)||m_(t);} function Q$(t) {t=t.trim(); return G$(t)||iG(t)||w_(t)||C_(t);} function X$(t) {t=t.trim(); return G$(t)||iG(t)||w_(t);} function tG(t,e) {const n=new id; const o=K$(t.t); for (const i in o) {const r={type: "button",model: new VB({_borderStyleValue: i,label: o[i],role: "menuitemradio",withText: true})}; if (i==="none") {r.model.bind("isOn").to(t,"borderStyle",(t => {if (e==="none") {return !t;} return t===i;}));} else {r.model.bind("isOn").to(t,"borderStyle",(t => t===i));}n.add(r);} return n;} function eG(t) {const {view: e,icons: n,toolbar: o,labels: i,propertyName: r,nameToValue: s,defaultValue: a}=t; for (const t in i) {const c=new Ev(e.locale); c.set({label: i[t],icon: n[t],tooltip: i[t]}); const l=s?s(t):t; c.bind("isOn").to(e,r,(t => {let e=t; if (t===""&&a) {e=a;} return l===e;})); c.on("execute",(() => {e[r]=l;})); o.items.add(c);}} const nG=[{color: "hsl(0, 0%, 0%)",label: "Black"},{color: "hsl(0, 0%, 30%)",label: "Dim grey"},{color: "hsl(0, 0%, 60%)",label: "Grey"},{color: "hsl(0, 0%, 90%)",label: "Light grey"},{color: "hsl(0, 0%, 100%)",label: "White",hasBorder: true},{color: "hsl(0, 75%, 60%)",label: "Red"},{color: "hsl(30, 75%, 60%)",label: "Orange"},{color: "hsl(60, 75%, 60%)",label: "Yellow"},{color: "hsl(90, 75%, 60%)",label: "Light green"},{color: "hsl(120, 75%, 60%)",label: "Green"},{color: "hsl(150, 75%, 60%)",label: "Aquamarine"},{color: "hsl(180, 75%, 60%)",label: "Turquoise"},{color: "hsl(210, 75%, 60%)",label: "Light blue"},{color: "hsl(240, 75%, 60%)",label: "Blue"},{color: "hsl(270, 75%, 60%)",label: "Purple"}]; function oG(t) {return (e,n,o) => {const i=new U$(e.locale,{colorDefinitions: rG(t.colorConfig),columns: t.columns,defaultColorValue: t.defaultColorValue,colorPickerConfig: t.colorPickerConfig}); i.inputView.set({id: n,ariaDescribedById: o}); i.bind("isReadOnly").to(e,"isEnabled",(t => !t)); i.bind("hasError").to(e,"errorText",(t => !!t)); i.on("input",(() => {e.errorText=null;})); e.bind("isEmpty","isFocused").to(i); return i;};} function iG(t) {const e=parseFloat(t); return !Number.isNaN(e)&&t===String(e);} function rG(t) {return t.map((t => ({color: t.model,label: t.label,options: {hasBorder: t.hasBorder}})));} const sG=n(637); const aG={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; aG.insert="head"; aG.singleton=true; const cG=Id()(sG.A,aG); const lG=sG.A.locals||{}; class dG extends XA {constructor(t,e={}) {super(t); const n=this.bindTemplate; this.set("class",e.class||null); this.children=this.createCollection(); if (e.children) {e.children.forEach((t => this.children.add(t)));} this.set("_role",null); this.set("_ariaLabelledBy",null); if (e.labelView) {this.set({_role: "group",_ariaLabelledBy: e.labelView.id});} this.setTemplate({tag: "div",attributes: {class: ["ck","ck-form__row",n.to("class")],role: n.to("_role"),"aria-labelledby": n.to("_ariaLabelledBy")},children: this.children});}} const uG=n(6369); const hG={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; hG.insert="head"; hG.singleton=true; const gG=Id()(uG.A,hG); const fG=uG.A.locals||{}; const mG=n(7181); const pG={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; pG.insert="head"; pG.singleton=true; const kG=Id()(mG.A,pG); const bG=mG.A.locals||{}; const wG=n(472); const _G={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; _G.insert="head"; _G.singleton=true; const CG=Id()(wG.A,_G); const AG=wG.A.locals||{}; const vG={left: bA.alignLeft,center: bA.alignCenter,right: bA.alignRight,justify: bA.alignJustify,top: bA.alignTop,middle: bA.alignMiddle,bottom: bA.alignBottom}; class yG extends XA {constructor(t,e) {super(t); this.set({borderStyle: "",borderWidth: "",borderColor: "",padding: "",backgroundColor: "",width: "",height: "",horizontalAlignment: "",verticalAlignment: ""}); this.options=e; const {borderStyleDropdown: n,borderWidthInput: o,borderColorInput: i,borderRowLabel: r}=this._createBorderFields(); const {backgroundRowLabel: s,backgroundInput: a}=this._createBackgroundFields(); const {widthInput: c,operatorLabel: l,heightInput: d,dimensionsLabel: u}=this._createDimensionFields(); const {horizontalAlignmentToolbar: h,verticalAlignmentToolbar: g,alignmentLabel: f}=this._createAlignmentFields(); this.focusTracker=new sd; this.keystrokes=new ad; this.children=this.createCollection(); this.borderStyleDropdown=n; this.borderWidthInput=o; this.borderColorInput=i; this.backgroundInput=a; this.paddingInput=this._createPaddingField(); this.widthInput=c; this.heightInput=d; this.horizontalAlignmentToolbar=h; this.verticalAlignmentToolbar=g; const {saveButtonView: m,cancelButtonView: p}=this._createActionButtons(); this.saveButtonView=m; this.cancelButtonView=p; this._focusables=new wA; this._focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.children.add(new gD(t,{label: this.t("Cell properties")})); this.children.add(new dG(t,{labelView: r,children: [r,n,i,o],class: "ck-table-form__border-row"})); this.children.add(new dG(t,{labelView: s,children: [s,a],class: "ck-table-form__background-row"})); this.children.add(new dG(t,{children: [new dG(t,{labelView: u,children: [u,c,l,d],class: "ck-table-form__dimensions-row"}),new dG(t,{children: [this.paddingInput],class: "ck-table-cell-properties-form__padding-row"})]})); this.children.add(new dG(t,{labelView: f,children: [f,h,g],class: "ck-table-cell-properties-form__alignment-row"})); this.children.add(new dG(t,{children: [this.saveButtonView,this.cancelButtonView],class: "ck-table-form__action-row"})); this.setTemplate({tag: "form",attributes: {class: ["ck","ck-form","ck-table-form","ck-table-cell-properties-form"],tabindex: "-1"},children: this.children});}render() {super.render(); i({view: this}); [this.borderColorInput,this.backgroundInput].forEach((t => {t.fieldView.focusCycler.on("forwardCycle",(t => {this._focusCycler.focusNext(); t.stop();})); t.fieldView.focusCycler.on("backwardCycle",(t => {this._focusCycler.focusPrevious(); t.stop();}));})); [this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.paddingInput,this.horizontalAlignmentToolbar,this.verticalAlignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach((t => {this._focusables.add(t); this.focusTracker.add(t.element);})); this.keystrokes.listenTo(this.element);}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}focus() {this._focusCycler.focusFirst();}_createBorderFields() {const t=this.options.defaultTableCellProperties; const e={style: t.borderStyle,width: t.borderWidth,color: t.borderColor}; const n=oG({colorConfig: this.options.borderColors,columns: 5,defaultColorValue: e.color,colorPickerConfig: this.options.colorPickerConfig}); const o=this.locale; const i=this.t; const r=i("Style"); const s=new iv(o); s.text=i("Border"); const a=K$(i); const c=new hy(o,zx); c.set({label: r,class: "ck-table-form__border-style"}); c.fieldView.buttonView.set({ariaLabel: r,ariaLabelledBy: undefined,isOn: false,withText: true,tooltip: r}); c.fieldView.buttonView.bind("label").to(this,"borderStyle",(t => a[t?t:"none"])); c.fieldView.on("execute",(t => {this.borderStyle=t.source._borderStyleValue;})); c.bind("isEmpty").to(this,"borderStyle",(t => !t)); yx(c.fieldView,tG(this,e.style),{role: "menu",ariaLabel: r}); const l=new hy(o,Mx); l.set({label: i("Width"),class: "ck-table-form__border-width"}); l.fieldView.bind("value").to(this,"borderWidth"); l.bind("isEnabled").to(this,"borderStyle",xG); l.fieldView.on("input",(() => {this.borderWidth=l.fieldView.element.value;})); const d=new hy(o,n); d.set({label: i("Color"),class: "ck-table-form__border-color"}); d.fieldView.bind("value").to(this,"borderColor"); d.bind("isEnabled").to(this,"borderStyle",xG); d.fieldView.on("input",(() => {this.borderColor=d.fieldView.value;})); this.on("change:borderStyle",((t,n,o,i) => {if (!xG(o)) {this.borderColor=""; this.borderWidth="";} if (!xG(i)) {this.borderColor=e.color; this.borderWidth=e.width;}})); return {borderRowLabel: s,borderStyleDropdown: c,borderColorInput: d,borderWidthInput: l};}_createBackgroundFields() {const t=this.locale; const e=this.t; const n=new iv(t); n.text=e("Background"); const o=oG({colorConfig: this.options.backgroundColors,columns: 5,defaultColorValue: this.options.defaultTableCellProperties.backgroundColor,colorPickerConfig: this.options.colorPickerConfig}); const i=new hy(t,o); i.set({label: e("Color"),class: "ck-table-cell-properties-form__background"}); i.fieldView.bind("value").to(this,"backgroundColor"); i.fieldView.on("input",(() => {this.backgroundColor=i.fieldView.value;})); return {backgroundRowLabel: n,backgroundInput: i};}_createDimensionFields() {const t=this.locale; const e=this.t; const n=new iv(t); n.text=e("Dimensions"); const o=new hy(t,Mx); o.set({label: e("Width"),class: "ck-table-form__dimensions-row__width"}); o.fieldView.bind("value").to(this,"width"); o.fieldView.on("input",(() => {this.width=o.fieldView.element.value;})); const i=new XA(t); i.setTemplate({tag: "span",attributes: {class: ["ck-table-form__dimension-operator"]},children: [{text: "×"}]}); const r=new hy(t,Mx); r.set({label: e("Height"),class: "ck-table-form__dimensions-row__height"}); r.fieldView.bind("value").to(this,"height"); r.fieldView.on("input",(() => {this.height=r.fieldView.element.value;})); return {dimensionsLabel: n,widthInput: o,operatorLabel: i,heightInput: r};}_createPaddingField() {const t=this.locale; const e=this.t; const n=new hy(t,Mx); n.set({label: e("Padding"),class: "ck-table-cell-properties-form__padding"}); n.fieldView.bind("value").to(this,"padding"); n.fieldView.on("input",(() => {this.padding=n.fieldView.element.value;})); return n;}_createAlignmentFields() {const t=this.locale; const e=this.t; const n=new iv(t); n.text=e("Table cell text alignment"); const o=new Jy(t); const i=t.contentLanguageDirection==="rtl"; o.set({isCompact: true,ariaLabel: e("Horizontal text alignment toolbar")}); eG({view: this,icons: vG,toolbar: o,labels: this._horizontalAlignmentLabels,propertyName: "horizontalAlignment",nameToValue: t => {if (i) {if (t==="left") {return "right";} else if (t==="right") {return "left";}} return t;},defaultValue: this.options.defaultTableCellProperties.horizontalAlignment}); const r=new Jy(t); r.set({isCompact: true,ariaLabel: e("Vertical text alignment toolbar")}); eG({view: this,icons: vG,toolbar: r,labels: this._verticalAlignmentLabels,propertyName: "verticalAlignment",defaultValue: this.options.defaultTableCellProperties.verticalAlignment}); return {horizontalAlignmentToolbar: o,verticalAlignmentToolbar: r,alignmentLabel: n};}_createActionButtons() {const t=this.locale; const e=this.t; const n=new Ev(t); const o=new Ev(t); const i=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.paddingInput]; n.set({label: e("Save"),icon: bA.check,class: "ck-button-save",type: "submit",withText: true}); n.bind("isEnabled").toMany(i,"errorText",((...t) => t.every((t => !t)))); o.set({label: e("Cancel"),icon: bA.cancel,class: "ck-button-cancel",withText: true}); o.delegate("execute").to(this,"cancel"); return {saveButtonView: n,cancelButtonView: o};} get _horizontalAlignmentLabels() {const t=this.locale; const e=this.t; const n=e("Align cell text to the left"); const o=e("Align cell text to the center"); const i=e("Align cell text to the right"); const r=e("Justify cell text"); if (t.uiLanguageDirection==="rtl") {return {right: i,center: o,left: n,justify: r};} return {left: n,center: o,right: i,justify: r};} get _verticalAlignmentLabels() {const t=this.t; return {top: t("Align cell text to the top"),middle: t("Align cell text to the middle"),bottom: t("Align cell text to the bottom")};}} function xG(t) {return t!=="none";} const EG=ND.defaultPositions; const DG=[EG.northArrowSouth,EG.northArrowSouthWest,EG.northArrowSouthEast,EG.southArrowNorth,EG.southArrowNorthWest,EG.southArrowNorthEast,EG.viewportStickyNorth]; function BG(t,e) {const n=t.plugins.get("ContextualBalloon"); const o=t.editing.view.document.selection; let i; if (e==="cell") {if (z$(o)) {i=SG(t);}} else if (F$(o)) {i=TG(t);} if (i) {n.updatePosition(i);}} function TG(t) {const e=t.model.document.selection; const n=oq(e); const o=t.editing.mapper.toViewElement(n); return {target: t.editing.view.domConverter.mapViewToDom(o),positions: DG};} function SG(t) {const e=t.editing.mapper; const n=t.editing.view.domConverter; const o=t.model.document.selection; if (o.rangeCount>1) {return {target: () => PG(o.getRanges(),t),positions: DG};} const i=IG(o.getFirstPosition()); const r=e.toViewElement(i); return {target: n.mapViewToDom(r),positions: DG};} function IG(t) {const e=t.nodeAfter&&t.nodeAfter.is("element","tableCell"); return e?t.nodeAfter:t.findAncestor("tableCell");} function PG(t,e) {const n=e.editing.mapper; const o=e.editing.view.domConverter; const i=Array.from(t).map((t => {const e=IG(t.start); const i=n.toViewElement(e); return new uc(o.mapViewToDom(i));})); return uc.getBoundingRect(i);} const RG='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.105 18-.17 1H2.5A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h15A1.5 1.5 0 0 1 19 2.5v9.975l-.85-.124-.15-.302V8h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5h3.105zM2 12h5V8H2v4zm10-4H8v4h4V8zM2 2v5h5V2H2zm0 16h5v-5H2v5zM13 7h5V2h-5v5zM8 2v5h4V2H8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM13 6a1 1 0 0 1 1 1v3.172a2.047 2.047 0 0 0-.293.443l-.858 1.736-1.916.28-.151.027A1.976 1.976 0 0 0 9.315 14H7a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6zm-1 2H8v4h4V8z"/></svg>'; function VG(t) {if (!t||!st(t)) {return t;} const {top: e,right: n,bottom: o,left: i}=t; if (e==n&&n==o&&o==i) {return e;}} function MG(t,e) {const n=parseFloat(t); if (Number.isNaN(n)) {return t;} if (String(n)!==String(t)) {return t;} return `${n}${e}`;} function FG(t,e={}) {const n={borderStyle: "none",borderWidth: "",borderColor: "",backgroundColor: "",width: "",height: "",...t}; if (e.includeAlignmentProperty&&!n.alignment) {n.alignment="center";} if (e.includePaddingProperty&&!n.padding) {n.padding="";} if (e.includeVerticalAlignmentProperty&&!n.verticalAlignment) {n.verticalAlignment="middle";} if (e.includeHorizontalAlignmentProperty&&!n.horizontalAlignment) {n.horizontalAlignment=e.isRightToLeftContent?"right":"left";} return n;} const OG=500; const zG={borderStyle: "tableCellBorderStyle",borderColor: "tableCellBorderColor",borderWidth: "tableCellBorderWidth",height: "tableCellHeight",width: "tableCellWidth",padding: "tableCellPadding",backgroundColor: "tableCellBackgroundColor",horizontalAlignment: "tableCellHorizontalAlignment",verticalAlignment: "tableCellVerticalAlignment"}; class NG extends Ad {static get requires() {return [qB];} static get pluginName() {return "TableCellPropertiesUI";}constructor(t) {super(t); t.config.define("table.tableCellProperties",{borderColors: nG,backgroundColors: nG});}init() {const t=this.editor; const e=t.t; this._defaultTableCellProperties=FG(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty: true,includeHorizontalAlignmentProperty: true,includePaddingProperty: true,isRightToLeftContent: t.locale.contentLanguageDirection==="rtl"}); this._balloon=t.plugins.get(qB); this.view=null; this._isReady=false; t.ui.componentFactory.add("tableCellProperties",(n => {const o=new Ev(n); o.set({label: e("Cell properties"),icon: RG,tooltip: true}); this.listenTo(o,"execute",(() => this._showView())); const i=Object.values(zG).map((e => t.commands.get(e))); o.bind("isEnabled").toMany(i,"isEnabled",((...t) => t.some((t => t)))); return o;}));}destroy() {super.destroy(); if (this.view) {this.view.destroy();}}_createPropertiesView() {const e=this.editor; const n=e.config.get("table.tableCellProperties"); const o=Hv(n.borderColors); const i=Lv(e.locale,o); const r=Hv(n.backgroundColors); const s=Lv(e.locale,r); const a=n.colorPicker!==false; const c=new yG(e.locale,{borderColors: i,backgroundColors: s,defaultTableCellProperties: this._defaultTableCellProperties,colorPickerConfig: a?n.colorPicker||{}:false}); const l=e.t; c.render(); this.listenTo(c,"submit",(() => {this._hideView();})); this.listenTo(c,"cancel",(() => {if (this._undoStepBatch.operations.length) {e.execute("undo",this._undoStepBatch);} this._hideView();})); c.keystrokes.set("Esc",((t,e) => {this._hideView(); e();})); t({emitter: c,activator: () => this._isViewInBalloon,contextElements: [this._balloon.view.element],callback: () => this._hideView()}); const d=Z$(l); const u=J$(l); c.on("change:borderStyle",this._getPropertyChangeCallback("tableCellBorderStyle")); c.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField: c.borderColorInput,commandName: "tableCellBorderColor",errorText: d,validator: Y$})); c.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField: c.borderWidthInput,commandName: "tableCellBorderWidth",errorText: u,validator: X$})); c.on("change:padding",this._getValidatedPropertyChangeCallback({viewField: c.paddingInput,commandName: "tableCellPadding",errorText: u,validator: Q$})); c.on("change:width",this._getValidatedPropertyChangeCallback({viewField: c.widthInput,commandName: "tableCellWidth",errorText: u,validator: Q$})); c.on("change:height",this._getValidatedPropertyChangeCallback({viewField: c.heightInput,commandName: "tableCellHeight",errorText: u,validator: Q$})); c.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField: c.backgroundInput,commandName: "tableCellBackgroundColor",errorText: d,validator: Y$})); c.on("change:horizontalAlignment",this._getPropertyChangeCallback("tableCellHorizontalAlignment")); c.on("change:verticalAlignment",this._getPropertyChangeCallback("tableCellVerticalAlignment")); return c;}_fillViewFormFromCommandValues() {const t=this.editor.commands; const e=t.get("tableCellBorderStyle"); Object.entries(zG).map((([e,n]) => {const o=this._defaultTableCellProperties[e]||""; return [e,t.get(n).value||o];})).forEach((([t,n]) => {if ((t==="borderColor"||t==="borderWidth")&&e.value==="none") {return;} this.view.set(t,n);})); this._isReady=true;}_showView() {const t=this.editor; if (!this.view) {this.view=this._createPropertiesView();} this.listenTo(t.ui,"update",(() => {this._updateView();})); this._fillViewFormFromCommandValues(); this._balloon.add({view: this.view,position: SG(t)}); this._undoStepBatch=t.model.createBatch(); this.view.focus();}_hideView() {const t=this.editor; this.stopListening(t.ui,"update"); this._isReady=false; this.view.saveButtonView.focus(); this._balloon.remove(this.view); this.editor.editing.view.focus();}_updateView() {const t=this.editor; const e=t.editing.view.document; if (!z$(e.selection)) {this._hideView();} else if (this._isViewVisible) {BG(t,"cell");}} get _isViewVisible() {return !!this.view&&this._balloon.visibleView===this.view;} get _isViewInBalloon() {return !!this.view&&this._balloon.hasView(this.view);}_getPropertyChangeCallback(t) {return (e,n,o) => {if (!this._isReady) {return;} this.editor.execute(t,{value: o,batch: this._undoStepBatch});};}_getValidatedPropertyChangeCallback(t) {const {commandName: e,viewField: n,validator: o,errorText: i}=t; const r=mf((() => {n.errorText=i;}),OG); return (t,i,s) => {r.cancel(); if (!this._isReady) {return;} if (o(s)) {this.editor.execute(e,{value: s,batch: this._undoStepBatch}); n.errorText=null;} else {r();}};}} class LG extends yd {constructor(t,e,n) {super(t); this.attributeName=e; this._defaultValue=n;}refresh() {const t=this.editor; const e=this.editor.plugins.get("TableUtils"); const n=e.getSelectionAffectedTableCells(t.model.document.selection); this.isEnabled=!!n.length; this.value=this._getSingleValue(n);}execute(t={}) {const {value: e,batch: n}=t; const o=this.editor.model; const i=this.editor.plugins.get("TableUtils"); const r=i.getSelectionAffectedTableCells(o.document.selection); const s=this._getValueToSet(e); o.enqueueChange(n,(t => {if (s) {r.forEach((e => t.setAttribute(this.attributeName,s,e)));} else {r.forEach((e => t.removeAttribute(this.attributeName,e)));}}));}_getAttribute(t) {if (!t) {return;} const e=t.getAttribute(this.attributeName); if (e===this._defaultValue) {return;} return e;}_getValueToSet(t) {if (t===this._defaultValue) {return;} return t;}_getSingleValue(t) {const e=this._getAttribute(t[0]); const n=t.every((t => this._getAttribute(t)===e)); return n?e:undefined;}} class HG extends LG {constructor(t,e) {super(t,"tableCellWidth",e);}_getValueToSet(t) {t=MG(t,"px"); if (t===this._defaultValue) {return;} return t;}} class jG extends (null&&Plugin) {static get pluginName() {return "TableCellWidthEditing";} static get requires() {return [TableEditing];}init() {const t=this.editor; const e=getNormalizedDefaultProperties(t.config.get("table.tableCellProperties.defaultProperties")); enableProperty(t.model.schema,t.conversion,{modelAttribute: "tableCellWidth",styleName: "width",defaultValue: e.width}); t.commands.add("tableCellWidth",new TableCellWidthCommand(t,e.width));}} class WG extends LG {constructor(t,e) {super(t,"tableCellPadding",e);}_getAttribute(t) {if (!t) {return;} const e=VG(t.getAttribute(this.attributeName)); if (e===this._defaultValue) {return;} return e;}_getValueToSet(t) {const e=MG(t,"px"); if (e===this._defaultValue) {return;} return e;}} class qG extends LG {constructor(t,e) {super(t,"tableCellHeight",e);}_getValueToSet(t) {const e=MG(t,"px"); if (e===this._defaultValue) {return;} return e;}} class UG extends LG {constructor(t,e) {super(t,"tableCellBackgroundColor",e);}} class $G extends LG {constructor(t,e) {super(t,"tableCellVerticalAlignment",e);}} class GG extends LG {constructor(t,e) {super(t,"tableCellHorizontalAlignment",e);}} class KG extends LG {constructor(t,e) {super(t,"tableCellBorderStyle",e);}_getAttribute(t) {if (!t) {return;} const e=VG(t.getAttribute(this.attributeName)); if (e===this._defaultValue) {return;} return e;}} class ZG extends LG {constructor(t,e) {super(t,"tableCellBorderColor",e);}_getAttribute(t) {if (!t) {return;} const e=VG(t.getAttribute(this.attributeName)); if (e===this._defaultValue) {return;} return e;}} class JG extends LG {constructor(t,e) {super(t,"tableCellBorderWidth",e);}_getAttribute(t) {if (!t) {return;} const e=VG(t.getAttribute(this.attributeName)); if (e===this._defaultValue) {return;} return e;}_getValueToSet(t) {const e=MG(t,"px"); if (e===this._defaultValue) {return;} return e;}} const YG=/^(top|middle|bottom)$/; const QG=/^(left|center|right|justify)$/; class XG extends (null&&Plugin) {static get pluginName() {return "TableCellPropertiesEditing";} static get requires() {return [TableEditing,TableCellWidthEditing];}init() {const t=this.editor; const e=t.model.schema; const n=t.conversion; t.config.define("table.tableCellProperties.defaultProperties",{}); const o=getNormalizedDefaultProperties(t.config.get("table.tableCellProperties.defaultProperties"),{includeVerticalAlignmentProperty: true,includeHorizontalAlignmentProperty: true,includePaddingProperty: true,isRightToLeftContent: t.locale.contentLanguageDirection==="rtl"}); t.data.addStyleProcessorRules(addBorderRules); tK(e,n,{color: o.borderColor,style: o.borderStyle,width: o.borderWidth}); t.commands.add("tableCellBorderStyle",new TableCellBorderStyleCommand(t,o.borderStyle)); t.commands.add("tableCellBorderColor",new TableCellBorderColorCommand(t,o.borderColor)); t.commands.add("tableCellBorderWidth",new TableCellBorderWidthCommand(t,o.borderWidth)); enableProperty(e,n,{modelAttribute: "tableCellHeight",styleName: "height",defaultValue: o.height}); t.commands.add("tableCellHeight",new TableCellHeightCommand(t,o.height)); t.data.addStyleProcessorRules(addPaddingRules); enableProperty(e,n,{modelAttribute: "tableCellPadding",styleName: "padding",reduceBoxSides: true,defaultValue: o.padding}); t.commands.add("tableCellPadding",new TableCellPaddingCommand(t,o.padding)); t.data.addStyleProcessorRules(addBackgroundRules); enableProperty(e,n,{modelAttribute: "tableCellBackgroundColor",styleName: "background-color",defaultValue: o.backgroundColor}); t.commands.add("tableCellBackgroundColor",new TableCellBackgroundColorCommand(t,o.backgroundColor)); eK(e,n,o.horizontalAlignment); t.commands.add("tableCellHorizontalAlignment",new TableCellHorizontalAlignmentCommand(t,o.horizontalAlignment)); nK(e,n,o.verticalAlignment); t.commands.add("tableCellVerticalAlignment",new TableCellVerticalAlignmentCommand(t,o.verticalAlignment));}} function tK(t,e,n) {const o={width: "tableCellBorderWidth",color: "tableCellBorderColor",style: "tableCellBorderStyle"}; t.extend("tableCell",{allowAttributes: Object.values(o)}); upcastBorderStyles(e,"td",o,n); upcastBorderStyles(e,"th",o,n); downcastAttributeToStyle(e,{modelElement: "tableCell",modelAttribute: o.style,styleName: "border-style"}); downcastAttributeToStyle(e,{modelElement: "tableCell",modelAttribute: o.color,styleName: "border-color"}); downcastAttributeToStyle(e,{modelElement: "tableCell",modelAttribute: o.width,styleName: "border-width"});} function eK(t,e,n) {t.extend("tableCell",{allowAttributes: ["tableCellHorizontalAlignment"]}); e.for("downcast").attributeToAttribute({model: {name: "tableCell",key: "tableCellHorizontalAlignment"},view: t => ({key: "style",value: {"text-align": t}})}); e.for("upcast").attributeToAttribute({view: {name: /^(td|th)$/,styles: {"text-align": QG}},model: {key: "tableCellHorizontalAlignment",value: t => {const e=t.getStyle("text-align"); return e===n?null:e;}}}).attributeToAttribute({view: {name: /^(td|th)$/,attributes: {align: QG}},model: {key: "tableCellHorizontalAlignment",value: t => {const e=t.getAttribute("align"); return e===n?null:e;}}});} function nK(t,e,n) {t.extend("tableCell",{allowAttributes: ["tableCellVerticalAlignment"]}); e.for("downcast").attributeToAttribute({model: {name: "tableCell",key: "tableCellVerticalAlignment"},view: t => ({key: "style",value: {"vertical-align": t}})}); e.for("upcast").attributeToAttribute({view: {name: /^(td|th)$/,styles: {"vertical-align": YG}},model: {key: "tableCellVerticalAlignment",value: t => {const e=t.getStyle("vertical-align"); return e===n?null:e;}}}).attributeToAttribute({view: {name: /^(td|th)$/,attributes: {valign: YG}},model: {key: "tableCellVerticalAlignment",value: t => {const e=t.getAttribute("valign"); return e===n?null:e;}}});} class oK extends (null&&Plugin) {static get pluginName() {return "TableCellProperties";} static get requires() {return [TableCellPropertiesEditing,TableCellPropertiesUI];}} class iK extends yd {constructor(t,e,n) {super(t); this.attributeName=e; this._defaultValue=n;}refresh() {const t=this.editor; const e=t.model.document.selection; const n=oq(e); this.isEnabled=!!n; this.value=this._getValue(n);}execute(t={}) {const e=this.editor.model; const n=e.document.selection; const {value: o,batch: i}=t; const r=oq(n); const s=this._getValueToSet(o); e.enqueueChange(i,(t => {if (s) {t.setAttribute(this.attributeName,s,r);} else {t.removeAttribute(this.attributeName,r);}}));}_getValue(t) {if (!t) {return;} const e=t.getAttribute(this.attributeName); if (e===this._defaultValue) {return;} return e;}_getValueToSet(t) {if (t===this._defaultValue) {return;} return t;}} class rK extends iK {constructor(t,e) {super(t,"tableBackgroundColor",e);}} class sK extends iK {constructor(t,e) {super(t,"tableBorderColor",e);}_getValue(t) {if (!t) {return;} const e=VG(t.getAttribute(this.attributeName)); if (e===this._defaultValue) {return;} return e;}} class aK extends iK {constructor(t,e) {super(t,"tableBorderStyle",e);}_getValue(t) {if (!t) {return;} const e=VG(t.getAttribute(this.attributeName)); if (e===this._defaultValue) {return;} return e;}} class cK extends iK {constructor(t,e) {super(t,"tableBorderWidth",e);}_getValue(t) {if (!t) {return;} const e=VG(t.getAttribute(this.attributeName)); if (e===this._defaultValue) {return;} return e;}_getValueToSet(t) {const e=MG(t,"px"); if (e===this._defaultValue) {return;} return e;}} class lK extends iK {constructor(t,e) {super(t,"tableWidth",e);}_getValueToSet(t) {t=MG(t,"px"); if (t===this._defaultValue) {return;} return t;}} class dK extends iK {constructor(t,e) {super(t,"tableHeight",e);}_getValueToSet(t) {t=MG(t,"px"); if (t===this._defaultValue) {return;} return t;}} class uK extends iK {constructor(t,e) {super(t,"tableAlignment",e);}} const hK=/^(left|center|right)$/; const gK=/^(left|none|right)$/; class fK extends (null&&Plugin) {static get pluginName() {return "TablePropertiesEditing";} static get requires() {return [TableEditing];}init() {const t=this.editor; const e=t.model.schema; const n=t.conversion; t.config.define("table.tableProperties.defaultProperties",{}); const o=getNormalizedDefaultProperties(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty: true}); t.data.addStyleProcessorRules(addBorderRules); mK(e,n,{color: o.borderColor,style: o.borderStyle,width: o.borderWidth}); t.commands.add("tableBorderColor",new TableBorderColorCommand(t,o.borderColor)); t.commands.add("tableBorderStyle",new TableBorderStyleCommand(t,o.borderStyle)); t.commands.add("tableBorderWidth",new TableBorderWidthCommand(t,o.borderWidth)); pK(e,n,o.alignment); t.commands.add("tableAlignment",new TableAlignmentCommand(t,o.alignment)); bK(e,n,{modelAttribute: "tableWidth",styleName: "width",defaultValue: o.width}); t.commands.add("tableWidth",new TableWidthCommand(t,o.width)); bK(e,n,{modelAttribute: "tableHeight",styleName: "height",defaultValue: o.height}); t.commands.add("tableHeight",new TableHeightCommand(t,o.height)); t.data.addStyleProcessorRules(addBackgroundRules); kK(e,n,{modelAttribute: "tableBackgroundColor",styleName: "background-color",defaultValue: o.backgroundColor}); t.commands.add("tableBackgroundColor",new TableBackgroundColorCommand(t,o.backgroundColor));}} function mK(t,e,n) {const o={width: "tableBorderWidth",color: "tableBorderColor",style: "tableBorderStyle"}; t.extend("table",{allowAttributes: Object.values(o)}); upcastBorderStyles(e,"table",o,n); downcastTableAttribute(e,{modelAttribute: o.color,styleName: "border-color"}); downcastTableAttribute(e,{modelAttribute: o.style,styleName: "border-style"}); downcastTableAttribute(e,{modelAttribute: o.width,styleName: "border-width"});} function pK(t,e,n) {t.extend("table",{allowAttributes: ["tableAlignment"]}); e.for("downcast").attributeToAttribute({model: {name: "table",key: "tableAlignment"},view: t => ({key: "style",value: {float: t==="center"?"none":t}}),converterPriority: "high"}); e.for("upcast").attributeToAttribute({view: {name: /^(table|figure)$/,styles: {float: gK}},model: {key: "tableAlignment",value: t => {let e=t.getStyle("float"); if (e==="none") {e="center";} return e===n?null:e;}}}).attributeToAttribute({view: {attributes: {align: hK}},model: {name: "table",key: "tableAlignment",value: t => {const e=t.getAttribute("align"); return e===n?null:e;}}});} function kK(t,e,n) {const {modelAttribute: o}=n; t.extend("table",{allowAttributes: [o]}); upcastStyleToAttribute(e,{viewElement: "table",...n}); downcastTableAttribute(e,n);} function bK(t,e,n) {const {modelAttribute: o}=n; t.extend("table",{allowAttributes: [o]}); upcastStyleToAttribute(e,{viewElement: /^(table|figure)$/,shouldUpcast: t => !(t.name=="table"&&t.parent.name=="figure"),...n}); downcastAttributeToStyle(e,{modelElement: "table",...n});} const wK=n(8252); const _K={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; _K.insert="head"; _K.singleton=true; const CK=Id()(wK.A,_K); const AK=wK.A.locals||{}; const vK={left: bA.objectLeft,center: bA.objectCenter,right: bA.objectRight}; class yK extends XA {constructor(t,e) {super(t); this.set({borderStyle: "",borderWidth: "",borderColor: "",backgroundColor: "",width: "",height: "",alignment: ""}); this.options=e; const {borderStyleDropdown: n,borderWidthInput: o,borderColorInput: i,borderRowLabel: r}=this._createBorderFields(); const {backgroundRowLabel: s,backgroundInput: a}=this._createBackgroundFields(); const {widthInput: c,operatorLabel: l,heightInput: d,dimensionsLabel: u}=this._createDimensionFields(); const {alignmentToolbar: h,alignmentLabel: g}=this._createAlignmentFields(); this.focusTracker=new sd; this.keystrokes=new ad; this.children=this.createCollection(); this.borderStyleDropdown=n; this.borderWidthInput=o; this.borderColorInput=i; this.backgroundInput=a; this.widthInput=c; this.heightInput=d; this.alignmentToolbar=h; const {saveButtonView: f,cancelButtonView: m}=this._createActionButtons(); this.saveButtonView=f; this.cancelButtonView=m; this._focusables=new wA; this._focusCycler=new Fy({focusables: this._focusables,focusTracker: this.focusTracker,keystrokeHandler: this.keystrokes,actions: {focusPrevious: "shift + tab",focusNext: "tab"}}); this.children.add(new gD(t,{label: this.t("Table properties")})); this.children.add(new dG(t,{labelView: r,children: [r,n,i,o],class: "ck-table-form__border-row"})); this.children.add(new dG(t,{labelView: s,children: [s,a],class: "ck-table-form__background-row"})); this.children.add(new dG(t,{children: [new dG(t,{labelView: u,children: [u,c,l,d],class: "ck-table-form__dimensions-row"}),new dG(t,{labelView: g,children: [g,h],class: "ck-table-properties-form__alignment-row"})]})); this.children.add(new dG(t,{children: [this.saveButtonView,this.cancelButtonView],class: "ck-table-form__action-row"})); this.setTemplate({tag: "form",attributes: {class: ["ck","ck-form","ck-table-form","ck-table-properties-form"],tabindex: "-1"},children: this.children});}render() {super.render(); i({view: this}); [this.borderColorInput,this.backgroundInput].forEach((t => {t.fieldView.focusCycler.on("forwardCycle",(t => {this._focusCycler.focusNext(); t.stop();})); t.fieldView.focusCycler.on("backwardCycle",(t => {this._focusCycler.focusPrevious(); t.stop();}));})); [this.borderStyleDropdown,this.borderColorInput,this.borderWidthInput,this.backgroundInput,this.widthInput,this.heightInput,this.alignmentToolbar,this.saveButtonView,this.cancelButtonView].forEach((t => {this._focusables.add(t); this.focusTracker.add(t.element);})); this.keystrokes.listenTo(this.element);}destroy() {super.destroy(); this.focusTracker.destroy(); this.keystrokes.destroy();}focus() {this._focusCycler.focusFirst();}_createBorderFields() {const t=this.options.defaultTableProperties; const e={style: t.borderStyle,width: t.borderWidth,color: t.borderColor}; const n=oG({colorConfig: this.options.borderColors,columns: 5,defaultColorValue: e.color,colorPickerConfig: this.options.colorPickerConfig}); const o=this.locale; const i=this.t; const r=i("Style"); const s=new iv(o); s.text=i("Border"); const a=K$(i); const c=new hy(o,zx); c.set({label: r,class: "ck-table-form__border-style"}); c.fieldView.buttonView.set({ariaLabel: r,ariaLabelledBy: undefined,isOn: false,withText: true,tooltip: r}); c.fieldView.buttonView.bind("label").to(this,"borderStyle",(t => a[t?t:"none"])); c.fieldView.on("execute",(t => {this.borderStyle=t.source._borderStyleValue;})); c.bind("isEmpty").to(this,"borderStyle",(t => !t)); yx(c.fieldView,tG(this,e.style),{role: "menu",ariaLabel: r}); const l=new hy(o,Mx); l.set({label: i("Width"),class: "ck-table-form__border-width"}); l.fieldView.bind("value").to(this,"borderWidth"); l.bind("isEnabled").to(this,"borderStyle",xK); l.fieldView.on("input",(() => {this.borderWidth=l.fieldView.element.value;})); const d=new hy(o,n); d.set({label: i("Color"),class: "ck-table-form__border-color"}); d.fieldView.bind("value").to(this,"borderColor"); d.bind("isEnabled").to(this,"borderStyle",xK); d.fieldView.on("input",(() => {this.borderColor=d.fieldView.value;})); this.on("change:borderStyle",((t,n,o,i) => {if (!xK(o)) {this.borderColor=""; this.borderWidth="";} if (!xK(i)) {this.borderColor=e.color; this.borderWidth=e.width;}})); return {borderRowLabel: s,borderStyleDropdown: c,borderColorInput: d,borderWidthInput: l};}_createBackgroundFields() {const t=this.locale; const e=this.t; const n=new iv(t); n.text=e("Background"); const o=oG({colorConfig: this.options.backgroundColors,columns: 5,defaultColorValue: this.options.defaultTableProperties.backgroundColor,colorPickerConfig: this.options.colorPickerConfig}); const i=new hy(t,o); i.set({label: e("Color"),class: "ck-table-properties-form__background"}); i.fieldView.bind("value").to(this,"backgroundColor"); i.fieldView.on("input",(() => {this.backgroundColor=i.fieldView.value;})); return {backgroundRowLabel: n,backgroundInput: i};}_createDimensionFields() {const t=this.locale; const e=this.t; const n=new iv(t); n.text=e("Dimensions"); const o=new hy(t,Mx); o.set({label: e("Width"),class: "ck-table-form__dimensions-row__width"}); o.fieldView.bind("value").to(this,"width"); o.fieldView.on("input",(() => {this.width=o.fieldView.element.value;})); const i=new XA(t); i.setTemplate({tag: "span",attributes: {class: ["ck-table-form__dimension-operator"]},children: [{text: "×"}]}); const r=new hy(t,Mx); r.set({label: e("Height"),class: "ck-table-form__dimensions-row__height"}); r.fieldView.bind("value").to(this,"height"); r.fieldView.on("input",(() => {this.height=r.fieldView.element.value;})); return {dimensionsLabel: n,widthInput: o,operatorLabel: i,heightInput: r};}_createAlignmentFields() {const t=this.locale; const e=this.t; const n=new iv(t); n.text=e("Alignment"); const o=new Jy(t); o.set({isCompact: true,ariaLabel: e("Table alignment toolbar")}); eG({view: this,icons: vK,toolbar: o,labels: this._alignmentLabels,propertyName: "alignment",defaultValue: this.options.defaultTableProperties.alignment}); return {alignmentLabel: n,alignmentToolbar: o};}_createActionButtons() {const t=this.locale; const e=this.t; const n=new Ev(t); const o=new Ev(t); const i=[this.borderWidthInput,this.borderColorInput,this.backgroundInput,this.widthInput,this.heightInput]; n.set({label: e("Save"),icon: bA.check,class: "ck-button-save",type: "submit",withText: true}); n.bind("isEnabled").toMany(i,"errorText",((...t) => t.every((t => !t)))); o.set({label: e("Cancel"),icon: bA.cancel,class: "ck-button-cancel",withText: true}); o.delegate("execute").to(this,"cancel"); return {saveButtonView: n,cancelButtonView: o};} get _alignmentLabels() {const t=this.locale; const e=this.t; const n=e("Align table to the left"); const o=e("Center table"); const i=e("Align table to the right"); if (t.uiLanguageDirection==="rtl") {return {right: i,center: o,left: n};} return {left: n,center: o,right: i};}} function xK(t) {return t!=="none";} const EK='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8 2v5h4V2h1v5h5v1h-5v4h.021l-.172.351-1.916.28-.151.027c-.287.063-.54.182-.755.341L8 13v5H7v-5H2v-1h5V8H2V7h5V2h1zm4 6H8v4h4V8z" opacity=".6"/><path d="m15.5 11.5 1.323 2.68 2.957.43-2.14 2.085.505 2.946L15.5 18.25l-2.645 1.39.505-2.945-2.14-2.086 2.957-.43L15.5 11.5zM17 1a2 2 0 0 1 2 2v9.475l-.85-.124-.857-1.736a2.048 2.048 0 0 0-.292-.44L17 3H3v14h7.808l.402.392L10.935 19H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14z"/></svg>'; const DK=500; const BK={borderStyle: "tableBorderStyle",borderColor: "tableBorderColor",borderWidth: "tableBorderWidth",backgroundColor: "tableBackgroundColor",width: "tableWidth",height: "tableHeight",alignment: "tableAlignment"}; class TK extends Ad {static get requires() {return [qB];} static get pluginName() {return "TablePropertiesUI";}constructor(t) {super(t); this.view=null; t.config.define("table.tableProperties",{borderColors: nG,backgroundColors: nG});}init() {const t=this.editor; const e=t.t; this._defaultTableProperties=FG(t.config.get("table.tableProperties.defaultProperties"),{includeAlignmentProperty: true}); this._balloon=t.plugins.get(qB); t.ui.componentFactory.add("tableProperties",(n => {const o=new Ev(n); o.set({label: e("Table properties"),icon: EK,tooltip: true}); this.listenTo(o,"execute",(() => this._showView())); const i=Object.values(BK).map((e => t.commands.get(e))); o.bind("isEnabled").toMany(i,"isEnabled",((...t) => t.some((t => t)))); return o;}));}destroy() {super.destroy(); if (this.view) {this.view.destroy();}}_createPropertiesView() {const e=this.editor; const n=e.config.get("table.tableProperties"); const o=Hv(n.borderColors); const i=Lv(e.locale,o); const r=Hv(n.backgroundColors); const s=Lv(e.locale,r); const a=n.colorPicker!==false; const c=new yK(e.locale,{borderColors: i,backgroundColors: s,defaultTableProperties: this._defaultTableProperties,colorPickerConfig: a?n.colorPicker||{}:false}); const l=e.t; c.render(); this.listenTo(c,"submit",(() => {this._hideView();})); this.listenTo(c,"cancel",(() => {if (this._undoStepBatch.operations.length) {e.execute("undo",this._undoStepBatch);} this._hideView();})); c.keystrokes.set("Esc",((t,e) => {this._hideView(); e();})); t({emitter: c,activator: () => this._isViewInBalloon,contextElements: [this._balloon.view.element],callback: () => this._hideView()}); const d=Z$(l); const u=J$(l); c.on("change:borderStyle",this._getPropertyChangeCallback("tableBorderStyle")); c.on("change:borderColor",this._getValidatedPropertyChangeCallback({viewField: c.borderColorInput,commandName: "tableBorderColor",errorText: d,validator: Y$})); c.on("change:borderWidth",this._getValidatedPropertyChangeCallback({viewField: c.borderWidthInput,commandName: "tableBorderWidth",errorText: u,validator: X$})); c.on("change:backgroundColor",this._getValidatedPropertyChangeCallback({viewField: c.backgroundInput,commandName: "tableBackgroundColor",errorText: d,validator: Y$})); c.on("change:width",this._getValidatedPropertyChangeCallback({viewField: c.widthInput,commandName: "tableWidth",errorText: u,validator: Q$})); c.on("change:height",this._getValidatedPropertyChangeCallback({viewField: c.heightInput,commandName: "tableHeight",errorText: u,validator: Q$})); c.on("change:alignment",this._getPropertyChangeCallback("tableAlignment")); return c;}_fillViewFormFromCommandValues() {const t=this.editor.commands; const e=t.get("tableBorderStyle"); Object.entries(BK).map((([e,n]) => {const o=e; const i=this._defaultTableProperties[o]||""; return [o,t.get(n).value||i];})).forEach((([t,n]) => {if ((t==="borderColor"||t==="borderWidth")&&e.value==="none") {return;} this.view.set(t,n);})); this._isReady=true;}_showView() {const t=this.editor; if (!this.view) {this.view=this._createPropertiesView();} this.listenTo(t.ui,"update",(() => {this._updateView();})); this._fillViewFormFromCommandValues(); this._balloon.add({view: this.view,position: TG(t)}); this._undoStepBatch=t.model.createBatch(); this.view.focus();}_hideView() {const t=this.editor; this.stopListening(t.ui,"update"); this._isReady=false; this.view.saveButtonView.focus(); this._balloon.remove(this.view); this.editor.editing.view.focus();}_updateView() {const t=this.editor; const e=t.editing.view.document; if (!F$(e.selection)) {this._hideView();} else if (this._isViewVisible) {BG(t,"table");}} get _isViewVisible() {return !!this.view&&this._balloon.visibleView===this.view;} get _isViewInBalloon() {return !!this.view&&this._balloon.hasView(this.view);}_getPropertyChangeCallback(t) {return (e,n,o) => {if (!this._isReady) {return;} this.editor.execute(t,{value: o,batch: this._undoStepBatch});};}_getValidatedPropertyChangeCallback(t) {const {commandName: e,viewField: n,validator: o,errorText: i}=t; const r=mf((() => {n.errorText=i;}),DK); return (t,i,s) => {r.cancel(); if (!this._isReady) {return;} if (o(s)) {this.editor.execute(e,{value: s,batch: this._undoStepBatch}); n.errorText=null;} else {r();}};}} class SK extends (null&&Plugin) {static get pluginName() {return "TableProperties";} static get requires() {return [TablePropertiesEditing,TablePropertiesUI];}} function IK(t) {t.document.registerPostFixer((e => PK(e,t)));} function PK(t,e) {const n=e.document.differ.getChanges(); let o=false; for (const e of n) {if (e.type!="insert") {continue;} const n=e.position.parent; if (n.is("element","table")||e.name=="table") {const i=e.name=="table"?e.position.nodeAfter:n; const r=Array.from(i.getChildren()).filter((t => t.is("element","caption"))); const s=r.shift(); if (!s) {continue;} for (const e of r) {t.move(t.createRangeIn(e),s,"end"); t.remove(e);} if (s.nextSibling) {t.move(t.createRangeOn(s),i,"end"); o=true;}o=!!r.length||o;}} return o;} function RK(t) {return !!t&&t.is("element","table");} function VK(t) {for (const e of t.getChildren()) {if (e.is("element","caption")) {return e;}} return null;} function MK(t) {const e=getSelectionAffectedTable(t); if (!e) {return null;} return VK(e);} function FK(t) {const e=t.parent; if (t.name=="figcaption"&&e&&e.is("element","figure")&&e.hasClass("table")) {return {name: true};} if (t.name=="caption"&&e&&e.is("element","table")) {return {name: true};} return null;} class OK extends yd {refresh() {const t=this.editor; const e=oq(t.model.document.selection); this.isEnabled=!!e; if (!this.isEnabled) {this.value=false;} else {this.value=!!VK(e);}}execute({focusCaptionOnShow: t=false}={}) {this.editor.model.change((e => {if (this.value) {this._hideTableCaption(e);} else {this._showTableCaption(e,t);}}));}_showTableCaption(t,e) {const n=this.editor.model; const o=oq(n.document.selection); const i=this.editor.plugins.get("TableCaptionEditing"); const r=i._getSavedCaption(o); const s=r||t.createElement("caption"); n.insertContent(s,o,"end"); if (e) {t.setSelection(s,"in");}}_hideTableCaption(t) {const e=this.editor.model; const n=oq(e.document.selection); const o=this.editor.plugins.get("TableCaptionEditing"); const i=VK(n); o._saveCaption(n,i); e.deleteContent(t.createSelection(i,"on"));}} class zK extends Ad {static get pluginName() {return "TableCaptionEditing";}constructor(t) {super(t); this._savedCaptionsMap=new WeakMap;}init() {const t=this.editor; const e=t.model.schema; const n=t.editing.view; const o=t.t; if (!e.isRegistered("caption")) {e.register("caption",{allowIn: "table",allowContentOf: "$block",isLimit: true});} else {e.extend("caption",{allowIn: "table"});}t.commands.add("toggleTableCaption",new OK(this.editor)); t.conversion.for("upcast").elementToElement({view: FK,model: "caption"}); t.conversion.for("dataDowncast").elementToElement({model: "caption",view: (t,{writer: e}) => {if (!RK(t.parent)) {return null;} return e.createContainerElement("figcaption");}}); t.conversion.for("editingDowncast").elementToElement({model: "caption",view: (t,{writer: e}) => {if (!RK(t.parent)) {return null;} const i=e.createEditableElement("figcaption"); e.setCustomProperty("tableCaption",true,i); i.placeholder=o("Enter table caption"); zd({view: n,element: i,keepOnFocus: true}); return AM(i,e);}}); IK(t.model);}_getSavedCaption(t) {const e=this._savedCaptionsMap.get(t); return e?Fm.fromJSON(e):null;}_saveCaption(t,e) {this._savedCaptionsMap.set(t,e.toJSON());}} class NK extends (null&&Plugin) {static get pluginName() {return "TableCaptionUI";}init() {const t=this.editor; const e=t.editing.view; const n=t.t; t.ui.componentFactory.add("toggleTableCaption",(o => {const i=t.commands.get("toggleTableCaption"); const r=new ButtonView(o); r.set({icon: icons.caption,tooltip: true,isToggleable: true}); r.bind("isOn","isEnabled").to(i,"value","isEnabled"); r.bind("label").to(i,"value",(t => t?n("Toggle caption off"):n("Toggle caption on"))); this.listenTo(r,"execute",(() => {t.execute("toggleTableCaption",{focusCaptionOnShow: true}); if (i.value) {const n=getCaptionFromModelSelection(t.model.document.selection); const o=t.editing.mapper.toViewElement(n); if (!o) {return;}e.scrollToTheSelection(); e.change((t => {t.addClass("table__caption_highlighted",o);}));}t.editing.view.focus();})); return r;}));}} const LK=n(5513); const HK={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; HK.insert="head"; HK.singleton=true; const jK=Id()(LK.A,HK); const WK=LK.A.locals||{}; class qK extends (null&&Plugin) {static get pluginName() {return "TableCaption";} static get requires() {return [TableCaptionEditing,TableCaptionUI];}} class UK extends yd {refresh() {this.isEnabled=true;}execute(t={}) {const {model: e,plugins: n}=this.editor; let {table: o=e.document.selection.getSelectedElement(),columnWidths: i,tableWidth: r}=t; if (i) {i=Array.isArray(i)?i:i.split(",");}e.change((t => {if (r) {t.setAttribute("tableWidth",r,o);} else {t.removeAttribute("tableWidth",o);} const e=n.get("TableColumnResizeEditing").getColumnGroupElement(o); if (!i&&!e) {return;} if (!i) {return t.remove(e);} const s=cU(i); if (!e) {const e=t.createElement("tableColumnGroup"); s.forEach((n => t.appendElement("tableColumn",{columnWidth: n},e))); t.append(e,o);} else {Array.from(e.getChildren()).forEach(((e,n) => t.setAttribute("columnWidth",s[n],e)));}}));}} function $K(t) {return e => e.on("element:colgroup",((e,n,o) => {const i=n.modelCursor.findAncestor("table"); const r=hU(i); if (!r) {return;} const s=gU(r); const a=t.getColumns(i); let c=mU(r,o.writer); c=Array.from({length: a},((t,e) => c[e]||"auto")); if (c.length!=s.length||c.includes("auto")) {uU(s,r,cU(c),o.writer);}}),{priority: "low"});} function GK() {return t => t.on("insert:table",((t,e,n) => {const o=n.writer; const i=e.item; const r=n.mapper.toViewElement(i); const s=r.is("element","table")?r:Array.from(r.getChildren()).find((t => t.is("element","table"))); const a=hU(i); if (a) {o.addClass("ck-table-resized",s);} else {o.removeClass("ck-table-resized",s);}}),{priority: "low"});} class KK extends Ad {static get requires() {return [XU,pU];} static get pluginName() {return "TableColumnResizeEditing";}constructor(t) {super(t); this._isResizingActive=false; this.set("_isResizingAllowed",true); this._resizingData=null; this._domEmitter=new (Ya()); this._tableUtilsPlugin=t.plugins.get("TableUtils"); this.on("change:_isResizingAllowed",((e,n,o) => {const i=o?"removeClass":"addClass"; t.editing.view.change((e => {for (const n of t.editing.view.document.roots) {e[i]("ck-column-resize_disabled",t.editing.view.document.getRoot(n.rootName));}}));}));}init() {this._extendSchema(); this._registerPostFixer(); this._registerConverters(); this._registerResizingListeners(); this._registerResizerInserter(); const t=this.editor; const e=t.plugins.get("TableColumnResize"); const n=t.plugins.get("TableEditing"); n.registerAdditionalSlot({filter: t => t.is("element","tableColumnGroup"),positionOffset: 0}); const o=new UK(t); t.commands.add("resizeTableWidth",o); t.commands.add("resizeColumnWidths",o); this.bind("_isResizingAllowed").to(t,"isReadOnly",e,"isEnabled",o,"isEnabled",((t,e,n) => !t&&e&&n));}destroy() {this._domEmitter.stopListening(); super.destroy();}getColumnGroupElement(t) {return hU(t);}getTableColumnElements(t) {return gU(t);}getTableColumnsWidths(t) {return fU(t);}_extendSchema() {this.editor.model.schema.extend("table",{allowAttributes: ["tableWidth"]}); this.editor.model.schema.register("tableColumnGroup",{allowIn: "table",isLimit: true}); this.editor.model.schema.register("tableColumn",{allowIn: "tableColumnGroup",allowAttributes: ["columnWidth","colSpan"],isLimit: true});}_registerPostFixer() {const t=this.editor; const e=t.model; e.document.registerPostFixer((t => {let o=false; for (const i of Qq(e)) {const e=this.getColumnGroupElement(i); const r=this.getTableColumnElements(e); const s=this.getTableColumnsWidths(e); let a=cU(s); a=n(a,i,this); if (Ob(s,a)) {continue;}uU(r,e,a,t); o=true;} return o;})); function n(t,e,n) {const i=n._tableUtilsPlugin.getColumns(e); const r=i-t.length; if (r===0) {return t;} const s=t.map((t => Number(t.replace("%","")))); const a=o(n.editor.model.document.differ,e); for (const t of a) {const o=i-s.length; if (o===0) {continue;} const r=o>0; const a=n._tableUtilsPlugin.getCellLocation(t).column; if (r) {const t=Xq(e,n.editor); const i=sU(o,t); s.splice(a,0,...i);} else {const t=s.splice(a,Math.abs(o)); s[a]+=aU(t);}} return s.map((t => `${t}%`));} function o(t,e) {const n=new Set; for (const o of t.getChanges()) {if (o.type=="insert"&&o.position.nodeAfter&&o.position.nodeAfter.name=="tableCell"&&o.position.nodeAfter.getAncestors().includes(e)) {n.add(o.position.nodeAfter);} else if (o.type=="remove") {const t=o.position.nodeBefore||o.position.nodeAfter; if (t.name=="tableCell"&&t.getAncestors().includes(e)) {n.add(t);}}} return n;}}_registerConverters() {const t=this.editor; const e=t.conversion; e.for("upcast").attributeToAttribute({view: {name: "figure",key: "style",value: {width: /[\s\S]+/}},model: {name: "table",key: "tableWidth",value: t => t.getStyle("width")}}); e.for("downcast").attributeToAttribute({model: {name: "table",key: "tableWidth"},view: t => ({name: "figure",key: "style",value: {width: t}})}); e.elementToElement({model: "tableColumnGroup",view: "colgroup"}); e.elementToElement({model: "tableColumn",view: "col"}); e.for("downcast").add(GK()); e.for("upcast").add($K(this._tableUtilsPlugin)); e.for("upcast").attributeToAttribute({view: {name: "col",styles: {width: /.*/}},model: {key: "columnWidth",value: t => {const e=t.getStyle("width"); if (!e||!e.endsWith("%")&&!e.endsWith("pt")) {return "auto";} return e;}}}); e.for("upcast").attributeToAttribute({view: {name: "col",key: "span"},model: "colSpan"}); e.for("downcast").attributeToAttribute({model: {name: "tableColumn",key: "columnWidth"},view: t => ({key: "style",value: {width: t}})});}_registerResizingListeners() {const t=this.editor.editing.view; t.addObserver(x$); t.document.on("mousedown",this._onMouseDownHandler.bind(this),{priority: "high"}); this._domEmitter.listenTo(nc.window.document,"mousemove",tB(this._onMouseMoveHandler.bind(this),50)); this._domEmitter.listenTo(nc.window.document,"mouseup",this._onMouseUpHandler.bind(this));}_onMouseDownHandler(t,e) {const n=e.target; if (!n.hasClass("ck-table-column-resizer")) {return;} if (!this._isResizingAllowed) {return;} const o=this.editor; const i=o.editing.mapper.toModelElement(n.findAncestor("figure")); if (!o.model.canEditAt(i)) {return;}e.preventDefault(); t.stop(); const r=c(i,this._tableUtilsPlugin,o); const s=n.findAncestor("table"); const a=o.editing.view; if (!Array.from(s.getChildren()).find((t => t.is("element","colgroup")))) {a.change((t => {l(t,r,s);}));} this._isResizingActive=true; this._resizingData=this._getResizingData(e,r); a.change((t => d(t,s,this._resizingData))); function c(t,e,n) {const o=Array(e.getColumns(t)); const i=new uq(t); for (const t of i) {const e=n.editing.mapper.toViewElement(t.cell); const i=n.editing.view.domConverter.mapViewToDom(e); const r=dU(i); if (!o[t.column]||r<o[t.column]) {o[t.column]=iU(r);}} return o;} function l(t,e,n) {const o=t.createContainerElement("colgroup"); for (let n=0; n<e.length; n++) {const i=t.createEmptyElement("col"); const r=`${iU(e[n]/aU(e)*100)}%`; t.setStyle("width",r,i); t.insert(t.createPositionAt(o,"end"),i);}t.insert(t.createPositionAt(n,0),o);} function d(t,e,n) {const o=n.widths.viewFigureWidth/n.widths.viewFigureParentWidth; t.addClass("ck-table-resized",e); t.addClass("ck-table-column-resizer__active",n.elements.viewResizer); t.setStyle("width",`${iU(o*100)}%`,e.findAncestor("figure"));}}_onMouseMoveHandler(t,e) {if (!this._isResizingActive) {return;} if (!this._isResizingAllowed) {this._onMouseUpHandler(); return;} const {columnPosition: n,flags: {isRightEdge: o,isTableCentered: i,isLtrContent: r},elements: {viewFigure: s,viewLeftColumn: a,viewRightColumn: c},widths: {viewFigureParentWidth: l,tableWidth: d,leftColumnWidth: u,rightColumnWidth: h}}=this._resizingData; const g=-u+Jq; const f=o?l-d:h-Jq; const m=(r?1:-1)*(o&&i?2:1); const p=rU((e.clientX-n)*m,Math.min(g,0),Math.max(f,0)); if (p===0) {return;} this.editor.editing.view.change((t => {const e=iU((u+p)*100/d); t.setStyle("width",`${e}%`,a); if (o) {const e=iU((d+p)*100/l); t.setStyle("width",`${e}%`,s);} else {const e=iU((h-p)*100/d); t.setStyle("width",`${e}%`,c);}}));}_onMouseUpHandler() {if (!this._isResizingActive) {return;} const {viewResizer: t,modelTable: e,viewFigure: n,viewColgroup: o}=this._resizingData.elements; const i=this.editor; const r=i.editing.view; const s=this.getColumnGroupElement(e); const a=Array.from(o.getChildren()).filter((t => t.is("view:element"))); const c=s?this.getTableColumnsWidths(s):null; const l=a.map((t => t.getStyle("width"))); const d=!Ob(c,l); const u=e.getAttribute("tableWidth"); const h=n.getStyle("width"); const g=u!==h; if (d||g) {if (this._isResizingAllowed) {i.execute("resizeTableWidth",{table: e,tableWidth: `${iU(h)}%`,columnWidths: l});} else {r.change((t => {if (c) {for (const e of a) {t.setStyle("width",c.shift(),e);}} else {t.remove(o);} if (g) {if (u) {t.setStyle("width",u,n);} else {t.removeStyle("width",n);}} if (!c&&!u) {t.removeClass("ck-table-resized",[...n.getChildren()].find((t => t.name==="table")));}}));}}r.change((e => {e.removeClass("ck-table-column-resizer__active",t);})); this._isResizingActive=false; this._resizingData=null;}_getResizingData(t,e) {const n=this.editor; const o=t.domEvent.clientX; const i=t.target; const r=i.findAncestor("td")||i.findAncestor("th"); const s=n.editing.mapper.toModelElement(r); const a=s.findAncestor("table"); const c=oU(s,this._tableUtilsPlugin).rightEdge; const l=this._tableUtilsPlugin.getColumns(a)-1; const d=c===l; const u=!a.hasAttribute("tableAlignment"); const h=n.locale.contentLanguageDirection!=="rtl"; const g=r.findAncestor("table"); const f=g.findAncestor("figure"); const m=[...g.getChildren()].find((t => t.is("element","colgroup"))); const p=m.getChild(c); const k=d?undefined:m.getChild(c+1); const b=nU(n.editing.view.domConverter.mapViewToDom(f.parent)); const w=nU(n.editing.view.domConverter.mapViewToDom(f)); const _=tU(a,n); const C=e[c]; const A=d?undefined:e[c+1]; return {columnPosition: o,flags: {isRightEdge: d,isTableCentered: u,isLtrContent: h},elements: {viewResizer: i,modelTable: a,viewFigure: f,viewColgroup: m,viewLeftColumn: p,viewRightColumn: k},widths: {viewFigureParentWidth: b,viewFigureWidth: w,tableWidth: _,leftColumnWidth: C,rightColumnWidth: A}};}_registerResizerInserter() {this.editor.conversion.for("editingDowncast").add((t => {t.on("insert:tableCell",((t,e,n) => {const o=e.item; const i=n.mapper.toViewElement(o); const r=n.writer; r.insert(r.createPositionAt(i,"end"),r.createUIElement("div",{class: "ck-table-column-resizer"}));}),{priority: "lowest"});}));}} const ZK=n(9317); const JK={injectType: "singletonStyleTag",attributes: {"data-cke": true}}; JK.insert="head"; JK.singleton=true; const YK=Id()(ZK.A,JK); const QK=ZK.A.locals||{}; class XK extends (null&&Plugin) {static get requires() {return [TableColumnResizeEditing,TableCellWidthEditing];} static get pluginName() {return "TableColumnResize";}} class tZ extends fI {}tZ.builtinPlugins=[PI,uz,Hj,yP,EP,yN,RP,BR,qP,kV,lO,DO,YO,iN,gN,aL,_L,QL,XL,oL,JP,$j,oW,fO,QW,P$,kR,cO]; tZ.defaultConfig={toolbar: {items: ["heading","|","bold","italic","underline","|","insertTable","imageInsert","imageUpload","|","alignment","link","-","code","codeBlock"],shouldNotGroupWhenFull: true},language: "en",image: {toolbar: ["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side","linkImage"]}}; const eZ=tZ;})(); o=o["default"]; return o;})())));
//# sourceMappingURL=ckeditor.js.map